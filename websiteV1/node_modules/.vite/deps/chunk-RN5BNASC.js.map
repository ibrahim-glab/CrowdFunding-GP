{
  "version": 3,
  "sources": ["../../@ethersproject/logger/src.ts/_version.ts", "../../@ethersproject/logger/src.ts/index.ts", "../../@ethersproject/bytes/src.ts/_version.ts", "../../@ethersproject/bytes/src.ts/index.ts", "../../@ethersproject/bignumber/src.ts/_version.ts", "../../@ethersproject/bignumber/src.ts/bignumber.ts", "../../@ethersproject/bignumber/src.ts/fixednumber.ts", "../../@ethersproject/bignumber/src.ts/index.ts", "../../@ethersproject/properties/src.ts/_version.ts", "../../@ethersproject/properties/src.ts/index.ts", "../../@ethersproject/constants/src.ts/addresses.ts", "../../@ethersproject/constants/src.ts/bignumbers.ts", "../../@ethersproject/constants/src.ts/hashes.ts", "../../@ethersproject/constants/src.ts/strings.ts", "../../@ethersproject/constants/src.ts/index.ts", "../../@ethersproject/abstract-signer/src.ts/_version.ts", "../../@ethersproject/abstract-signer/src.ts/index.ts", "../../@ethersproject/abstract-provider/src.ts/_version.ts", "../../@ethersproject/abstract-provider/src.ts/index.ts", "../../@ethersproject/networks/src.ts/_version.ts", "../../@ethersproject/networks/src.ts/index.ts", "../../@ethersproject/base64/src.ts/browser-base64.ts", "../../@ethersproject/base64/src.ts/index.ts", "../../@ethersproject/basex/src.ts/index.ts", "../../@ethersproject/keccak256/src.ts/index.ts", "../../@ethersproject/strings/src.ts/_version.ts", "../../@ethersproject/strings/src.ts/utf8.ts", "../../@ethersproject/strings/src.ts/bytes32.ts", "../../@ethersproject/strings/src.ts/idna.ts", "../../@ethersproject/strings/src.ts/index.ts", "../../@ethersproject/hash/src.ts/id.ts", "../../@ethersproject/hash/src.ts/_version.ts", "../../@ethersproject/hash/src.ts/ens-normalize/decoder.ts", "../../@ethersproject/hash/src.ts/ens-normalize/include.ts", "../../@ethersproject/hash/src.ts/ens-normalize/lib.ts", "../../@ethersproject/hash/src.ts/namehash.ts", "../../@ethersproject/hash/src.ts/message.ts", "../../@ethersproject/rlp/src.ts/_version.ts", "../../@ethersproject/rlp/src.ts/index.ts", "../../@ethersproject/address/src.ts/_version.ts", "../../@ethersproject/address/src.ts/index.ts", "../../@ethersproject/hash/src.ts/typed-data.ts", "../../@ethersproject/hash/src.ts/index.ts", "../../@ethersproject/sha2/src.ts/types.ts", "../../@ethersproject/sha2/src.ts/_version.ts", "../../@ethersproject/sha2/src.ts/browser-sha2.ts", "../../@ethersproject/sha2/src.ts/index.ts", "../../@ethersproject/web/src.ts/_version.ts", "../../@ethersproject/web/src.ts/browser-geturl.ts", "../../@ethersproject/web/src.ts/index.ts", "../../@ethersproject/providers/src.ts/_version.ts", "../../node_modules/minimalistic-assert/index.js", "../../node_modules/minimalistic-crypto-utils/lib/utils.js", "../../node_modules/elliptic/lib/elliptic/utils.js", "../../node_modules/elliptic/lib/elliptic/curve/base.js", "../../node_modules/inherits/inherits_browser.js", "../../node_modules/elliptic/lib/elliptic/curve/short.js", "../../node_modules/elliptic/lib/elliptic/curve/index.js", "../../node_modules/elliptic/lib/elliptic/curves.js", "../../node_modules/hmac-drbg/lib/hmac-drbg.js", "../../node_modules/elliptic/lib/elliptic/ec/key.js", "../../node_modules/elliptic/lib/elliptic/ec/signature.js", "../../node_modules/elliptic/lib/elliptic/ec/index.js", "../../node_modules/elliptic/lib/elliptic.js", "../../@ethersproject/signing-key/lib.esm/elliptic.js", "../../@ethersproject/signing-key/src.ts/_version.ts", "../../@ethersproject/signing-key/src.ts/index.ts", "../../@ethersproject/transactions/src.ts/_version.ts", "../../@ethersproject/transactions/src.ts/index.ts", "../../@ethersproject/providers/src.ts/formatter.ts", "../../@ethersproject/providers/src.ts/base-provider.ts", "../../@ethersproject/providers/src.ts/json-rpc-provider.ts", "../../@ethersproject/providers/src.ts/browser-ws.ts", "../../@ethersproject/providers/src.ts/websocket-provider.ts", "../../@ethersproject/providers/src.ts/url-json-rpc-provider.ts", "../../@ethersproject/providers/src.ts/alchemy-provider.ts", "../../@ethersproject/providers/src.ts/ankr-provider.ts", "../../@ethersproject/providers/src.ts/cloudflare-provider.ts", "../../@ethersproject/providers/src.ts/etherscan-provider.ts", "../../@ethersproject/random/src.ts/_version.ts", "../../@ethersproject/random/src.ts/browser-random.ts", "../../@ethersproject/random/src.ts/shuffle.ts", "../../@ethersproject/random/src.ts/index.ts", "../../@ethersproject/providers/src.ts/fallback-provider.ts", "../../@ethersproject/providers/src.ts/browser-ipc-provider.ts", "../../@ethersproject/providers/src.ts/infura-provider.ts", "../../@ethersproject/providers/src.ts/json-rpc-batch-provider.ts", "../../@ethersproject/providers/src.ts/nodesmith-provider.ts", "../../@ethersproject/providers/src.ts/pocket-provider.ts", "../../@ethersproject/providers/src.ts/web3-provider.ts", "../../@ethersproject/providers/src.ts/index.ts"],
  "sourcesContent": ["export const version = \"logger/5.7.0\";\r\n", "\"use strict\";\r\n\r\nlet _permanentCensorErrors = false;\r\nlet _censorErrors = false;\r\n\r\nconst LogLevels: { [ name: string ]: number } = { debug: 1, \"default\": 2, info: 2, warning: 3, error: 4, off: 5 };\r\nlet _logLevel = LogLevels[\"default\"];\r\n\r\nimport { version } from \"./_version\";\r\n\r\nlet _globalLogger: Logger = null;\r\n\r\nfunction _checkNormalize(): string {\r\n    try {\r\n        const missing: Array<string> = [ ];\r\n\r\n        // Make sure all forms of normalization are supported\r\n        [\"NFD\", \"NFC\", \"NFKD\", \"NFKC\"].forEach((form) => {\r\n            try {\r\n                if (\"test\".normalize(form) !== \"test\") {\r\n                    throw new Error(\"bad normalize\");\r\n                };\r\n            } catch(error) {\r\n                missing.push(form);\r\n            }\r\n        });\r\n\r\n        if (missing.length) {\r\n            throw new Error(\"missing \" + missing.join(\", \"));\r\n        }\r\n\r\n        if (String.fromCharCode(0xe9).normalize(\"NFD\") !== String.fromCharCode(0x65, 0x0301)) {\r\n            throw new Error(\"broken implementation\")\r\n        }\r\n    } catch (error) {\r\n        return error.message;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nconst _normalizeError = _checkNormalize();\r\n\r\nexport enum LogLevel {\r\n    DEBUG    = \"DEBUG\",\r\n    INFO     = \"INFO\",\r\n    WARNING  = \"WARNING\",\r\n    ERROR    = \"ERROR\",\r\n    OFF      = \"OFF\"\r\n}\r\n\r\n\r\nexport enum ErrorCode {\r\n\r\n    ///////////////////\r\n    // Generic Errors\r\n\r\n    // Unknown Error\r\n    UNKNOWN_ERROR = \"UNKNOWN_ERROR\",\r\n\r\n    // Not Implemented\r\n    NOT_IMPLEMENTED = \"NOT_IMPLEMENTED\",\r\n\r\n    // Unsupported Operation\r\n    //   - operation\r\n    UNSUPPORTED_OPERATION = \"UNSUPPORTED_OPERATION\",\r\n\r\n    // Network Error (i.e. Ethereum Network, such as an invalid chain ID)\r\n    //   - event (\"noNetwork\" is not re-thrown in provider.ready; otherwise thrown)\r\n    NETWORK_ERROR = \"NETWORK_ERROR\",\r\n\r\n    // Some sort of bad response from the server\r\n    SERVER_ERROR = \"SERVER_ERROR\",\r\n\r\n    // Timeout\r\n    TIMEOUT = \"TIMEOUT\",\r\n\r\n    ///////////////////\r\n    // Operational  Errors\r\n\r\n    // Buffer Overrun\r\n    BUFFER_OVERRUN = \"BUFFER_OVERRUN\",\r\n\r\n    // Numeric Fault\r\n    //   - operation: the operation being executed\r\n    //   - fault: the reason this faulted\r\n    NUMERIC_FAULT = \"NUMERIC_FAULT\",\r\n\r\n\r\n    ///////////////////\r\n    // Argument Errors\r\n\r\n    // Missing new operator to an object\r\n    //  - name: The name of the class\r\n    MISSING_NEW = \"MISSING_NEW\",\r\n\r\n    // Invalid argument (e.g. value is incompatible with type) to a function:\r\n    //   - argument: The argument name that was invalid\r\n    //   - value: The value of the argument\r\n    INVALID_ARGUMENT = \"INVALID_ARGUMENT\",\r\n\r\n    // Missing argument to a function:\r\n    //   - count: The number of arguments received\r\n    //   - expectedCount: The number of arguments expected\r\n    MISSING_ARGUMENT = \"MISSING_ARGUMENT\",\r\n\r\n    // Too many arguments\r\n    //   - count: The number of arguments received\r\n    //   - expectedCount: The number of arguments expected\r\n    UNEXPECTED_ARGUMENT = \"UNEXPECTED_ARGUMENT\",\r\n\r\n\r\n    ///////////////////\r\n    // Blockchain Errors\r\n\r\n    // Call exception\r\n    //  - transaction: the transaction\r\n    //  - address?: the contract address\r\n    //  - args?: The arguments passed into the function\r\n    //  - method?: The Solidity method signature\r\n    //  - errorSignature?: The EIP848 error signature\r\n    //  - errorArgs?: The EIP848 error parameters\r\n    //  - reason: The reason (only for EIP848 \"Error(string)\")\r\n    CALL_EXCEPTION = \"CALL_EXCEPTION\",\r\n\r\n    // Insufficient funds (< value + gasLimit * gasPrice)\r\n    //   - transaction: the transaction attempted\r\n    INSUFFICIENT_FUNDS = \"INSUFFICIENT_FUNDS\",\r\n\r\n    // Nonce has already been used\r\n    //   - transaction: the transaction attempted\r\n    NONCE_EXPIRED = \"NONCE_EXPIRED\",\r\n\r\n    // The replacement fee for the transaction is too low\r\n    //   - transaction: the transaction attempted\r\n    REPLACEMENT_UNDERPRICED = \"REPLACEMENT_UNDERPRICED\",\r\n\r\n    // The gas limit could not be estimated\r\n    //   - transaction: the transaction passed to estimateGas\r\n    UNPREDICTABLE_GAS_LIMIT = \"UNPREDICTABLE_GAS_LIMIT\",\r\n\r\n    // The transaction was replaced by one with a higher gas price\r\n    //   - reason: \"cancelled\", \"replaced\" or \"repriced\"\r\n    //   - cancelled: true if reason == \"cancelled\" or reason == \"replaced\")\r\n    //   - hash: original transaction hash\r\n    //   - replacement: the full TransactionsResponse for the replacement\r\n    //   - receipt: the receipt of the replacement\r\n    TRANSACTION_REPLACED = \"TRANSACTION_REPLACED\",\r\n\r\n\r\n    ///////////////////\r\n    // Interaction Errors\r\n\r\n    // The user rejected the action, such as signing a message or sending\r\n    // a transaction\r\n    ACTION_REJECTED = \"ACTION_REJECTED\",\r\n};\r\n\r\nconst HEX = \"0123456789abcdef\";\r\n\r\nexport class Logger {\r\n    readonly version: string;\r\n\r\n    static errors = ErrorCode;\r\n\r\n    static levels = LogLevel;\r\n\r\n    constructor(version: string) {\r\n        Object.defineProperty(this, \"version\", {\r\n            enumerable: true,\r\n            value: version,\r\n            writable: false\r\n        });\r\n    }\r\n\r\n    _log(logLevel: LogLevel, args: Array<any>): void {\r\n        const level = logLevel.toLowerCase();\r\n        if (LogLevels[level] == null) {\r\n            this.throwArgumentError(\"invalid log level name\", \"logLevel\", logLevel);\r\n        }\r\n        if (_logLevel > LogLevels[level]) { return; }\r\n        console.log.apply(console, args);\r\n    }\r\n\r\n    debug(...args: Array<any>): void {\r\n        this._log(Logger.levels.DEBUG, args);\r\n    }\r\n\r\n    info(...args: Array<any>): void {\r\n        this._log(Logger.levels.INFO, args);\r\n    }\r\n\r\n    warn(...args: Array<any>): void {\r\n        this._log(Logger.levels.WARNING, args);\r\n    }\r\n\r\n    makeError(message: string, code?: ErrorCode, params?: any): Error {\r\n        // Errors are being censored\r\n        if (_censorErrors) {\r\n            return this.makeError(\"censored error\", code, { });\r\n        }\r\n\r\n        if (!code) { code = Logger.errors.UNKNOWN_ERROR; }\r\n        if (!params) { params = {}; }\r\n\r\n        const messageDetails: Array<string> = [];\r\n        Object.keys(params).forEach((key) => {\r\n            const value = params[key];\r\n            try {\r\n                if (value instanceof Uint8Array) {\r\n                    let hex = \"\";\r\n                    for (let i = 0; i < value.length; i++) {\r\n                      hex += HEX[value[i] >> 4];\r\n                      hex += HEX[value[i] & 0x0f];\r\n                    }\r\n                    messageDetails.push(key + \"=Uint8Array(0x\" + hex + \")\");\r\n                } else {\r\n                    messageDetails.push(key + \"=\" + JSON.stringify(value));\r\n                }\r\n            } catch (error) {\r\n                messageDetails.push(key + \"=\" + JSON.stringify(params[key].toString()));\r\n            }\r\n        });\r\n        messageDetails.push(`code=${ code }`);\r\n        messageDetails.push(`version=${ this.version }`);\r\n\r\n        const reason = message;\r\n\r\n        let url = \"\";\r\n\r\n        switch (code) {\r\n            case ErrorCode.NUMERIC_FAULT: {\r\n                url = \"NUMERIC_FAULT\";\r\n                const fault = message;\r\n\r\n                switch (fault) {\r\n                    case \"overflow\": case \"underflow\": case \"division-by-zero\":\r\n                        url += \"-\" + fault;\r\n                        break;\r\n                    case \"negative-power\": case \"negative-width\":\r\n                        url += \"-unsupported\";\r\n                        break;\r\n                    case \"unbound-bitwise-result\":\r\n                        url += \"-unbound-result\";\r\n                        break;\r\n                }\r\n                break;\r\n            }\r\n            case ErrorCode.CALL_EXCEPTION:\r\n            case ErrorCode.INSUFFICIENT_FUNDS:\r\n            case ErrorCode.MISSING_NEW:\r\n            case ErrorCode.NONCE_EXPIRED:\r\n            case ErrorCode.REPLACEMENT_UNDERPRICED:\r\n            case ErrorCode.TRANSACTION_REPLACED:\r\n            case ErrorCode.UNPREDICTABLE_GAS_LIMIT:\r\n                url = code;\r\n                break;\r\n        }\r\n\r\n        if (url) {\r\n            message += \" [ See: https:/\\/links.ethers.org/v5-errors-\" + url + \" ]\";\r\n        }\r\n\r\n        if (messageDetails.length) {\r\n            message += \" (\" + messageDetails.join(\", \") + \")\";\r\n        }\r\n\r\n        // @TODO: Any??\r\n        const error: any = new Error(message);\r\n        error.reason = reason;\r\n        error.code = code\r\n\r\n        Object.keys(params).forEach(function(key) {\r\n            error[key] = params[key];\r\n        });\r\n\r\n        return error;\r\n    }\r\n\r\n    throwError(message: string, code?: ErrorCode, params?: any): never {\r\n        throw this.makeError(message, code, params);\r\n    }\r\n\r\n    throwArgumentError(message: string, name: string, value: any): never {\r\n        return this.throwError(message, Logger.errors.INVALID_ARGUMENT, {\r\n            argument: name,\r\n            value: value\r\n        });\r\n    }\r\n\r\n    assert(condition: any, message: string, code?: ErrorCode, params?: any): void {\r\n        if (!!condition) { return; }\r\n        this.throwError(message, code, params);\r\n    }\r\n\r\n    assertArgument(condition: any, message: string, name: string, value: any): void {\r\n        if (!!condition) { return; }\r\n        this.throwArgumentError(message, name, value);\r\n    }\r\n\r\n    checkNormalize(message?: string): void {\r\n        if (message == null) { message = \"platform missing String.prototype.normalize\"; }\r\n        if (_normalizeError) {\r\n            this.throwError(\"platform missing String.prototype.normalize\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"String.prototype.normalize\", form: _normalizeError\r\n            });\r\n        }\r\n    }\r\n\r\n    checkSafeUint53(value: number, message?: string): void {\r\n        if (typeof(value) !== \"number\") { return; }\r\n\r\n        if (message == null) { message = \"value not safe\"; }\r\n\r\n        if (value < 0 || value >= 0x1fffffffffffff) {\r\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\r\n                operation: \"checkSafeInteger\",\r\n                fault: \"out-of-safe-range\",\r\n                value: value\r\n            });\r\n        }\r\n\r\n        if (value % 1) {\r\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\r\n                operation: \"checkSafeInteger\",\r\n                fault: \"non-integer\",\r\n                value: value\r\n            });\r\n        }\r\n    }\r\n\r\n    checkArgumentCount(count: number, expectedCount: number, message?: string): void {\r\n        if (message) {\r\n            message = \": \" + message;\r\n        } else {\r\n            message = \"\";\r\n        }\r\n\r\n        if (count < expectedCount) {\r\n            this.throwError(\"missing argument\" + message, Logger.errors.MISSING_ARGUMENT, {\r\n                count: count,\r\n                expectedCount: expectedCount\r\n            });\r\n        }\r\n\r\n        if (count > expectedCount) {\r\n            this.throwError(\"too many arguments\" + message, Logger.errors.UNEXPECTED_ARGUMENT, {\r\n                count: count,\r\n                expectedCount: expectedCount\r\n            });\r\n        }\r\n    }\r\n\r\n    checkNew(target: any, kind: any): void {\r\n        if (target === Object || target == null) {\r\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\r\n        }\r\n    }\r\n\r\n    checkAbstract(target: any, kind: any): void {\r\n        if (target === kind) {\r\n            this.throwError(\r\n                \"cannot instantiate abstract class \" + JSON.stringify(kind.name) + \" directly; use a sub-class\",\r\n                Logger.errors.UNSUPPORTED_OPERATION,\r\n                { name: target.name, operation: \"new\" }\r\n            );\r\n        } else if (target === Object || target == null) {\r\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\r\n        }\r\n    }\r\n\r\n    static globalLogger(): Logger {\r\n        if (!_globalLogger) { _globalLogger = new Logger(version); }\r\n        return _globalLogger;\r\n    }\r\n\r\n    static setCensorship(censorship: boolean, permanent?: boolean): void {\r\n        if (!censorship && permanent) {\r\n            this.globalLogger().throwError(\"cannot permanently disable censorship\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"setCensorship\"\r\n            });\r\n        }\r\n\r\n        if (_permanentCensorErrors) {\r\n            if (!censorship) { return; }\r\n            this.globalLogger().throwError(\"error censorship permanent\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"setCensorship\"\r\n            });\r\n        }\r\n\r\n        _censorErrors = !!censorship;\r\n        _permanentCensorErrors = !!permanent;\r\n    }\r\n\r\n    static setLogLevel(logLevel: LogLevel): void {\r\n        const level = LogLevels[logLevel.toLowerCase()];\r\n        if (level == null) {\r\n            Logger.globalLogger().warn(\"invalid log level - \" + logLevel);\r\n            return;\r\n        }\r\n        _logLevel = level;\r\n    }\r\n\r\n    static from(version: string): Logger {\r\n        return new Logger(version);\r\n    }\r\n}\r\n", "export const version = \"bytes/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n///////////////////////////////\r\n// Exported Types\r\n\r\nexport type Bytes = ArrayLike<number>;\r\n\r\nexport type BytesLike = Bytes | string;\r\n\r\nexport type DataOptions = {\r\n    allowMissingPrefix?: boolean;\r\n    hexPad?: \"left\" | \"right\" | null;\r\n};\r\n\r\nexport interface Hexable {\r\n    toHexString(): string;\r\n}\r\n\r\n\r\n/*\r\nexport interface HexString {\r\n    length: number;\r\n    substring: (start: number, end?: number) => string;\r\n\r\n    [index: number]: string;\r\n}\r\n*/\r\n\r\nexport type SignatureLike  = {\r\n    r: string;\r\n    s?: string;\r\n    _vs?: string,\r\n    recoveryParam?: number;\r\n    v?: number;\r\n} | BytesLike;\r\n\r\nexport interface Signature {\r\n    r: string;\r\n\r\n    s: string;\r\n    _vs: string,\r\n\r\n    recoveryParam: number;\r\n    v: number;\r\n\r\n    yParityAndS: string\r\n    compact: string;\r\n}\r\n\r\n///////////////////////////////\r\n\r\n\r\nfunction isHexable(value: any): value is Hexable {\r\n    return !!(value.toHexString);\r\n}\r\n\r\nfunction addSlice(array: Uint8Array): Uint8Array {\r\n    if (array.slice) { return array; }\r\n\r\n    array.slice = function() {\r\n        const args = Array.prototype.slice.call(arguments);\r\n        return addSlice(new Uint8Array(Array.prototype.slice.apply(array, args)));\r\n    }\r\n\r\n    return array;\r\n}\r\n\r\nexport function isBytesLike(value: any): value is BytesLike {\r\n    return ((isHexString(value) && !(value.length % 2)) || isBytes(value));\r\n}\r\n\r\nfunction isInteger(value: number) {\r\n    return (typeof(value) === \"number\" && value == value && (value % 1) === 0);\r\n}\r\n\r\nexport function isBytes(value: any): value is Bytes {\r\n    if (value == null) { return false; }\r\n\r\n    if (value.constructor === Uint8Array) { return true; }\r\n    if (typeof(value) === \"string\") { return false; }\r\n    if (!isInteger(value.length) || value.length < 0) { return false; }\r\n\r\n    for (let i = 0; i < value.length; i++) {\r\n        const v = value[i];\r\n        if (!isInteger(v) || v < 0 || v >= 256) { return false; }\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\nexport function arrayify(value: BytesLike | Hexable | number, options?: DataOptions): Uint8Array {\r\n    if (!options) { options = { }; }\r\n\r\n    if (typeof(value) === \"number\") {\r\n        logger.checkSafeUint53(value, \"invalid arrayify value\");\r\n\r\n        const result = [];\r\n        while (value) {\r\n            result.unshift(value & 0xff);\r\n            value = parseInt(String(value / 256));\r\n        }\r\n        if (result.length === 0) { result.push(0); }\r\n\r\n        return addSlice(new Uint8Array(result));\r\n    }\r\n\r\n    if (options.allowMissingPrefix && typeof(value) === \"string\" && value.substring(0, 2) !== \"0x\") {\r\n         value = \"0x\" + value;\r\n    }\r\n\r\n    if (isHexable(value)) { value = value.toHexString(); }\r\n\r\n    if (isHexString(value)) {\r\n        let hex = (<string>value).substring(2);\r\n        if (hex.length % 2) {\r\n            if (options.hexPad === \"left\") {\r\n                hex = \"0\" + hex;\r\n            } else if (options.hexPad === \"right\") {\r\n                hex += \"0\";\r\n            } else {\r\n                logger.throwArgumentError(\"hex data is odd-length\", \"value\", value);\r\n            }\r\n        }\r\n\r\n        const result = [];\r\n        for (let i = 0; i < hex.length; i += 2) {\r\n            result.push(parseInt(hex.substring(i, i + 2), 16));\r\n        }\r\n\r\n        return addSlice(new Uint8Array(result));\r\n    }\r\n\r\n    if (isBytes(value)) {\r\n        return addSlice(new Uint8Array(value));\r\n    }\r\n\r\n    return logger.throwArgumentError(\"invalid arrayify value\", \"value\", value);\r\n}\r\n\r\nexport function concat(items: ReadonlyArray<BytesLike>): Uint8Array {\r\n    const objects = items.map(item => arrayify(item));\r\n    const length = objects.reduce((accum, item) => (accum + item.length), 0);\r\n\r\n    const result = new Uint8Array(length);\r\n\r\n    objects.reduce((offset, object) => {\r\n        result.set(object, offset);\r\n        return offset + object.length;\r\n    }, 0);\r\n\r\n    return addSlice(result);\r\n}\r\n\r\nexport function stripZeros(value: BytesLike): Uint8Array {\r\n    let result: Uint8Array = arrayify(value);\r\n\r\n    if (result.length === 0) { return result; }\r\n\r\n    // Find the first non-zero entry\r\n    let start = 0;\r\n    while (start < result.length && result[start] === 0) { start++ }\r\n\r\n    // If we started with zeros, strip them\r\n    if (start) {\r\n        result = result.slice(start);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function zeroPad(value: BytesLike, length: number): Uint8Array {\r\n    value = arrayify(value);\r\n\r\n    if (value.length > length) {\r\n        logger.throwArgumentError(\"value out of range\", \"value\", arguments[0]);\r\n    }\r\n\r\n    const result = new Uint8Array(length);\r\n    result.set(value, length - value.length);\r\n    return addSlice(result);\r\n}\r\n\r\n\r\nexport function isHexString(value: any, length?: number): boolean {\r\n    if (typeof(value) !== \"string\" || !value.match(/^0x[0-9A-Fa-f]*$/)) {\r\n        return false\r\n    }\r\n    if (length && value.length !== 2 + 2 * length) { return false; }\r\n    return true;\r\n}\r\n\r\nconst HexCharacters: string = \"0123456789abcdef\";\r\n\r\nexport function hexlify(value: BytesLike | Hexable | number | bigint, options?: DataOptions): string {\r\n    if (!options) { options = { }; }\r\n\r\n    if (typeof(value) === \"number\") {\r\n        logger.checkSafeUint53(value, \"invalid hexlify value\");\r\n\r\n        let hex = \"\";\r\n        while (value) {\r\n            hex = HexCharacters[value & 0xf] + hex;\r\n            value = Math.floor(value / 16);\r\n        }\r\n\r\n        if (hex.length) {\r\n            if (hex.length % 2) { hex = \"0\" + hex; }\r\n            return \"0x\" + hex;\r\n        }\r\n\r\n        return \"0x00\";\r\n    }\r\n\r\n    if (typeof(value) === \"bigint\") {\r\n        value = value.toString(16);\r\n        if (value.length % 2) { return (\"0x0\" + value); }\r\n        return \"0x\" + value;\r\n    }\r\n\r\n    if (options.allowMissingPrefix && typeof(value) === \"string\" && value.substring(0, 2) !== \"0x\") {\r\n         value = \"0x\" + value;\r\n    }\r\n\r\n    if (isHexable(value)) { return value.toHexString(); }\r\n\r\n    if (isHexString(value)) {\r\n        if ((<string>value).length % 2) {\r\n            if (options.hexPad === \"left\") {\r\n                value = \"0x0\" + (<string>value).substring(2);\r\n            } else if (options.hexPad === \"right\") {\r\n                value += \"0\";\r\n            } else {\r\n                logger.throwArgumentError(\"hex data is odd-length\", \"value\", value);\r\n            }\r\n        }\r\n        return (<string>value).toLowerCase();\r\n    }\r\n\r\n    if (isBytes(value)) {\r\n        let result = \"0x\";\r\n        for (let i = 0; i < value.length; i++) {\r\n             let v = value[i];\r\n             result += HexCharacters[(v & 0xf0) >> 4] + HexCharacters[v & 0x0f];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    return logger.throwArgumentError(\"invalid hexlify value\", \"value\", value);\r\n}\r\n\r\n/*\r\nfunction unoddify(value: BytesLike | Hexable | number): BytesLike | Hexable | number {\r\n    if (typeof(value) === \"string\" && value.length % 2 && value.substring(0, 2) === \"0x\") {\r\n        return \"0x0\" + value.substring(2);\r\n    }\r\n    return value;\r\n}\r\n*/\r\nexport function hexDataLength(data: BytesLike) {\r\n    if (typeof(data) !== \"string\") {\r\n        data = hexlify(data);\r\n    } else if (!isHexString(data) || (data.length % 2)) {\r\n        return null;\r\n    }\r\n\r\n    return (data.length - 2) / 2;\r\n}\r\n\r\nexport function hexDataSlice(data: BytesLike, offset: number, endOffset?: number): string {\r\n    if (typeof(data) !== \"string\") {\r\n        data = hexlify(data);\r\n    } else if (!isHexString(data) || (data.length % 2)) {\r\n        logger.throwArgumentError(\"invalid hexData\", \"value\", data );\r\n    }\r\n\r\n    offset = 2 + 2 * offset;\r\n\r\n    if (endOffset != null) {\r\n        return \"0x\" + data.substring(offset, 2 + 2 * endOffset);\r\n    }\r\n\r\n    return \"0x\" + data.substring(offset);\r\n}\r\n\r\nexport function hexConcat(items: ReadonlyArray<BytesLike>): string {\r\n    let result = \"0x\";\r\n    items.forEach((item) => {\r\n        result += hexlify(item).substring(2);\r\n    });\r\n    return result;\r\n}\r\n\r\nexport function hexValue(value: BytesLike | Hexable | number | bigint): string {\r\n    const trimmed = hexStripZeros(hexlify(value, { hexPad: \"left\" }));\r\n    if (trimmed === \"0x\") { return \"0x0\"; }\r\n    return trimmed;\r\n}\r\n\r\nexport function hexStripZeros(value: BytesLike): string {\r\n    if (typeof(value) !== \"string\") { value = hexlify(value); }\r\n\r\n    if (!isHexString(value)) {\r\n        logger.throwArgumentError(\"invalid hex string\", \"value\", value);\r\n    }\r\n    value = value.substring(2);\r\n    let offset = 0;\r\n    while (offset < value.length && value[offset] === \"0\") { offset++; }\r\n    return \"0x\" + value.substring(offset);\r\n}\r\n\r\nexport function hexZeroPad(value: BytesLike, length: number): string {\r\n    if (typeof(value) !== \"string\") {\r\n        value = hexlify(value);\r\n    } else if (!isHexString(value)) {\r\n        logger.throwArgumentError(\"invalid hex string\", \"value\", value);\r\n    }\r\n\r\n    if (value.length > 2 * length + 2) {\r\n        logger.throwArgumentError(\"value out of range\", \"value\", arguments[1]);\r\n    }\r\n\r\n    while (value.length < 2 * length + 2) {\r\n        value = \"0x0\" + value.substring(2);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function splitSignature(signature: SignatureLike): Signature {\r\n\r\n    const result = {\r\n        r: \"0x\",\r\n        s: \"0x\",\r\n        _vs: \"0x\",\r\n        recoveryParam: 0,\r\n        v: 0,\r\n        yParityAndS: \"0x\",\r\n        compact: \"0x\"\r\n    };\r\n\r\n    if (isBytesLike(signature)) {\r\n        let bytes: Uint8Array = arrayify(signature);\r\n\r\n        // Get the r, s and v\r\n        if (bytes.length === 64) {\r\n            // EIP-2098; pull the v from the top bit of s and clear it\r\n            result.v = 27 + (bytes[32] >> 7);\r\n            bytes[32] &= 0x7f;\r\n\r\n            result.r = hexlify(bytes.slice(0, 32));\r\n            result.s = hexlify(bytes.slice(32, 64));\r\n\r\n        } else if (bytes.length === 65) {\r\n            result.r = hexlify(bytes.slice(0, 32));\r\n            result.s = hexlify(bytes.slice(32, 64));\r\n            result.v = bytes[64];\r\n        } else {\r\n\r\n            logger.throwArgumentError(\"invalid signature string\", \"signature\", signature);\r\n        }\r\n\r\n\r\n        // Allow a recid to be used as the v\r\n        if (result.v < 27) {\r\n            if (result.v === 0 || result.v === 1) {\r\n                result.v += 27;\r\n            } else {\r\n                logger.throwArgumentError(\"signature invalid v byte\", \"signature\", signature);\r\n            }\r\n        }\r\n\r\n        // Compute recoveryParam from v\r\n        result.recoveryParam = 1 - (result.v % 2);\r\n\r\n        // Compute _vs from recoveryParam and s\r\n        if (result.recoveryParam) { bytes[32] |= 0x80; }\r\n        result._vs = hexlify(bytes.slice(32, 64))\r\n\r\n    } else {\r\n        result.r = signature.r;\r\n        result.s = signature.s;\r\n        result.v = signature.v;\r\n        result.recoveryParam = signature.recoveryParam;\r\n        result._vs = signature._vs;\r\n\r\n        // If the _vs is available, use it to populate missing s, v and recoveryParam\r\n        // and verify non-missing s, v and recoveryParam\r\n        if (result._vs != null) {\r\n            const vs = zeroPad(arrayify(result._vs), 32);\r\n            result._vs = hexlify(vs);\r\n\r\n            // Set or check the recid\r\n            const recoveryParam = ((vs[0] >= 128) ? 1: 0);\r\n            if (result.recoveryParam == null) {\r\n                result.recoveryParam = recoveryParam;\r\n            } else if (result.recoveryParam !== recoveryParam) {\r\n                logger.throwArgumentError(\"signature recoveryParam mismatch _vs\", \"signature\", signature);\r\n            }\r\n\r\n            // Set or check the s\r\n            vs[0] &= 0x7f;\r\n            const s = hexlify(vs);\r\n            if (result.s == null) {\r\n                result.s = s;\r\n            } else if (result.s !== s) {\r\n                logger.throwArgumentError(\"signature v mismatch _vs\", \"signature\", signature);\r\n            }\r\n        }\r\n\r\n        // Use recid and v to populate each other\r\n        if (result.recoveryParam == null) {\r\n            if (result.v == null) {\r\n                logger.throwArgumentError(\"signature missing v and recoveryParam\", \"signature\", signature);\r\n            } else if (result.v === 0 || result.v === 1) {\r\n                result.recoveryParam = result.v;\r\n            } else {\r\n                result.recoveryParam = 1 - (result.v % 2);\r\n            }\r\n        } else {\r\n            if (result.v == null) {\r\n                result.v = 27 + result.recoveryParam;\r\n            } else {\r\n                const recId = (result.v === 0 || result.v === 1) ? result.v :(1 - (result.v % 2));\r\n                if (result.recoveryParam !== recId) {\r\n                    logger.throwArgumentError(\"signature recoveryParam mismatch v\", \"signature\", signature);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (result.r == null || !isHexString(result.r)) {\r\n            logger.throwArgumentError(\"signature missing or invalid r\", \"signature\", signature);\r\n        } else {\r\n            result.r = hexZeroPad(result.r, 32);\r\n        }\r\n\r\n        if (result.s == null || !isHexString(result.s)) {\r\n            logger.throwArgumentError(\"signature missing or invalid s\", \"signature\", signature);\r\n        } else {\r\n            result.s = hexZeroPad(result.s, 32);\r\n        }\r\n\r\n        const vs = arrayify(result.s);\r\n        if (vs[0] >= 128) {\r\n            logger.throwArgumentError(\"signature s out of range\", \"signature\", signature);\r\n        }\r\n        if (result.recoveryParam) { vs[0] |= 0x80; }\r\n        const _vs = hexlify(vs);\r\n\r\n        if (result._vs) {\r\n            if (!isHexString(result._vs)) {\r\n                logger.throwArgumentError(\"signature invalid _vs\", \"signature\", signature);\r\n            }\r\n            result._vs = hexZeroPad(result._vs, 32);\r\n        }\r\n\r\n        // Set or check the _vs\r\n        if (result._vs == null) {\r\n            result._vs = _vs;\r\n        } else if (result._vs !== _vs) {\r\n            logger.throwArgumentError(\"signature _vs mismatch v and s\", \"signature\", signature);\r\n        }\r\n    }\r\n\r\n    result.yParityAndS = result._vs;\r\n    result.compact = result.r + result.yParityAndS.substring(2);\r\n\r\n    return result;\r\n}\r\n\r\nexport function joinSignature(signature: SignatureLike): string {\r\n    signature = splitSignature(signature);\r\n\r\n    return hexlify(concat([\r\n         signature.r,\r\n         signature.s,\r\n         (signature.recoveryParam ? \"0x1c\": \"0x1b\")\r\n    ]));\r\n}\r\n\r\n", "export const version = \"bignumber/5.7.0\";\r\n", "\"use strict\";\r\n\r\n/**\r\n *  BigNumber\r\n *\r\n *  A wrapper around the BN.js object. We use the BN.js library\r\n *  because it is used by elliptic, so it is required regardless.\r\n *\r\n */\r\n\r\nimport _BN from \"bn.js\";\r\nimport BN = _BN.BN;\r\n\r\nimport { Bytes, Hexable, hexlify, isBytes, isHexString } from \"@ethersproject/bytes\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nconst _constructorGuard = { };\r\n\r\nconst MAX_SAFE = 0x1fffffffffffff;\r\n\r\n\r\nexport type BigNumberish = BigNumber | Bytes | bigint | string | number;\r\n\r\nexport function isBigNumberish(value: any): value is BigNumberish {\r\n    return (value != null) && (\r\n        BigNumber.isBigNumber(value) ||\r\n        (typeof(value) === \"number\" && (value % 1) === 0) ||\r\n        (typeof(value) === \"string\" && !!value.match(/^-?[0-9]+$/)) ||\r\n        isHexString(value) ||\r\n        (typeof(value) === \"bigint\") ||\r\n        isBytes(value)\r\n    );\r\n}\r\n\r\n// Only warn about passing 10 into radix once\r\nlet _warnedToStringRadix = false;\r\n\r\nexport class BigNumber implements Hexable {\r\n    readonly _hex: string;\r\n    readonly _isBigNumber: boolean;\r\n\r\n    constructor(constructorGuard: any, hex: string) {\r\n        if (constructorGuard !== _constructorGuard) {\r\n            logger.throwError(\"cannot call constructor directly; use BigNumber.from\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"new (BigNumber)\"\r\n            });\r\n        }\r\n\r\n        this._hex = hex;\r\n        this._isBigNumber = true;\r\n\r\n        Object.freeze(this);\r\n    }\r\n\r\n    fromTwos(value: number): BigNumber {\r\n        return toBigNumber(toBN(this).fromTwos(value));\r\n    }\r\n\r\n    toTwos(value: number): BigNumber {\r\n        return toBigNumber(toBN(this).toTwos(value));\r\n    }\r\n\r\n    abs(): BigNumber {\r\n        if (this._hex[0] === \"-\") {\r\n            return BigNumber.from(this._hex.substring(1));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    add(other: BigNumberish): BigNumber {\r\n        return toBigNumber(toBN(this).add(toBN(other)));\r\n    }\r\n\r\n    sub(other: BigNumberish): BigNumber {\r\n        return toBigNumber(toBN(this).sub(toBN(other)));\r\n    }\r\n\r\n    div(other: BigNumberish): BigNumber {\r\n        const o = BigNumber.from(other);\r\n        if (o.isZero()) {\r\n            throwFault(\"division-by-zero\", \"div\");\r\n        }\r\n        return toBigNumber(toBN(this).div(toBN(other)));\r\n    }\r\n\r\n    mul(other: BigNumberish): BigNumber {\r\n        return toBigNumber(toBN(this).mul(toBN(other)));\r\n    }\r\n\r\n    mod(other: BigNumberish): BigNumber {\r\n        const value = toBN(other);\r\n        if (value.isNeg()) {\r\n            throwFault(\"division-by-zero\", \"mod\");\r\n        }\r\n        return toBigNumber(toBN(this).umod(value));\r\n    }\r\n\r\n    pow(other: BigNumberish): BigNumber {\r\n        const value = toBN(other);\r\n        if (value.isNeg()) {\r\n            throwFault(\"negative-power\", \"pow\");\r\n        }\r\n        return toBigNumber(toBN(this).pow(value));\r\n    }\r\n\r\n    and(other: BigNumberish): BigNumber {\r\n        const value = toBN(other);\r\n        if (this.isNegative() || value.isNeg()) {\r\n            throwFault(\"unbound-bitwise-result\", \"and\");\r\n        }\r\n        return toBigNumber(toBN(this).and(value));\r\n    }\r\n\r\n    or(other: BigNumberish): BigNumber {\r\n        const value = toBN(other);\r\n        if (this.isNegative() || value.isNeg()) {\r\n            throwFault(\"unbound-bitwise-result\", \"or\");\r\n        }\r\n        return toBigNumber(toBN(this).or(value));\r\n    }\r\n\r\n    xor(other: BigNumberish): BigNumber {\r\n        const value = toBN(other);\r\n        if (this.isNegative() || value.isNeg()) {\r\n            throwFault(\"unbound-bitwise-result\", \"xor\");\r\n        }\r\n        return toBigNumber(toBN(this).xor(value));\r\n    }\r\n\r\n    mask(value: number): BigNumber {\r\n        if (this.isNegative() || value < 0) {\r\n            throwFault(\"negative-width\", \"mask\");\r\n        }\r\n        return toBigNumber(toBN(this).maskn(value));\r\n    }\r\n\r\n    shl(value: number): BigNumber {\r\n        if (this.isNegative() || value < 0) {\r\n            throwFault(\"negative-width\", \"shl\");\r\n        }\r\n        return toBigNumber(toBN(this).shln(value));\r\n    }\r\n\r\n    shr(value: number): BigNumber {\r\n        if (this.isNegative() || value < 0) {\r\n            throwFault(\"negative-width\", \"shr\");\r\n        }\r\n        return toBigNumber(toBN(this).shrn(value));\r\n    }\r\n\r\n    eq(other: BigNumberish): boolean {\r\n        return toBN(this).eq(toBN(other));\r\n    }\r\n\r\n    lt(other: BigNumberish): boolean {\r\n        return toBN(this).lt(toBN(other));\r\n    }\r\n\r\n    lte(other: BigNumberish): boolean {\r\n        return toBN(this).lte(toBN(other));\r\n    }\r\n\r\n    gt(other: BigNumberish): boolean {\r\n        return toBN(this).gt(toBN(other));\r\n   }\r\n\r\n    gte(other: BigNumberish): boolean {\r\n        return toBN(this).gte(toBN(other));\r\n    }\r\n\r\n    isNegative(): boolean {\r\n        return (this._hex[0] === \"-\");\r\n    }\r\n\r\n    isZero(): boolean {\r\n        return toBN(this).isZero();\r\n    }\r\n\r\n    toNumber(): number {\r\n        try {\r\n            return toBN(this).toNumber();\r\n        } catch (error) {\r\n            throwFault(\"overflow\", \"toNumber\", this.toString());\r\n        }\r\n        return null;\r\n    }\r\n\r\n    toBigInt(): bigint {\r\n        try {\r\n            return BigInt(this.toString());\r\n        } catch (e) { }\r\n\r\n        return logger.throwError(\"this platform does not support BigInt\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            value: this.toString()\r\n        });\r\n    }\r\n\r\n    toString(): string {\r\n        // Lots of people expect this, which we do not support, so check (See: #889)\r\n        if (arguments.length > 0) {\r\n            if (arguments[0] === 10) {\r\n                if (!_warnedToStringRadix) {\r\n                    _warnedToStringRadix = true;\r\n                    logger.warn(\"BigNumber.toString does not accept any parameters; base-10 is assumed\");\r\n                }\r\n            } else if (arguments[0] === 16) {\r\n                logger.throwError(\"BigNumber.toString does not accept any parameters; use bigNumber.toHexString()\", Logger.errors.UNEXPECTED_ARGUMENT, { });\r\n            } else {\r\n                logger.throwError(\"BigNumber.toString does not accept parameters\", Logger.errors.UNEXPECTED_ARGUMENT, { });\r\n            }\r\n        }\r\n        return toBN(this).toString(10);\r\n    }\r\n\r\n    toHexString(): string {\r\n        return this._hex;\r\n    }\r\n\r\n    toJSON(key?: string): any {\r\n        return { type: \"BigNumber\", hex: this.toHexString() };\r\n    }\r\n\r\n    static from(value: any): BigNumber {\r\n        if (value instanceof BigNumber) { return value; }\r\n\r\n        if (typeof(value) === \"string\") {\r\n            if (value.match(/^-?0x[0-9a-f]+$/i)) {\r\n                return new BigNumber(_constructorGuard, toHex(value));\r\n            }\r\n\r\n            if (value.match(/^-?[0-9]+$/)) {\r\n                return new BigNumber(_constructorGuard, toHex(new BN(value)));\r\n            }\r\n\r\n            return logger.throwArgumentError(\"invalid BigNumber string\", \"value\", value);\r\n        }\r\n\r\n        if (typeof(value) === \"number\") {\r\n            if (value % 1) {\r\n                throwFault(\"underflow\", \"BigNumber.from\", value);\r\n            }\r\n\r\n            if (value >= MAX_SAFE || value <= -MAX_SAFE) {\r\n                throwFault(\"overflow\", \"BigNumber.from\", value);\r\n            }\r\n\r\n            return BigNumber.from(String(value));\r\n        }\r\n\r\n        const anyValue = <any>value;\r\n\r\n        if (typeof(anyValue) === \"bigint\") {\r\n            return BigNumber.from(anyValue.toString());\r\n        }\r\n\r\n        if (isBytes(anyValue)) {\r\n            return BigNumber.from(hexlify(anyValue));\r\n        }\r\n\r\n        if (anyValue) {\r\n\r\n            // Hexable interface (takes priority)\r\n            if (anyValue.toHexString) {\r\n                const hex = anyValue.toHexString();\r\n                if (typeof(hex) === \"string\") {\r\n                    return BigNumber.from(hex);\r\n                }\r\n\r\n            } else {\r\n                // For now, handle legacy JSON-ified values (goes away in v6)\r\n                let hex = anyValue._hex;\r\n\r\n                // New-form JSON\r\n                if (hex == null && anyValue.type === \"BigNumber\") {\r\n                    hex = anyValue.hex;\r\n                }\r\n\r\n                if (typeof(hex) === \"string\") {\r\n                    if (isHexString(hex) || (hex[0] === \"-\" && isHexString(hex.substring(1)))) {\r\n                        return BigNumber.from(hex);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return logger.throwArgumentError(\"invalid BigNumber value\", \"value\", value);\r\n    }\r\n\r\n    static isBigNumber(value: any): value is BigNumber {\r\n        return !!(value && value._isBigNumber);\r\n    }\r\n}\r\n\r\n// Normalize the hex string\r\nfunction toHex(value: string | BN): string {\r\n\r\n    // For BN, call on the hex string\r\n    if (typeof(value) !== \"string\") {\r\n        return toHex(value.toString(16));\r\n    }\r\n\r\n    // If negative, prepend the negative sign to the normalized positive value\r\n    if (value[0] === \"-\") {\r\n        // Strip off the negative sign\r\n        value = value.substring(1);\r\n\r\n        // Cannot have multiple negative signs (e.g. \"--0x04\")\r\n        if (value[0] === \"-\") { logger.throwArgumentError(\"invalid hex\", \"value\", value); }\r\n\r\n        // Call toHex on the positive component\r\n        value = toHex(value);\r\n\r\n        // Do not allow \"-0x00\"\r\n        if (value === \"0x00\") { return value; }\r\n\r\n        // Negate the value\r\n        return \"-\" + value;\r\n    }\r\n\r\n    // Add a \"0x\" prefix if missing\r\n    if (value.substring(0, 2) !== \"0x\") { value = \"0x\" + value; }\r\n\r\n    // Normalize zero\r\n    if (value === \"0x\") { return \"0x00\"; }\r\n\r\n    // Make the string even length\r\n    if (value.length % 2) { value = \"0x0\" + value.substring(2); }\r\n\r\n    // Trim to smallest even-length string\r\n    while (value.length > 4 && value.substring(0, 4) === \"0x00\") {\r\n        value = \"0x\" + value.substring(4);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nfunction toBigNumber(value: BN): BigNumber {\r\n    return BigNumber.from(toHex(value));\r\n}\r\n\r\nfunction toBN(value: BigNumberish): BN {\r\n    const hex = BigNumber.from(value).toHexString();\r\n    if (hex[0] === \"-\") {\r\n        return (new BN(\"-\" + hex.substring(3), 16));\r\n    }\r\n    return new BN(hex.substring(2), 16);\r\n}\r\n\r\nfunction throwFault(fault: string, operation: string, value?: any): never {\r\n    const params: any = { fault: fault, operation: operation };\r\n    if (value != null) { params.value = value; }\r\n\r\n    return logger.throwError(fault, Logger.errors.NUMERIC_FAULT, params);\r\n}\r\n\r\n// value should have no prefix\r\nexport function _base36To16(value: string): string {\r\n    return (new BN(value, 36)).toString(16);\r\n}\r\n\r\n// value should have no prefix\r\nexport function _base16To36(value: string): string {\r\n    return (new BN(value, 16)).toString(36);\r\n}\r\n", "\"use strict\";\r\n\r\nimport { arrayify, BytesLike, hexZeroPad, isBytes } from \"@ethersproject/bytes\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { BigNumber, BigNumberish, isBigNumberish } from \"./bignumber\";\r\n\r\nconst _constructorGuard = { };\r\n\r\nconst Zero = BigNumber.from(0);\r\nconst NegativeOne = BigNumber.from(-1);\r\n\r\nfunction throwFault(message: string, fault: string, operation: string, value?: any): never {\r\n    const params: any = { fault: fault, operation: operation };\r\n    if (value !== undefined) { params.value = value; }\r\n    return logger.throwError(message, Logger.errors.NUMERIC_FAULT, params);\r\n}\r\n\r\n// Constant to pull zeros from for multipliers\r\nlet zeros = \"0\";\r\nwhile (zeros.length < 256) { zeros += zeros; }\r\n\r\n// Returns a string \"1\" followed by decimal \"0\"s\r\nfunction getMultiplier(decimals: BigNumberish): string {\r\n\r\n    if (typeof(decimals) !== \"number\") {\r\n        try {\r\n            decimals = BigNumber.from(decimals).toNumber();\r\n        } catch (e) { }\r\n    }\r\n\r\n    if (typeof(decimals) === \"number\" && decimals >= 0 && decimals <= 256 && !(decimals % 1)) {\r\n        return (\"1\" + zeros.substring(0, decimals));\r\n    }\r\n\r\n    return logger.throwArgumentError(\"invalid decimal size\", \"decimals\", decimals);\r\n}\r\n\r\nexport function formatFixed(value: BigNumberish, decimals?: string | BigNumberish): string {\r\n    if (decimals == null) { decimals = 0; }\r\n    const multiplier = getMultiplier(decimals);\r\n\r\n    // Make sure wei is a big number (convert as necessary)\r\n    value = BigNumber.from(value);\r\n\r\n    const negative = value.lt(Zero);\r\n    if (negative) { value = value.mul(NegativeOne); }\r\n\r\n    let fraction = value.mod(multiplier).toString();\r\n    while (fraction.length < multiplier.length - 1) { fraction = \"0\" + fraction; }\r\n\r\n    // Strip training 0\r\n    fraction = fraction.match(/^([0-9]*[1-9]|0)(0*)/)[1];\r\n\r\n    const whole = value.div(multiplier).toString();\r\n    if (multiplier.length === 1) {\r\n        value = whole;\r\n    } else {\r\n        value = whole + \".\" + fraction;\r\n    }\r\n\r\n    if (negative) { value = \"-\" + value; }\r\n\r\n    return value;\r\n}\r\n\r\nexport function parseFixed(value: string, decimals?: BigNumberish): BigNumber {\r\n\r\n    if (decimals == null) { decimals = 0; }\r\n    const multiplier = getMultiplier(decimals);\r\n\r\n    if (typeof(value) !== \"string\" || !value.match(/^-?[0-9.]+$/)) {\r\n        logger.throwArgumentError(\"invalid decimal value\", \"value\", value);\r\n    }\r\n\r\n    // Is it negative?\r\n    const negative = (value.substring(0, 1) === \"-\");\r\n    if (negative) { value = value.substring(1); }\r\n\r\n    if (value === \".\") {\r\n        logger.throwArgumentError(\"missing value\", \"value\", value);\r\n    }\r\n\r\n    // Split it into a whole and fractional part\r\n    const comps = value.split(\".\");\r\n    if (comps.length > 2) {\r\n        logger.throwArgumentError(\"too many decimal points\", \"value\", value);\r\n    }\r\n\r\n    let whole = comps[0], fraction = comps[1];\r\n    if (!whole) { whole = \"0\"; }\r\n    if (!fraction) { fraction = \"0\"; }\r\n\r\n    // Trim trailing zeros\r\n    while (fraction[fraction.length - 1] === \"0\") {\r\n        fraction = fraction.substring(0, fraction.length - 1);\r\n    }\r\n\r\n    // Check the fraction doesn't exceed our decimals size\r\n    if (fraction.length > multiplier.length - 1) {\r\n        throwFault(\"fractional component exceeds decimals\", \"underflow\", \"parseFixed\");\r\n    }\r\n\r\n    // If decimals is 0, we have an empty string for fraction\r\n    if (fraction === \"\") { fraction = \"0\"; }\r\n\r\n    // Fully pad the string with zeros to get to wei\r\n    while (fraction.length < multiplier.length - 1) { fraction += \"0\"; }\r\n\r\n    const wholeValue = BigNumber.from(whole);\r\n    const fractionValue = BigNumber.from(fraction);\r\n\r\n    let wei = (wholeValue.mul(multiplier)).add(fractionValue);\r\n\r\n    if (negative) { wei = wei.mul(NegativeOne); }\r\n\r\n    return wei;\r\n}\r\n\r\n\r\nexport class FixedFormat {\r\n    readonly signed: boolean;\r\n    readonly width: number;\r\n    readonly decimals: number;\r\n    readonly name: string;\r\n    readonly _multiplier: string;\r\n\r\n    constructor(constructorGuard: any, signed: boolean, width: number, decimals: number) {\r\n        if (constructorGuard !== _constructorGuard) {\r\n            logger.throwError(\"cannot use FixedFormat constructor; use FixedFormat.from\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"new FixedFormat\"\r\n            });\r\n        }\r\n\r\n        this.signed = signed;\r\n        this.width = width;\r\n        this.decimals = decimals;\r\n\r\n        this.name = (signed ? \"\": \"u\") + \"fixed\" + String(width) + \"x\" + String(decimals);\r\n\r\n        this._multiplier = getMultiplier(decimals);\r\n\r\n        Object.freeze(this);\r\n    }\r\n\r\n    static from(value: any): FixedFormat {\r\n        if (value instanceof FixedFormat) { return value; }\r\n\r\n        if (typeof(value) === \"number\") {\r\n            value = `fixed128x${value}`\r\n        }\r\n\r\n        let signed = true;\r\n        let width = 128;\r\n        let decimals = 18;\r\n\r\n        if (typeof(value) === \"string\") {\r\n            if (value === \"fixed\") {\r\n                // defaults...\r\n            } else if (value === \"ufixed\") {\r\n                signed = false;\r\n            } else {\r\n                const match = value.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);\r\n                if (!match) { logger.throwArgumentError(\"invalid fixed format\", \"format\", value); }\r\n                signed = (match[1] !== \"u\");\r\n                width = parseInt(match[2]);\r\n                decimals = parseInt(match[3]);\r\n            }\r\n        } else if (value) {\r\n            const check = (key: string, type: string, defaultValue: any): any => {\r\n                if (value[key] == null) { return defaultValue; }\r\n                if (typeof(value[key]) !== type) {\r\n                    logger.throwArgumentError(\"invalid fixed format (\" + key + \" not \" + type +\")\", \"format.\" + key, value[key]);\r\n                }\r\n                return value[key];\r\n            }\r\n            signed = check(\"signed\", \"boolean\", signed);\r\n            width = check(\"width\", \"number\", width);\r\n            decimals = check(\"decimals\", \"number\", decimals);\r\n        }\r\n\r\n        if (width % 8) {\r\n            logger.throwArgumentError(\"invalid fixed format width (not byte aligned)\", \"format.width\", width);\r\n        }\r\n\r\n        if (decimals > 80) {\r\n            logger.throwArgumentError(\"invalid fixed format (decimals too large)\", \"format.decimals\", decimals);\r\n        }\r\n\r\n        return new FixedFormat(_constructorGuard, signed, width, decimals);\r\n    }\r\n}\r\n\r\nexport class FixedNumber {\r\n    readonly format: FixedFormat;\r\n    readonly _hex: string;\r\n    readonly _value: string;\r\n\r\n    readonly _isFixedNumber: boolean;\r\n\r\n    constructor(constructorGuard: any, hex: string, value: string, format?: FixedFormat) {\r\n        if (constructorGuard !== _constructorGuard) {\r\n            logger.throwError(\"cannot use FixedNumber constructor; use FixedNumber.from\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"new FixedFormat\"\r\n            });\r\n        }\r\n\r\n        this.format = format;\r\n        this._hex = hex;\r\n        this._value = value;\r\n\r\n        this._isFixedNumber = true;\r\n\r\n        Object.freeze(this);\r\n    }\r\n\r\n    _checkFormat(other: FixedNumber): void {\r\n        if (this.format.name !== other.format.name) {\r\n            logger.throwArgumentError(\"incompatible format; use fixedNumber.toFormat\", \"other\", other);\r\n        }\r\n    }\r\n\r\n    addUnsafe(other: FixedNumber): FixedNumber {\r\n        this._checkFormat(other);\r\n        const a = parseFixed(this._value, this.format.decimals);\r\n        const b = parseFixed(other._value, other.format.decimals);\r\n        return FixedNumber.fromValue(a.add(b), this.format.decimals, this.format);\r\n    }\r\n\r\n    subUnsafe(other: FixedNumber): FixedNumber {\r\n        this._checkFormat(other);\r\n        const a = parseFixed(this._value, this.format.decimals);\r\n        const b = parseFixed(other._value, other.format.decimals);\r\n        return FixedNumber.fromValue(a.sub(b), this.format.decimals, this.format);\r\n    }\r\n\r\n    mulUnsafe(other: FixedNumber): FixedNumber {\r\n        this._checkFormat(other);\r\n        const a = parseFixed(this._value, this.format.decimals);\r\n        const b = parseFixed(other._value, other.format.decimals);\r\n        return FixedNumber.fromValue(a.mul(b).div(this.format._multiplier), this.format.decimals, this.format);\r\n    }\r\n\r\n    divUnsafe(other: FixedNumber): FixedNumber {\r\n        this._checkFormat(other);\r\n        const a = parseFixed(this._value, this.format.decimals);\r\n        const b = parseFixed(other._value, other.format.decimals);\r\n        return FixedNumber.fromValue(a.mul(this.format._multiplier).div(b), this.format.decimals, this.format);\r\n    }\r\n\r\n    floor(): FixedNumber {\r\n        const comps = this.toString().split(\".\");\r\n        if (comps.length === 1) { comps.push(\"0\"); }\r\n\r\n        let result = FixedNumber.from(comps[0], this.format);\r\n\r\n        const hasFraction = !comps[1].match(/^(0*)$/);\r\n        if (this.isNegative() && hasFraction) {\r\n            result = result.subUnsafe(ONE.toFormat(result.format));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    ceiling(): FixedNumber {\r\n        const comps = this.toString().split(\".\");\r\n        if (comps.length === 1) { comps.push(\"0\"); }\r\n\r\n        let result = FixedNumber.from(comps[0], this.format);\r\n\r\n        const hasFraction = !comps[1].match(/^(0*)$/);\r\n        if (!this.isNegative() && hasFraction) {\r\n            result = result.addUnsafe(ONE.toFormat(result.format));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // @TODO: Support other rounding algorithms\r\n    round(decimals?: number): FixedNumber {\r\n        if (decimals == null) { decimals = 0; }\r\n\r\n        // If we are already in range, we're done\r\n        const comps = this.toString().split(\".\");\r\n        if (comps.length === 1) { comps.push(\"0\"); }\r\n\r\n        if (decimals < 0 || decimals > 80 || (decimals % 1)) {\r\n            logger.throwArgumentError(\"invalid decimal count\", \"decimals\", decimals);\r\n        }\r\n\r\n        if (comps[1].length <= decimals) { return this; }\r\n\r\n        const factor = FixedNumber.from(\"1\" + zeros.substring(0, decimals), this.format);\r\n        const bump = BUMP.toFormat(this.format);\r\n\r\n        return this.mulUnsafe(factor).addUnsafe(bump).floor().divUnsafe(factor);\r\n    }\r\n\r\n    isZero(): boolean {\r\n        return (this._value === \"0.0\" || this._value === \"0\");\r\n    }\r\n\r\n    isNegative(): boolean {\r\n        return (this._value[0] === \"-\");\r\n    }\r\n\r\n    toString(): string { return this._value; }\r\n\r\n    toHexString(width?: number): string {\r\n        if (width == null) { return this._hex; }\r\n        if (width % 8) { logger.throwArgumentError(\"invalid byte width\", \"width\", width); }\r\n        const hex = BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(width).toHexString();\r\n        return hexZeroPad(hex, width / 8);\r\n    }\r\n\r\n    toUnsafeFloat(): number { return parseFloat(this.toString()); }\r\n\r\n    toFormat(format: FixedFormat | string): FixedNumber {\r\n        return FixedNumber.fromString(this._value, format);\r\n    }\r\n\r\n\r\n    static fromValue(value: BigNumber, decimals?: BigNumberish, format?: FixedFormat | string | number): FixedNumber {\r\n        // If decimals looks more like a format, and there is no format, shift the parameters\r\n        if (format == null && decimals != null && !isBigNumberish(decimals)) {\r\n            format = decimals;\r\n            decimals = null;\r\n        }\r\n\r\n        if (decimals == null) { decimals = 0; }\r\n        if (format == null) { format = \"fixed\"; }\r\n\r\n        return FixedNumber.fromString(formatFixed(value, decimals), FixedFormat.from(format));\r\n    }\r\n\r\n\r\n    static fromString(value: string, format?: FixedFormat | string | number): FixedNumber {\r\n        if (format == null) { format = \"fixed\"; }\r\n\r\n        const fixedFormat = FixedFormat.from(format);\r\n\r\n        const numeric = parseFixed(value, fixedFormat.decimals);\r\n\r\n        if (!fixedFormat.signed && numeric.lt(Zero)) {\r\n            throwFault(\"unsigned value cannot be negative\", \"overflow\", \"value\", value);\r\n        }\r\n\r\n        let hex: string = null;\r\n        if (fixedFormat.signed) {\r\n            hex = numeric.toTwos(fixedFormat.width).toHexString();\r\n        } else {\r\n            hex = numeric.toHexString();\r\n            hex = hexZeroPad(hex, fixedFormat.width / 8);\r\n        }\r\n\r\n        const decimal = formatFixed(numeric, fixedFormat.decimals);\r\n\r\n        return new FixedNumber(_constructorGuard, hex, decimal, fixedFormat);\r\n    }\r\n\r\n    static fromBytes(value: BytesLike, format?: FixedFormat | string | number): FixedNumber {\r\n        if (format == null) { format = \"fixed\"; }\r\n\r\n        const fixedFormat = FixedFormat.from(format);\r\n\r\n        if (arrayify(value).length > fixedFormat.width / 8) {\r\n            throw new Error(\"overflow\");\r\n        }\r\n\r\n        let numeric = BigNumber.from(value);\r\n        if (fixedFormat.signed) { numeric = numeric.fromTwos(fixedFormat.width); }\r\n\r\n        const hex = numeric.toTwos((fixedFormat.signed ? 0: 1) + fixedFormat.width).toHexString();\r\n        const decimal = formatFixed(numeric, fixedFormat.decimals);\r\n\r\n        return new FixedNumber(_constructorGuard, hex, decimal, fixedFormat);\r\n    }\r\n\r\n    static from(value: any, format?: FixedFormat | string | number) {\r\n        if (typeof(value) === \"string\") {\r\n            return FixedNumber.fromString(value, format);\r\n        }\r\n\r\n        if (isBytes(value)) {\r\n            return FixedNumber.fromBytes(value, format);\r\n        }\r\n\r\n        try {\r\n            return FixedNumber.fromValue(value, 0, format);\r\n        } catch (error) {\r\n            // Allow NUMERIC_FAULT to bubble up\r\n            if (error.code !== Logger.errors.INVALID_ARGUMENT) {\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        return logger.throwArgumentError(\"invalid FixedNumber value\", \"value\", value);\r\n    }\r\n\r\n    static isFixedNumber(value: any): value is FixedNumber {\r\n        return !!(value && value._isFixedNumber);\r\n    }\r\n}\r\n\r\nconst ONE = FixedNumber.from(1);\r\nconst BUMP = FixedNumber.from(\"0.5\");\r\n", "export { BigNumber, BigNumberish } from \"./bignumber\";\r\nexport { formatFixed, FixedFormat, FixedNumber, parseFixed } from \"./fixednumber\";\r\n\r\n// Internal methods used by address\r\nexport { _base16To36, _base36To16 } from \"./bignumber\";\r\n", "export const version = \"properties/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nexport function defineReadOnly<T, K extends keyof T>(object: T, name: K, value: T[K]): void {\r\n    Object.defineProperty(object, name, {\r\n        enumerable: true,\r\n        value: value,\r\n        writable: false,\r\n    });\r\n}\r\n\r\n// Crawl up the constructor chain to find a static method\r\nexport function getStatic<T>(ctor: any, key: string): T {\r\n    for (let i = 0; i < 32; i++) {\r\n        if (ctor[key]) { return ctor[key]; }\r\n        if (!ctor.prototype || typeof(ctor.prototype) !== \"object\") { break; }\r\n        ctor = Object.getPrototypeOf(ctor.prototype).constructor;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport type Deferrable<T> = {\r\n    [ K in keyof T ]: T[K] | Promise<T[K]>;\r\n}\r\n\r\n\r\ntype Result = { key: string, value: any};\r\n\r\nexport async function resolveProperties<T>(object: Readonly<Deferrable<T>>): Promise<T> {\r\n    const promises: Array<Promise<Result>> = Object.keys(object).map((key) => {\r\n        const value = object[<keyof Deferrable<T>>key];\r\n        return Promise.resolve(value).then((v) => ({ key: key, value: v }));\r\n    });\r\n\r\n    const results = await Promise.all(promises);\r\n\r\n    return results.reduce((accum, result) => {\r\n        accum[<keyof T>(result.key)] = result.value;\r\n        return accum;\r\n    }, <T>{ });\r\n}\r\n\r\nexport function checkProperties(object: any, properties: { [ name: string ]: boolean }): void {\r\n    if (!object || typeof(object) !== \"object\") {\r\n        logger.throwArgumentError(\"invalid object\", \"object\", object);\r\n    }\r\n\r\n    Object.keys(object).forEach((key) => {\r\n        if (!properties[key]) {\r\n            logger.throwArgumentError(\"invalid object key - \" + key, \"transaction:\" + key, object);\r\n        }\r\n    });\r\n}\r\n\r\nexport function shallowCopy<T>(object: T): T {\r\n    const result: any = {};\r\n    for (const key in object) { result[key] = object[key]; }\r\n    return result;\r\n}\r\n\r\nconst opaque: { [key: string]: boolean } = { bigint: true, boolean: true, \"function\": true, number: true, string: true };\r\n\r\nfunction _isFrozen(object: any): boolean {\r\n\r\n    // Opaque objects are not mutable, so safe to copy by assignment\r\n    if (object === undefined || object === null || opaque[typeof(object)]) { return true; }\r\n\r\n    if (Array.isArray(object) || typeof(object) === \"object\") {\r\n        if (!Object.isFrozen(object)) { return false; }\r\n\r\n        const keys = Object.keys(object);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let value: any = null;\r\n            try {\r\n                value = object[keys[i]];\r\n            } catch (error) {\r\n                // If accessing a value triggers an error, it is a getter\r\n                // designed to do so (e.g. Result) and is therefore \"frozen\"\r\n                continue;\r\n            }\r\n\r\n            if (!_isFrozen(value)) { return false; }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    return logger.throwArgumentError(`Cannot deepCopy ${ typeof(object) }`, \"object\", object);\r\n}\r\n\r\n// Returns a new copy of object, such that no properties may be replaced.\r\n// New properties may be added only to objects.\r\nfunction _deepCopy(object: any): any {\r\n\r\n    if (_isFrozen(object)) { return object; }\r\n\r\n    // Arrays are mutable, so we need to create a copy\r\n    if (Array.isArray(object)) {\r\n        return Object.freeze(object.map((item) => deepCopy(item)));\r\n    }\r\n\r\n    if (typeof(object) === \"object\") {\r\n        const result: { [ key: string ]: any } = {};\r\n        for (const key in object) {\r\n            const value = object[key];\r\n            if (value === undefined) { continue; }\r\n            defineReadOnly(result, key, deepCopy(value));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    return logger.throwArgumentError(`Cannot deepCopy ${ typeof(object) }`, \"object\", object);\r\n}\r\n\r\nexport function deepCopy<T>(object: T): T {\r\n    return _deepCopy(object);\r\n}\r\n\r\nexport class Description<T = any> {\r\n    constructor(info: { [ K in keyof T ]: T[K] }) {\r\n        for (const key in info) {\r\n            (<any>this)[key] = deepCopy(info[key]);\r\n        }\r\n    }\r\n}\r\n", "export const AddressZero = \"0x0000000000000000000000000000000000000000\";\r\n\r\n", "import { BigNumber } from \"@ethersproject/bignumber\";\r\n\r\nconst NegativeOne: BigNumber = (/*#__PURE__*/BigNumber.from(-1));\r\nconst Zero: BigNumber = (/*#__PURE__*/BigNumber.from(0));\r\nconst One: BigNumber = (/*#__PURE__*/BigNumber.from(1));\r\nconst Two: BigNumber = (/*#__PURE__*/BigNumber.from(2));\r\nconst WeiPerEther: BigNumber = (/*#__PURE__*/BigNumber.from(\"1000000000000000000\"));\r\nconst MaxUint256: BigNumber = (/*#__PURE__*/BigNumber.from(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\r\n\r\nconst MinInt256: BigNumber = (/*#__PURE__*/BigNumber.from(\"-0x8000000000000000000000000000000000000000000000000000000000000000\"));\r\nconst MaxInt256: BigNumber = (/*#__PURE__*/BigNumber.from(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\r\n\r\nexport {\r\n    NegativeOne,\r\n    Zero,\r\n    One,\r\n    Two,\r\n    WeiPerEther,\r\n    MaxUint256,\r\n    MinInt256,\r\n    MaxInt256,\r\n};\r\n", "export const HashZero = \"0x0000000000000000000000000000000000000000000000000000000000000000\";\r\n\r\n", "// NFKC (composed)             // (decomposed)\r\nexport const EtherSymbol = \"\\u039e\";  // \"\\uD835\\uDF63\";\r\n", "\"use strict\";\r\n\r\nexport { AddressZero } from \"./addresses\";\r\nexport {\r\n    NegativeOne,\r\n    Zero,\r\n    One,\r\n    Two,\r\n    WeiPerEther,\r\n    MaxUint256,\r\n    MinInt256,\r\n    MaxInt256\r\n} from \"./bignumbers\";\r\nexport { HashZero } from \"./hashes\";\r\nexport { EtherSymbol } from \"./strings\";\r\n\r\n", "export const version = \"abstract-signer/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { BlockTag, FeeData, Provider, TransactionRequest, TransactionResponse } from \"@ethersproject/abstract-provider\";\r\nimport { BigNumber, BigNumberish } from \"@ethersproject/bignumber\";\r\nimport { Bytes, BytesLike } from \"@ethersproject/bytes\";\r\nimport { Deferrable, defineReadOnly, resolveProperties, shallowCopy } from \"@ethersproject/properties\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nconst allowedTransactionKeys: Array<string> = [\r\n    \"accessList\", \"ccipReadEnabled\", \"chainId\", \"customData\", \"data\", \"from\", \"gasLimit\", \"gasPrice\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"nonce\", \"to\", \"type\", \"value\"\r\n];\r\n\r\nconst forwardErrors = [\r\n    Logger.errors.INSUFFICIENT_FUNDS,\r\n    Logger.errors.NONCE_EXPIRED,\r\n    Logger.errors.REPLACEMENT_UNDERPRICED,\r\n];\r\n\r\n// EIP-712 Typed Data\r\n// See: https://eips.ethereum.org/EIPS/eip-712\r\n\r\nexport interface TypedDataDomain {\r\n    name?: string;\r\n    version?: string;\r\n    chainId?: BigNumberish;\r\n    verifyingContract?: string;\r\n    salt?: BytesLike;\r\n};\r\n\r\nexport interface TypedDataField {\r\n    name: string;\r\n    type: string;\r\n};\r\n\r\n// Sub-classes of Signer may optionally extend this interface to indicate\r\n// they have a private key available synchronously\r\nexport interface ExternallyOwnedAccount {\r\n    readonly address: string;\r\n    readonly privateKey: string;\r\n}\r\n\r\n// Sub-Class Notes:\r\n//  - A Signer MUST always make sure, that if present, the \"from\" field\r\n//    matches the Signer, before sending or signing a transaction\r\n//  - A Signer SHOULD always wrap private information (such as a private\r\n//    key or mnemonic) in a function, so that console.log does not leak\r\n//    the data\r\n\r\n// @TODO: This is a temporary measure to preserve backwards compatibility\r\n//        In v6, the method on TypedDataSigner will be added to Signer\r\nexport interface TypedDataSigner {\r\n    _signTypedData(domain: TypedDataDomain, types: Record<string, Array<TypedDataField>>, value: Record<string, any>): Promise<string>;\r\n}\r\n\r\nexport abstract class Signer {\r\n    readonly provider?: Provider;\r\n\r\n    ///////////////////\r\n    // Sub-classes MUST implement these\r\n\r\n    // Returns the checksum address\r\n    abstract getAddress(): Promise<string>\r\n\r\n    // Returns the signed prefixed-message. This MUST treat:\r\n    // - Bytes as a binary message\r\n    // - string as a UTF8-message\r\n    // i.e. \"0x1234\" is a SIX (6) byte string, NOT 2 bytes of data\r\n    abstract signMessage(message: Bytes | string): Promise<string>;\r\n\r\n    // Signs a transaction and returns the fully serialized, signed transaction.\r\n    // The EXACT transaction MUST be signed, and NO additional properties to be added.\r\n    // - This MAY throw if signing transactions is not supports, but if\r\n    //   it does, sentTransaction MUST be overridden.\r\n    abstract signTransaction(transaction: Deferrable<TransactionRequest>): Promise<string>;\r\n\r\n    // Returns a new instance of the Signer, connected to provider.\r\n    // This MAY throw if changing providers is not supported.\r\n    abstract connect(provider: Provider): Signer;\r\n\r\n    readonly _isSigner: boolean;\r\n\r\n\r\n    ///////////////////\r\n    // Sub-classes MUST call super\r\n    constructor() {\r\n        logger.checkAbstract(new.target, Signer);\r\n        defineReadOnly(this, \"_isSigner\", true);\r\n    }\r\n\r\n\r\n    ///////////////////\r\n    // Sub-classes MAY override these\r\n\r\n    async getBalance(blockTag?: BlockTag): Promise<BigNumber> {\r\n        this._checkProvider(\"getBalance\");\r\n        return await this.provider.getBalance(this.getAddress(), blockTag);\r\n    }\r\n\r\n    async getTransactionCount(blockTag?: BlockTag): Promise<number> {\r\n        this._checkProvider(\"getTransactionCount\");\r\n        return await this.provider.getTransactionCount(this.getAddress(), blockTag);\r\n    }\r\n\r\n    // Populates \"from\" if unspecified, and estimates the gas for the transaction\r\n    async estimateGas(transaction: Deferrable<TransactionRequest>): Promise<BigNumber> {\r\n        this._checkProvider(\"estimateGas\");\r\n        const tx = await resolveProperties(this.checkTransaction(transaction));\r\n        return await this.provider.estimateGas(tx);\r\n    }\r\n\r\n    // Populates \"from\" if unspecified, and calls with the transaction\r\n    async call(transaction: Deferrable<TransactionRequest>, blockTag?: BlockTag): Promise<string> {\r\n        this._checkProvider(\"call\");\r\n        const tx = await resolveProperties(this.checkTransaction(transaction));\r\n        return await this.provider.call(tx, blockTag);\r\n    }\r\n\r\n    // Populates all fields in a transaction, signs it and sends it to the network\r\n    async sendTransaction(transaction: Deferrable<TransactionRequest>): Promise<TransactionResponse> {\r\n        this._checkProvider(\"sendTransaction\");\r\n        const tx = await this.populateTransaction(transaction);\r\n        const signedTx = await this.signTransaction(tx);\r\n        return await this.provider.sendTransaction(signedTx);\r\n    }\r\n\r\n    async getChainId(): Promise<number> {\r\n        this._checkProvider(\"getChainId\");\r\n        const network = await this.provider.getNetwork();\r\n        return network.chainId;\r\n    }\r\n\r\n    async getGasPrice(): Promise<BigNumber> {\r\n        this._checkProvider(\"getGasPrice\");\r\n        return await this.provider.getGasPrice();\r\n    }\r\n\r\n    async getFeeData(): Promise<FeeData> {\r\n        this._checkProvider(\"getFeeData\");\r\n        return await this.provider.getFeeData();\r\n    }\r\n\r\n\r\n    async resolveName(name: string): Promise<string> {\r\n        this._checkProvider(\"resolveName\");\r\n        return await this.provider.resolveName(name);\r\n    }\r\n\r\n\r\n\r\n    // Checks a transaction does not contain invalid keys and if\r\n    // no \"from\" is provided, populates it.\r\n    // - does NOT require a provider\r\n    // - adds \"from\" is not present\r\n    // - returns a COPY (safe to mutate the result)\r\n    // By default called from: (overriding these prevents it)\r\n    //   - call\r\n    //   - estimateGas\r\n    //   - populateTransaction (and therefor sendTransaction)\r\n    checkTransaction(transaction: Deferrable<TransactionRequest>): Deferrable<TransactionRequest> {\r\n        for (const key in transaction) {\r\n            if (allowedTransactionKeys.indexOf(key) === -1) {\r\n                logger.throwArgumentError(\"invalid transaction key: \" + key, \"transaction\", transaction);\r\n            }\r\n        }\r\n\r\n        const tx = shallowCopy(transaction);\r\n\r\n        if (tx.from == null) {\r\n            tx.from = this.getAddress();\r\n\r\n        } else {\r\n            // Make sure any provided address matches this signer\r\n            tx.from = Promise.all([\r\n                Promise.resolve(tx.from),\r\n                this.getAddress()\r\n            ]).then((result) => {\r\n                if (result[0].toLowerCase() !== result[1].toLowerCase()) {\r\n                    logger.throwArgumentError(\"from address mismatch\", \"transaction\", transaction);\r\n                }\r\n                return result[0];\r\n            });\r\n        }\r\n\r\n        return tx;\r\n    }\r\n\r\n    // Populates ALL keys for a transaction and checks that \"from\" matches\r\n    // this Signer. Should be used by sendTransaction but NOT by signTransaction.\r\n    // By default called from: (overriding these prevents it)\r\n    //   - sendTransaction\r\n    //\r\n    // Notes:\r\n    //  - We allow gasPrice for EIP-1559 as long as it matches maxFeePerGas\r\n    async populateTransaction(transaction: Deferrable<TransactionRequest>): Promise<TransactionRequest> {\r\n\r\n        const tx: Deferrable<TransactionRequest> = await resolveProperties(this.checkTransaction(transaction))\r\n\r\n        if (tx.to != null) {\r\n            tx.to = Promise.resolve(tx.to).then(async (to) => {\r\n                if (to == null) { return null; }\r\n                const address = await this.resolveName(to);\r\n                if (address == null) {\r\n                    logger.throwArgumentError(\"provided ENS name resolves to null\", \"tx.to\", to);\r\n                }\r\n                return address;\r\n            });\r\n\r\n            // Prevent this error from causing an UnhandledPromiseException\r\n            tx.to.catch((error) => {  });\r\n        }\r\n\r\n        // Do not allow mixing pre-eip-1559 and eip-1559 properties\r\n        const hasEip1559 = (tx.maxFeePerGas != null || tx.maxPriorityFeePerGas != null);\r\n        if (tx.gasPrice != null && (tx.type === 2 || hasEip1559)) {\r\n            logger.throwArgumentError(\"eip-1559 transaction do not support gasPrice\", \"transaction\", transaction);\r\n        } else if ((tx.type === 0 || tx.type === 1) && hasEip1559) {\r\n            logger.throwArgumentError(\"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas\", \"transaction\", transaction);\r\n        }\r\n\r\n        if ((tx.type === 2 || tx.type == null) && (tx.maxFeePerGas != null && tx.maxPriorityFeePerGas != null)) {\r\n            // Fully-formed EIP-1559 transaction (skip getFeeData)\r\n            tx.type = 2;\r\n\r\n        } else if (tx.type === 0 || tx.type === 1) {\r\n            // Explicit Legacy or EIP-2930 transaction\r\n\r\n            // Populate missing gasPrice\r\n            if (tx.gasPrice == null) { tx.gasPrice = this.getGasPrice(); }\r\n\r\n        } else {\r\n\r\n            // We need to get fee data to determine things\r\n            const feeData = await this.getFeeData();\r\n\r\n            if (tx.type == null) {\r\n                // We need to auto-detect the intended type of this transaction...\r\n\r\n                if (feeData.maxFeePerGas != null && feeData.maxPriorityFeePerGas != null) {\r\n                    // The network supports EIP-1559!\r\n\r\n                    // Upgrade transaction from null to eip-1559\r\n                    tx.type = 2;\r\n\r\n                    if (tx.gasPrice != null) {\r\n                        // Using legacy gasPrice property on an eip-1559 network,\r\n                        // so use gasPrice as both fee properties\r\n                        const gasPrice = tx.gasPrice;\r\n                        delete tx.gasPrice;\r\n                        tx.maxFeePerGas = gasPrice;\r\n                        tx.maxPriorityFeePerGas = gasPrice;\r\n\r\n                    } else {\r\n                        // Populate missing fee data\r\n                        if (tx.maxFeePerGas == null) { tx.maxFeePerGas = feeData.maxFeePerGas; }\r\n                        if (tx.maxPriorityFeePerGas == null) { tx.maxPriorityFeePerGas = feeData.maxPriorityFeePerGas; }\r\n                    }\r\n\r\n                } else if (feeData.gasPrice != null) {\r\n                    // Network doesn't support EIP-1559...\r\n\r\n                    // ...but they are trying to use EIP-1559 properties\r\n                    if (hasEip1559) {\r\n                        logger.throwError(\"network does not support EIP-1559\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                            operation: \"populateTransaction\"\r\n                        });\r\n                    }\r\n\r\n                    // Populate missing fee data\r\n                    if (tx.gasPrice == null) { tx.gasPrice = feeData.gasPrice; }\r\n\r\n                    // Explicitly set untyped transaction to legacy\r\n                    tx.type = 0;\r\n\r\n                } else {\r\n                    // getFeeData has failed us.\r\n                    logger.throwError(\"failed to get consistent fee data\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                        operation: \"signer.getFeeData\"\r\n                    });\r\n                }\r\n\r\n            } else if (tx.type === 2) {\r\n                // Explicitly using EIP-1559\r\n\r\n                // Populate missing fee data\r\n                if (tx.maxFeePerGas == null) { tx.maxFeePerGas = feeData.maxFeePerGas; }\r\n                if (tx.maxPriorityFeePerGas == null) { tx.maxPriorityFeePerGas = feeData.maxPriorityFeePerGas; }\r\n            }\r\n        }\r\n\r\n        if (tx.nonce == null) { tx.nonce = this.getTransactionCount(\"pending\"); }\r\n\r\n        if (tx.gasLimit == null) {\r\n            tx.gasLimit = this.estimateGas(tx).catch((error) => {\r\n                if (forwardErrors.indexOf(error.code) >= 0) {\r\n                    throw error;\r\n                }\r\n\r\n                return logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\r\n                    error: error,\r\n                    tx: tx\r\n                });\r\n            });\r\n        }\r\n\r\n        if (tx.chainId == null) {\r\n            tx.chainId = this.getChainId();\r\n        } else {\r\n            tx.chainId = Promise.all([\r\n                Promise.resolve(tx.chainId),\r\n                this.getChainId()\r\n            ]).then((results) => {\r\n                if (results[1] !== 0 && results[0] !== results[1]) {\r\n                    logger.throwArgumentError(\"chainId address mismatch\", \"transaction\", transaction);\r\n                }\r\n                return results[0];\r\n            });\r\n        }\r\n\r\n        return await resolveProperties(tx);\r\n    }\r\n\r\n\r\n    ///////////////////\r\n    // Sub-classes SHOULD leave these alone\r\n\r\n    _checkProvider(operation?: string): void {\r\n        if (!this.provider) { logger.throwError(\"missing provider\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: (operation || \"_checkProvider\") });\r\n        }\r\n    }\r\n\r\n    static isSigner(value: any): value is Signer {\r\n        return !!(value && value._isSigner);\r\n    }\r\n}\r\n\r\nexport class VoidSigner extends Signer implements TypedDataSigner {\r\n    readonly address: string;\r\n\r\n    constructor(address: string, provider?: Provider) {\r\n        super();\r\n        defineReadOnly(this, \"address\", address);\r\n        defineReadOnly(this, \"provider\", provider || null);\r\n    }\r\n\r\n    getAddress(): Promise<string> {\r\n        return Promise.resolve(this.address);\r\n    }\r\n\r\n    _fail(message: string, operation: string): Promise<any> {\r\n        return Promise.resolve().then(() => {\r\n            logger.throwError(message, Logger.errors.UNSUPPORTED_OPERATION, { operation: operation });\r\n        });\r\n    }\r\n\r\n    signMessage(message: Bytes | string): Promise<string> {\r\n        return this._fail(\"VoidSigner cannot sign messages\", \"signMessage\");\r\n    }\r\n\r\n    signTransaction(transaction: Deferrable<TransactionRequest>): Promise<string> {\r\n        return this._fail(\"VoidSigner cannot sign transactions\", \"signTransaction\");\r\n    }\r\n\r\n    _signTypedData(domain: TypedDataDomain, types: Record<string, Array<TypedDataField>>, value: Record<string, any>): Promise<string> {\r\n        return this._fail(\"VoidSigner cannot sign typed data\", \"signTypedData\");\r\n    }\r\n\r\n    connect(provider: Provider): VoidSigner {\r\n        return new VoidSigner(this.address, provider);\r\n    }\r\n}\r\n\r\n", "export const version = \"abstract-provider/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { BigNumber, BigNumberish } from \"@ethersproject/bignumber\";\r\nimport { BytesLike, isHexString } from \"@ethersproject/bytes\";\r\nimport { Network } from \"@ethersproject/networks\";\r\nimport { Deferrable, Description, defineReadOnly, resolveProperties } from \"@ethersproject/properties\";\r\nimport { AccessListish, Transaction } from \"@ethersproject/transactions\";\r\nimport { OnceBlockable } from \"@ethersproject/web\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n///////////////////////////////\r\n// Exported Types\r\n\r\n\r\nexport type TransactionRequest = {\r\n    to?: string,\r\n    from?: string,\r\n    nonce?: BigNumberish,\r\n\r\n    gasLimit?: BigNumberish,\r\n    gasPrice?: BigNumberish,\r\n\r\n    data?: BytesLike,\r\n    value?: BigNumberish,\r\n    chainId?: number\r\n\r\n    type?: number;\r\n    accessList?: AccessListish;\r\n\r\n    maxPriorityFeePerGas?: BigNumberish;\r\n    maxFeePerGas?: BigNumberish;\r\n\r\n    customData?: Record<string, any>;\r\n    ccipReadEnabled?: boolean;\r\n}\r\n\r\nexport interface TransactionResponse extends Transaction {\r\n    hash: string;\r\n\r\n    // Only if a transaction has been mined\r\n    blockNumber?: number,\r\n    blockHash?: string,\r\n    timestamp?: number,\r\n\r\n    confirmations: number,\r\n\r\n    // Not optional (as it is in Transaction)\r\n    from: string;\r\n\r\n    // The raw transaction\r\n    raw?: string,\r\n\r\n    // This function waits until the transaction has been mined\r\n    wait: (confirmations?: number) => Promise<TransactionReceipt>\r\n};\r\n\r\nexport type BlockTag = string | number;\r\n\r\nexport interface _Block {\r\n    hash: string;\r\n    parentHash: string;\r\n    number: number;\r\n\r\n    timestamp: number;\r\n    nonce: string;\r\n    difficulty: number;\r\n    _difficulty: BigNumber;\r\n\r\n    gasLimit: BigNumber;\r\n    gasUsed: BigNumber;\r\n\r\n    miner: string;\r\n    extraData: string;\r\n\r\n    baseFeePerGas?: null | BigNumber;\r\n}\r\n\r\nexport interface Block extends _Block {\r\n    transactions: Array<string>;\r\n}\r\n\r\nexport interface BlockWithTransactions extends _Block {\r\n    transactions: Array<TransactionResponse>;\r\n}\r\n\r\n\r\nexport interface Log {\r\n    blockNumber: number;\r\n    blockHash: string;\r\n    transactionIndex: number;\r\n\r\n    removed: boolean;\r\n\r\n    address: string;\r\n    data: string;\r\n\r\n    topics: Array<string>;\r\n\r\n    transactionHash: string;\r\n    logIndex: number;\r\n}\r\n\r\nexport interface TransactionReceipt {\r\n    to: string;\r\n    from: string;\r\n    contractAddress: string,\r\n    transactionIndex: number,\r\n    root?: string,\r\n    gasUsed: BigNumber,\r\n    logsBloom: string,\r\n    blockHash: string,\r\n    transactionHash: string,\r\n    logs: Array<Log>,\r\n    blockNumber: number,\r\n    confirmations: number,\r\n    cumulativeGasUsed: BigNumber,\r\n    effectiveGasPrice: BigNumber,\r\n    byzantium: boolean,\r\n    type: number;\r\n    status?: number\r\n};\r\n\r\nexport interface FeeData {\r\n    lastBaseFeePerGas: null | BigNumber;\r\n    maxFeePerGas: null | BigNumber;\r\n    maxPriorityFeePerGas: null | BigNumber;\r\n    gasPrice: null | BigNumber;\r\n}\r\n\r\nexport interface EventFilter {\r\n    address?: string;\r\n    topics?: Array<string | Array<string> | null>;\r\n}\r\n\r\nexport interface Filter extends EventFilter {\r\n    fromBlock?: BlockTag,\r\n    toBlock?: BlockTag,\r\n}\r\n\r\nexport interface FilterByBlockHash extends EventFilter {\r\n    blockHash?: string;\r\n}\r\n\r\n//export type CallTransactionable = {\r\n//    call(transaction: TransactionRequest): Promise<TransactionResponse>;\r\n//};\r\n\r\nexport abstract class ForkEvent extends Description {\r\n    readonly expiry: number;\r\n\r\n    readonly _isForkEvent?: boolean;\r\n\r\n    static isForkEvent(value: any): value is ForkEvent {\r\n        return !!(value && value._isForkEvent);\r\n    }\r\n}\r\n\r\nexport class BlockForkEvent extends ForkEvent {\r\n    readonly blockHash: string;\r\n\r\n    readonly _isBlockForkEvent?: boolean;\r\n\r\n    constructor(blockHash: string, expiry?: number) {\r\n        if (!isHexString(blockHash, 32)) {\r\n            logger.throwArgumentError(\"invalid blockHash\", \"blockHash\", blockHash);\r\n        }\r\n\r\n        super({\r\n            _isForkEvent: true,\r\n            _isBlockForkEvent: true,\r\n            expiry: (expiry || 0),\r\n            blockHash: blockHash\r\n        });\r\n    }\r\n}\r\n\r\nexport class TransactionForkEvent extends ForkEvent {\r\n    readonly hash: string;\r\n\r\n    readonly _isTransactionOrderForkEvent?: boolean;\r\n\r\n    constructor(hash: string, expiry?: number) {\r\n        if (!isHexString(hash, 32)) {\r\n            logger.throwArgumentError(\"invalid transaction hash\", \"hash\", hash);\r\n        }\r\n\r\n        super({\r\n            _isForkEvent: true,\r\n            _isTransactionForkEvent: true,\r\n            expiry: (expiry || 0),\r\n            hash: hash\r\n        });\r\n    }\r\n}\r\n\r\nexport class TransactionOrderForkEvent extends ForkEvent {\r\n    readonly beforeHash: string;\r\n    readonly afterHash: string;\r\n\r\n    constructor(beforeHash: string, afterHash: string, expiry?: number) {\r\n        if (!isHexString(beforeHash, 32)) {\r\n            logger.throwArgumentError(\"invalid transaction hash\", \"beforeHash\", beforeHash);\r\n        }\r\n        if (!isHexString(afterHash, 32)) {\r\n            logger.throwArgumentError(\"invalid transaction hash\", \"afterHash\", afterHash);\r\n        }\r\n\r\n        super({\r\n            _isForkEvent: true,\r\n            _isTransactionOrderForkEvent: true,\r\n            expiry: (expiry || 0),\r\n            beforeHash: beforeHash,\r\n            afterHash: afterHash\r\n        });\r\n    }\r\n}\r\n\r\nexport type EventType = string | Array<string | Array<string>> | EventFilter | ForkEvent;\r\n\r\nexport type Listener = (...args: Array<any>) => void;\r\n\r\n///////////////////////////////\r\n// Exported Abstracts\r\nexport abstract class Provider implements OnceBlockable {\r\n\r\n    // Network\r\n    abstract getNetwork(): Promise<Network>;\r\n\r\n    // Latest State\r\n    abstract getBlockNumber(): Promise<number>;\r\n    abstract getGasPrice(): Promise<BigNumber>;\r\n    async getFeeData(): Promise<FeeData> {\r\n        const { block, gasPrice } = await resolveProperties({\r\n            block: this.getBlock(\"latest\"),\r\n            gasPrice: this.getGasPrice().catch((error) => {\r\n                // @TODO: Why is this now failing on Calaveras?\r\n                //console.log(error);\r\n                return null;\r\n            })\r\n        });\r\n\r\n        let lastBaseFeePerGas = null, maxFeePerGas = null, maxPriorityFeePerGas = null;\r\n\r\n        if (block && block.baseFeePerGas) {\r\n            // We may want to compute this more accurately in the future,\r\n            // using the formula \"check if the base fee is correct\".\r\n            // See: https://eips.ethereum.org/EIPS/eip-1559\r\n            lastBaseFeePerGas = block.baseFeePerGas;\r\n            maxPriorityFeePerGas = BigNumber.from(\"1500000000\");\r\n            maxFeePerGas = block.baseFeePerGas.mul(2).add(maxPriorityFeePerGas);\r\n        }\r\n\r\n        return { lastBaseFeePerGas, maxFeePerGas, maxPriorityFeePerGas, gasPrice };\r\n    }\r\n\r\n    // Account\r\n    abstract getBalance(addressOrName: string | Promise<string>, blockTag?: BlockTag | Promise<BlockTag>): Promise<BigNumber>;\r\n    abstract getTransactionCount(addressOrName: string | Promise<string>, blockTag?: BlockTag | Promise<BlockTag>): Promise<number>;\r\n    abstract getCode(addressOrName: string | Promise<string>, blockTag?: BlockTag | Promise<BlockTag>): Promise<string> ;\r\n    abstract getStorageAt(addressOrName: string | Promise<string>, position: BigNumberish | Promise<BigNumberish>, blockTag?: BlockTag | Promise<BlockTag>): Promise<string>;\r\n\r\n    // Execution\r\n    abstract sendTransaction(signedTransaction: string | Promise<string>): Promise<TransactionResponse>;\r\n    abstract call(transaction: Deferrable<TransactionRequest>, blockTag?: BlockTag | Promise<BlockTag>): Promise<string>;\r\n    abstract estimateGas(transaction: Deferrable<TransactionRequest>): Promise<BigNumber>;\r\n\r\n    // Queries\r\n    abstract getBlock(blockHashOrBlockTag: BlockTag | string | Promise<BlockTag | string>): Promise<Block>;\r\n    abstract getBlockWithTransactions(blockHashOrBlockTag: BlockTag | string | Promise<BlockTag | string>): Promise<BlockWithTransactions>;\r\n    abstract getTransaction(transactionHash: string): Promise<TransactionResponse>;\r\n    abstract getTransactionReceipt(transactionHash: string): Promise<TransactionReceipt>;\r\n\r\n    // Bloom-filter Queries\r\n    abstract getLogs(filter: Filter): Promise<Array<Log>>;\r\n\r\n    // ENS\r\n    abstract resolveName(name: string | Promise<string>): Promise<null | string>;\r\n    abstract lookupAddress(address: string | Promise<string>): Promise<null | string>;\r\n\r\n    // Event Emitter (ish)\r\n    abstract on(eventName: EventType, listener: Listener): Provider;\r\n    abstract once(eventName: EventType, listener: Listener): Provider;\r\n    abstract emit(eventName: EventType, ...args: Array<any>): boolean\r\n    abstract listenerCount(eventName?: EventType): number;\r\n    abstract listeners(eventName?: EventType): Array<Listener>;\r\n    abstract off(eventName: EventType, listener?: Listener): Provider;\r\n    abstract removeAllListeners(eventName?: EventType): Provider;\r\n\r\n    // Alias for \"on\"\r\n    addListener(eventName: EventType, listener: Listener): Provider {\r\n        return this.on(eventName, listener);\r\n    }\r\n\r\n    // Alias for \"off\"\r\n    removeListener(eventName: EventType, listener: Listener): Provider {\r\n        return this.off(eventName, listener);\r\n    }\r\n\r\n    // @TODO: This *could* be implemented here, but would pull in events...\r\n    abstract waitForTransaction(transactionHash: string, confirmations?: number, timeout?: number): Promise<TransactionReceipt>;\r\n\r\n    readonly _isProvider: boolean;\r\n\r\n    constructor() {\r\n        logger.checkAbstract(new.target, Provider);\r\n        defineReadOnly(this, \"_isProvider\", true);\r\n    }\r\n\r\n    static isProvider(value: any): value is Provider {\r\n        return !!(value && value._isProvider);\r\n    }\r\n\r\n/*\r\n    static getResolver(network: Network, callable: CallTransactionable, namehash: string): string {\r\n        // No ENS...\r\n        if (!network.ensAddress) {\r\n            errors.throwError(\r\n                \"network does support ENS\",\r\n                errors.UNSUPPORTED_OPERATION,\r\n                { operation: \"ENS\", network: network.name }\r\n            );\r\n        }\r\n\r\n        // Not a namehash\r\n        if (!isHexString(namehash, 32)) {\r\n            errors.throwArgumentError(\"invalid name hash\", \"namehash\", namehash);\r\n        }\r\n\r\n        // keccak256(\"resolver(bytes32)\")\r\n        let data = \"0x0178b8bf\" + namehash.substring(2);\r\n        let transaction = { to: network.ensAddress, data: data };\r\n\r\n        return provider.call(transaction).then((data) => {\r\n            return provider.formatter.callAddress(data);\r\n        });\r\n    }\r\n\r\n    static resolveNamehash(network: Network, callable: CallTransactionable, namehash: string): string {\r\n        return this.getResolver(network, callable, namehash).then((resolverAddress) => {\r\n            if (!resolverAddress) { return null; }\r\n\r\n            // keccak256(\"addr(bytes32)\")\r\n            let data = \"0x3b3b57de\" + namehash(name).substring(2);\r\n            let transaction = { to: resolverAddress, data: data };\r\n            return callable.call(transaction).then((data) => {\r\n                return this.formatter.callAddress(data);\r\n            });\r\n\r\n        })\r\n    }\r\n*/\r\n}\r\n", "export const version = \"networks/5.7.1\";\r\n", "\"use strict\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { Network, Networkish } from \"./types\";\r\n\r\nexport {\r\n    Network,\r\n    Networkish\r\n};\r\n\r\ntype DefaultProviderFunc = (providers: any, options?: any) => any;\r\n\r\ninterface Renetworkable extends DefaultProviderFunc {\r\n    renetwork: (network: Network) => DefaultProviderFunc;\r\n};\r\n\r\nfunction isRenetworkable(value: any): value is Renetworkable {\r\n    return (value && typeof(value.renetwork) === \"function\");\r\n}\r\n\r\nfunction ethDefaultProvider(network: string | Network): Renetworkable {\r\n    const func = function(providers: any, options?: any): any {\r\n        if (options == null) { options = { }; }\r\n        const providerList: Array<any> = [];\r\n\r\n        if (providers.InfuraProvider && options.infura !== \"-\") {\r\n            try {\r\n                providerList.push(new providers.InfuraProvider(network, options.infura));\r\n            } catch(error) { }\r\n        }\r\n\r\n        if (providers.EtherscanProvider && options.etherscan !== \"-\") {\r\n            try {\r\n                providerList.push(new providers.EtherscanProvider(network, options.etherscan));\r\n            } catch(error) { }\r\n        }\r\n\r\n        if (providers.AlchemyProvider && options.alchemy !== \"-\") {\r\n            try {\r\n                providerList.push(new providers.AlchemyProvider(network, options.alchemy));\r\n            } catch(error) { }\r\n        }\r\n\r\n        if (providers.PocketProvider && options.pocket !== \"-\") {\r\n            // These networks are currently faulty on Pocket as their\r\n            // network does not handle the Berlin hardfork, which is\r\n            // live on these ones.\r\n            // @TODO: This goes away once Pocket has upgraded their nodes\r\n            const skip = [ \"goerli\", \"ropsten\", \"rinkeby\", \"sepolia\" ];\r\n            try {\r\n                const provider = new providers.PocketProvider(network, options.pocket);\r\n                if (provider.network && skip.indexOf(provider.network.name) === -1) {\r\n                    providerList.push(provider);\r\n                }\r\n            } catch(error) { }\r\n        }\r\n\r\n        if (providers.CloudflareProvider && options.cloudflare !== \"-\") {\r\n            try {\r\n                providerList.push(new providers.CloudflareProvider(network));\r\n            } catch(error) { }\r\n        }\r\n\r\n        if (providers.AnkrProvider && options.ankr !== \"-\") {\r\n            try {\r\n                const skip = [ \"ropsten\" ];\r\n                const provider = new providers.AnkrProvider(network, options.ankr);\r\n                if (provider.network && skip.indexOf(provider.network.name) === -1) {\r\n                    providerList.push(provider);\r\n                }\r\n            } catch(error) { }\r\n        }\r\n\r\n        if (providerList.length === 0) { return null; }\r\n\r\n        if (providers.FallbackProvider) {\r\n            let quorum = 1;\r\n            if (options.quorum != null) {\r\n                quorum = options.quorum;\r\n            } else if (network === \"homestead\") {\r\n                quorum = 2;\r\n            }\r\n            return new providers.FallbackProvider(providerList, quorum);\r\n        }\r\n\r\n        return providerList[0];\r\n    };\r\n\r\n    func.renetwork = function(network: Network) {\r\n        return ethDefaultProvider(network);\r\n    };\r\n\r\n    return func;\r\n}\r\n\r\nfunction etcDefaultProvider(url: string, network: string | Network): Renetworkable {\r\n    const func = function(providers: any, options?: any): any {\r\n        if (providers.JsonRpcProvider) {\r\n            return new providers.JsonRpcProvider(url, network);\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    func.renetwork = function(network: Network) {\r\n        return etcDefaultProvider(url, network);\r\n    };\r\n\r\n    return func;\r\n}\r\n\r\nconst homestead: Network = {\r\n    chainId: 1,\r\n    ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\r\n    name: \"homestead\",\r\n    _defaultProvider: ethDefaultProvider(\"homestead\")\r\n};\r\n\r\nconst ropsten: Network = {\r\n    chainId: 3,\r\n    ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\r\n    name: \"ropsten\",\r\n    _defaultProvider: ethDefaultProvider(\"ropsten\")\r\n};\r\n\r\nconst classicMordor: Network = {\r\n    chainId: 63,\r\n    name: \"classicMordor\",\r\n    _defaultProvider: etcDefaultProvider(\"https://www.ethercluster.com/mordor\", \"classicMordor\")\r\n};\r\n\r\n// See: https://chainlist.org\r\nconst networks: { [name: string]: Network } = {\r\n    unspecified: { chainId: 0, name: \"unspecified\" },\r\n\r\n    homestead: homestead,\r\n    mainnet: homestead,\r\n\r\n    morden: { chainId: 2, name: \"morden\" },\r\n\r\n    ropsten: ropsten,\r\n    testnet: ropsten,\r\n\r\n    rinkeby: {\r\n        chainId: 4,\r\n        ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\r\n        name: \"rinkeby\",\r\n        _defaultProvider: ethDefaultProvider(\"rinkeby\")\r\n    },\r\n\r\n    kovan: {\r\n        chainId: 42,\r\n        name: \"kovan\",\r\n        _defaultProvider: ethDefaultProvider(\"kovan\")\r\n    },\r\n\r\n    goerli: {\r\n        chainId: 5,\r\n        ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\r\n        name: \"goerli\",\r\n        _defaultProvider: ethDefaultProvider(\"goerli\")\r\n    },\r\n\r\n    kintsugi: { chainId: 1337702, name: \"kintsugi\" },\r\n\r\n    sepolia: {\r\n        chainId: 11155111,\r\n        name: \"sepolia\",\r\n        _defaultProvider: ethDefaultProvider(\"sepolia\")\r\n    },\r\n\r\n\r\n    // ETC (See: #351)\r\n    classic: {\r\n        chainId: 61,\r\n        name: \"classic\",\r\n        _defaultProvider: etcDefaultProvider(\"https:/\\/www.ethercluster.com/etc\", \"classic\")\r\n    },\r\n\r\n    classicMorden: { chainId: 62, name: \"classicMorden\" },\r\n\r\n    classicMordor: classicMordor,\r\n    classicTestnet: classicMordor,\r\n\r\n    classicKotti: {\r\n        chainId: 6,\r\n        name: \"classicKotti\",\r\n        _defaultProvider: etcDefaultProvider(\"https:/\\/www.ethercluster.com/kotti\", \"classicKotti\")\r\n    },\r\n\r\n    xdai: { chainId: 100, name: \"xdai\" },\r\n\r\n    matic: {\r\n        chainId: 137,\r\n        name: \"matic\",\r\n        _defaultProvider: ethDefaultProvider(\"matic\")\r\n    },\r\n    maticmum: { chainId: 80001, name: \"maticmum\" },\r\n\r\n    optimism: {\r\n        chainId: 10,\r\n        name: \"optimism\",\r\n        _defaultProvider: ethDefaultProvider(\"optimism\")\r\n    },\r\n    \"optimism-kovan\": { chainId: 69, name: \"optimism-kovan\" },\r\n    \"optimism-goerli\": { chainId: 420, name: \"optimism-goerli\" },\r\n\r\n    arbitrum: { chainId: 42161, name: \"arbitrum\" },\r\n    \"arbitrum-rinkeby\": { chainId: 421611, name: \"arbitrum-rinkeby\" },\r\n    \"arbitrum-goerli\": { chainId: 421613, name: \"arbitrum-goerli\" },\r\n\r\n    bnb: { chainId: 56, name: \"bnb\" },\r\n    bnbt: { chainId: 97, name: \"bnbt\" },\r\n}\r\n\r\n/**\r\n *  getNetwork\r\n *\r\n *  Converts a named common networks or chain ID (network ID) to a Network\r\n *  and verifies a network is a valid Network..\r\n */\r\nexport function getNetwork(network: Networkish): Network {\r\n    // No network (null)\r\n    if (network == null) { return null; }\r\n\r\n    if (typeof(network) === \"number\") {\r\n        for (const name in networks) {\r\n            const standard = networks[name];\r\n            if (standard.chainId === network) {\r\n                return {\r\n                    name: standard.name,\r\n                    chainId: standard.chainId,\r\n                    ensAddress: (standard.ensAddress || null),\r\n                    _defaultProvider: (standard._defaultProvider || null)\r\n                };\r\n            }\r\n        }\r\n\r\n        return {\r\n            chainId: network,\r\n            name: \"unknown\"\r\n        };\r\n    }\r\n\r\n    if (typeof(network) === \"string\") {\r\n        const standard = networks[network];\r\n        if (standard == null) { return null; }\r\n        return {\r\n            name: standard.name,\r\n            chainId: standard.chainId,\r\n            ensAddress: standard.ensAddress,\r\n            _defaultProvider: (standard._defaultProvider || null)\r\n        };\r\n    }\r\n\r\n    const standard  = networks[network.name];\r\n\r\n    // Not a standard network; check that it is a valid network in general\r\n    if (!standard) {\r\n        if (typeof(network.chainId) !== \"number\") {\r\n            logger.throwArgumentError(\"invalid network chainId\", \"network\", network);\r\n        }\r\n        return network;\r\n    }\r\n\r\n    // Make sure the chainId matches the expected network chainId (or is 0; disable EIP-155)\r\n    if (network.chainId !== 0 && network.chainId !== standard.chainId) {\r\n        logger.throwArgumentError(\"network chainId mismatch\", \"network\", network);\r\n    }\r\n\r\n    // @TODO: In the next major version add an attach function to a defaultProvider\r\n    // class and move the _defaultProvider internal to this file (extend Network)\r\n    let defaultProvider: DefaultProviderFunc = network._defaultProvider || null;\r\n    if (defaultProvider == null && standard._defaultProvider) {\r\n        if (isRenetworkable(standard._defaultProvider)) {\r\n            defaultProvider = standard._defaultProvider.renetwork(network);\r\n        } else {\r\n            defaultProvider = standard._defaultProvider;\r\n        }\r\n    }\r\n\r\n    // Standard Network (allow overriding the ENS address)\r\n    return {\r\n        name: network.name,\r\n        chainId: standard.chainId,\r\n        ensAddress: (network.ensAddress || standard.ensAddress || null),\r\n        _defaultProvider: defaultProvider\r\n    };\r\n}\r\n", "\"use strict\";\r\n\r\nimport { arrayify, BytesLike } from \"@ethersproject/bytes\";\r\n\r\nexport function decode(textData: string): Uint8Array {\r\n    textData = atob(textData);\r\n    const data = [];\r\n    for (let i = 0; i < textData.length; i++) {\r\n        data.push(textData.charCodeAt(i));\r\n    }\r\n    return arrayify(data);\r\n}\r\n\r\nexport function encode(data: BytesLike): string {\r\n    data = arrayify(data);\r\n    let textData = \"\";\r\n    for (let i = 0; i < data.length; i++) {\r\n        textData += String.fromCharCode(data[i]);\r\n    }\r\n    return btoa(textData);\r\n}\r\n\r\n\r\n", "\"use strict\";\r\n\r\nexport { decode, encode } from \"./base64\";\r\n", "/**\r\n * var basex = require(\"base-x\");\r\n *\r\n * This implementation is heavily based on base-x. The main reason to\r\n * deviate was to prevent the dependency of Buffer.\r\n *\r\n * Contributors:\r\n *\r\n * base-x encoding\r\n * Forked from https://github.com/cryptocoinjs/bs58\r\n * Originally written by Mike Hearn for BitcoinJ\r\n * Copyright (c) 2011 Google Inc\r\n * Ported to JavaScript by Stefan Thomas\r\n * Merged Buffer refactorings from base58-native by Stephen Pair\r\n * Copyright (c) 2013 BitPay Inc\r\n *\r\n * The MIT License (MIT)\r\n *\r\n * Copyright base-x contributors (c) 2016\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\r\n * IN THE SOFTWARE.\r\n *\r\n */\r\n\r\nimport { arrayify, BytesLike } from \"@ethersproject/bytes\";\r\nimport { defineReadOnly } from \"@ethersproject/properties\";\r\n\r\nexport class BaseX {\r\n    readonly alphabet: string;\r\n    readonly base: number;\r\n\r\n    _alphabetMap: { [ character: string ]: number };\r\n    _leader: string;\r\n\r\n    constructor(alphabet: string) {\r\n        defineReadOnly(this, \"alphabet\", alphabet);\r\n        defineReadOnly(this, \"base\", alphabet.length);\r\n\r\n        defineReadOnly(this, \"_alphabetMap\", { });\r\n        defineReadOnly(this, \"_leader\", alphabet.charAt(0));\r\n\r\n        // pre-compute lookup table\r\n        for (let i = 0; i < alphabet.length; i++) {\r\n            this._alphabetMap[alphabet.charAt(i)] = i;\r\n        }\r\n    }\r\n\r\n    encode(value: BytesLike): string {\r\n        let source = arrayify(value);\r\n\r\n        if (source.length === 0) { return \"\"; }\r\n\r\n        let digits = [ 0 ]\r\n        for (let i = 0; i < source.length; ++i) {\r\n            let carry = source[i];\r\n            for (let j = 0; j < digits.length; ++j) {\r\n                carry += digits[j] << 8;\r\n                digits[j] = carry % this.base;\r\n                carry = (carry / this.base) | 0;\r\n            }\r\n\r\n            while (carry > 0) {\r\n                digits.push(carry % this.base);\r\n                carry = (carry / this.base) | 0;\r\n            }\r\n        }\r\n\r\n        let string = \"\"\r\n\r\n        // deal with leading zeros\r\n        for (let k = 0; source[k] === 0 && k < source.length - 1; ++k) {\r\n            string += this._leader;\r\n        }\r\n\r\n        // convert digits to a string\r\n        for (let q = digits.length - 1; q >= 0; --q) {\r\n            string += this.alphabet[digits[q]];\r\n        }\r\n\r\n        return string;\r\n    }\r\n\r\n    decode(value: string): Uint8Array {\r\n        if (typeof(value) !== \"string\") {\r\n            throw new TypeError(\"Expected String\");\r\n        }\r\n\r\n        let bytes: Array<number> = [];\r\n        if (value.length === 0) { return new Uint8Array(bytes); }\r\n\r\n        bytes.push(0);\r\n        for (let i = 0; i < value.length; i++) {\r\n            let byte = this._alphabetMap[value[i]];\r\n\r\n            if (byte === undefined) {\r\n                throw new Error(\"Non-base\" + this.base + \" character\");\r\n            }\r\n\r\n            let carry = byte;\r\n            for (let j = 0; j < bytes.length; ++j) {\r\n                carry += bytes[j] * this.base;\r\n                bytes[j] = carry & 0xff;\r\n                carry >>= 8;\r\n            }\r\n\r\n            while (carry > 0) {\r\n                bytes.push(carry & 0xff);\r\n                carry >>= 8;\r\n            }\r\n        }\r\n\r\n        // deal with leading zeros\r\n        for (let k = 0; value[k] === this._leader && k < value.length - 1; ++k) {\r\n            bytes.push(0)\r\n        }\r\n\r\n        return arrayify(new Uint8Array(bytes.reverse()))\r\n    }\r\n}\r\n\r\nconst Base32 = new BaseX(\"abcdefghijklmnopqrstuvwxyz234567\");\r\nconst Base58 = new BaseX(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\");\r\n\r\nexport { Base32, Base58 };\r\n\r\n//console.log(Base58.decode(\"Qmd2V777o5XvJbYMeMb8k2nU5f8d3ciUQ5YpYuWhzv8iDj\"))\r\n//console.log(Base58.encode(Base58.decode(\"Qmd2V777o5XvJbYMeMb8k2nU5f8d3ciUQ5YpYuWhzv8iDj\")))\r\n", "\"use strict\";\r\n\r\nimport sha3 from \"js-sha3\";\r\n\r\nimport { arrayify, BytesLike } from \"@ethersproject/bytes\";\r\n\r\nexport function keccak256(data: BytesLike): string {\r\n    return '0x' + sha3.keccak_256(arrayify(data));\r\n}\r\n", "export const version = \"strings/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { arrayify, BytesLike } from \"@ethersproject/bytes\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n///////////////////////////////\r\n\r\nexport enum UnicodeNormalizationForm {\r\n    current  = \"\",\r\n    NFC      = \"NFC\",\r\n    NFD      = \"NFD\",\r\n    NFKC     = \"NFKC\",\r\n    NFKD     = \"NFKD\"\r\n};\r\n\r\nexport enum Utf8ErrorReason {\r\n    // A continuation byte was present where there was nothing to continue\r\n    // - offset = the index the codepoint began in\r\n    UNEXPECTED_CONTINUE   = \"unexpected continuation byte\",\r\n\r\n    // An invalid (non-continuation) byte to start a UTF-8 codepoint was found\r\n    // - offset = the index the codepoint began in\r\n    BAD_PREFIX            = \"bad codepoint prefix\",\r\n\r\n    // The string is too short to process the expected codepoint\r\n    // - offset = the index the codepoint began in\r\n    OVERRUN               = \"string overrun\",\r\n\r\n    // A missing continuation byte was expected but not found\r\n    // - offset = the index the continuation byte was expected at\r\n    MISSING_CONTINUE      = \"missing continuation byte\",\r\n\r\n    // The computed code point is outside the range for UTF-8\r\n    // - offset       = start of this codepoint\r\n    // - badCodepoint = the computed codepoint; outside the UTF-8 range\r\n    OUT_OF_RANGE          = \"out of UTF-8 range\",\r\n\r\n    // UTF-8 strings may not contain UTF-16 surrogate pairs\r\n    // - offset       = start of this codepoint\r\n    // - badCodepoint = the computed codepoint; inside the UTF-16 surrogate range\r\n    UTF16_SURROGATE       = \"UTF-16 surrogate\",\r\n\r\n    // The string is an overlong representation\r\n    // - offset       = start of this codepoint\r\n    // - badCodepoint = the computed codepoint; already bounds checked\r\n    OVERLONG              = \"overlong representation\",\r\n};\r\n\r\n\r\nexport type Utf8ErrorFunc = (reason: Utf8ErrorReason, offset: number, bytes: ArrayLike<number>, output: Array<number>, badCodepoint?: number) => number;\r\n\r\nfunction errorFunc(reason: Utf8ErrorReason, offset: number, bytes: ArrayLike<number>, output: Array<number>, badCodepoint?: number): number {\r\n    return logger.throwArgumentError(`invalid codepoint at offset ${ offset }; ${ reason }`, \"bytes\", bytes);\r\n}\r\n\r\nfunction ignoreFunc(reason: Utf8ErrorReason, offset: number, bytes: ArrayLike<number>, output: Array<number>, badCodepoint?: number): number {\r\n\r\n    // If there is an invalid prefix (including stray continuation), skip any additional continuation bytes\r\n    if (reason === Utf8ErrorReason.BAD_PREFIX || reason === Utf8ErrorReason.UNEXPECTED_CONTINUE) {\r\n        let i = 0;\r\n        for (let o = offset + 1; o < bytes.length; o++) {\r\n            if (bytes[o] >> 6 !== 0x02) { break; }\r\n            i++;\r\n        }\r\n        return i;\r\n    }\r\n\r\n    // This byte runs us past the end of the string, so just jump to the end\r\n    // (but the first byte was read already read and therefore skipped)\r\n    if (reason === Utf8ErrorReason.OVERRUN) {\r\n        return bytes.length - offset - 1;\r\n    }\r\n\r\n    // Nothing to skip\r\n    return 0;\r\n}\r\n\r\nfunction replaceFunc(reason: Utf8ErrorReason, offset: number, bytes: ArrayLike<number>, output: Array<number>, badCodepoint?: number): number {\r\n\r\n    // Overlong representations are otherwise \"valid\" code points; just non-deistingtished\r\n    if (reason === Utf8ErrorReason.OVERLONG) {\r\n        output.push(badCodepoint);\r\n        return 0;\r\n    }\r\n\r\n    // Put the replacement character into the output\r\n    output.push(0xfffd);\r\n\r\n    // Otherwise, process as if ignoring errors\r\n    return ignoreFunc(reason, offset, bytes, output, badCodepoint);\r\n}\r\n\r\n// Common error handing strategies\r\nexport const Utf8ErrorFuncs: { [ name: string ]: Utf8ErrorFunc } = Object.freeze({\r\n    error: errorFunc,\r\n    ignore: ignoreFunc,\r\n    replace: replaceFunc\r\n});\r\n\r\n// http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\r\nfunction getUtf8CodePoints(bytes: BytesLike, onError?: Utf8ErrorFunc): Array<number> {\r\n    if (onError == null) { onError = Utf8ErrorFuncs.error; }\r\n\r\n    bytes = arrayify(bytes);\r\n\r\n    const result: Array<number> = [];\r\n    let i = 0;\r\n\r\n    // Invalid bytes are ignored\r\n    while(i < bytes.length) {\r\n\r\n        const c = bytes[i++];\r\n\r\n        // 0xxx xxxx\r\n        if (c >> 7 === 0) {\r\n            result.push(c);\r\n            continue;\r\n        }\r\n\r\n        // Multibyte; how many bytes left for this character?\r\n        let extraLength = null;\r\n        let overlongMask = null;\r\n\r\n        // 110x xxxx 10xx xxxx\r\n        if ((c & 0xe0) === 0xc0) {\r\n            extraLength = 1;\r\n            overlongMask = 0x7f;\r\n\r\n        // 1110 xxxx 10xx xxxx 10xx xxxx\r\n        } else if ((c & 0xf0) === 0xe0) {\r\n            extraLength = 2;\r\n            overlongMask = 0x7ff;\r\n\r\n        // 1111 0xxx 10xx xxxx 10xx xxxx 10xx xxxx\r\n        } else if ((c & 0xf8) === 0xf0) {\r\n            extraLength = 3;\r\n            overlongMask = 0xffff;\r\n\r\n        } else {\r\n            if ((c & 0xc0) === 0x80) {\r\n                i += onError(Utf8ErrorReason.UNEXPECTED_CONTINUE, i - 1, bytes, result);\r\n            } else {\r\n                i += onError(Utf8ErrorReason.BAD_PREFIX, i - 1, bytes, result);\r\n            }\r\n            continue;\r\n        }\r\n\r\n        // Do we have enough bytes in our data?\r\n        if (i - 1 + extraLength >= bytes.length) {\r\n            i += onError(Utf8ErrorReason.OVERRUN, i - 1, bytes, result);\r\n            continue;\r\n        }\r\n\r\n        // Remove the length prefix from the char\r\n        let res = c & ((1 << (8 - extraLength - 1)) - 1);\r\n\r\n        for (let j = 0; j < extraLength; j++) {\r\n            let nextChar = bytes[i];\r\n\r\n            // Invalid continuation byte\r\n            if ((nextChar & 0xc0) != 0x80) {\r\n                i += onError(Utf8ErrorReason.MISSING_CONTINUE, i, bytes, result);\r\n                res = null;\r\n                break;\r\n            };\r\n\r\n            res = (res << 6) | (nextChar & 0x3f);\r\n            i++;\r\n        }\r\n\r\n        // See above loop for invalid continuation byte\r\n        if (res === null) { continue; }\r\n\r\n        // Maximum code point\r\n        if (res > 0x10ffff) {\r\n            i += onError(Utf8ErrorReason.OUT_OF_RANGE, i - 1 - extraLength, bytes, result, res);\r\n            continue;\r\n        }\r\n\r\n        // Reserved for UTF-16 surrogate halves\r\n        if (res >= 0xd800 && res <= 0xdfff) {\r\n            i += onError(Utf8ErrorReason.UTF16_SURROGATE, i - 1 - extraLength, bytes, result, res);\r\n            continue;\r\n        }\r\n\r\n        // Check for overlong sequences (more bytes than needed)\r\n        if (res <= overlongMask) {\r\n            i += onError(Utf8ErrorReason.OVERLONG, i - 1 - extraLength, bytes, result, res);\r\n            continue;\r\n        }\r\n\r\n        result.push(res);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\r\nexport function toUtf8Bytes(str: string, form: UnicodeNormalizationForm = UnicodeNormalizationForm.current): Uint8Array {\r\n\r\n    if (form != UnicodeNormalizationForm.current) {\r\n        logger.checkNormalize();\r\n        str = str.normalize(form);\r\n    }\r\n\r\n    let result = [];\r\n    for (let i = 0; i < str.length; i++) {\r\n        const c = str.charCodeAt(i);\r\n\r\n        if (c < 0x80) {\r\n            result.push(c);\r\n\r\n        } else if (c < 0x800) {\r\n            result.push((c >> 6) | 0xc0);\r\n            result.push((c & 0x3f) | 0x80);\r\n\r\n        } else if ((c & 0xfc00) == 0xd800) {\r\n            i++;\r\n            const c2 = str.charCodeAt(i);\r\n\r\n            if (i >= str.length || (c2 & 0xfc00) !== 0xdc00) {\r\n                throw new Error(\"invalid utf-8 string\");\r\n            }\r\n\r\n            // Surrogate Pair\r\n            const pair = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\r\n            result.push((pair >> 18) | 0xf0);\r\n            result.push(((pair >> 12) & 0x3f) | 0x80);\r\n            result.push(((pair >> 6) & 0x3f) | 0x80);\r\n            result.push((pair & 0x3f) | 0x80);\r\n\r\n        } else {\r\n            result.push((c >> 12) | 0xe0);\r\n            result.push(((c >> 6) & 0x3f) | 0x80);\r\n            result.push((c & 0x3f) | 0x80);\r\n        }\r\n    }\r\n\r\n    return arrayify(result);\r\n};\r\n\r\nfunction escapeChar(value: number) {\r\n    const hex = (\"0000\" + value.toString(16));\r\n    return \"\\\\u\" + hex.substring(hex.length - 4);\r\n}\r\n\r\nexport function _toEscapedUtf8String(bytes: BytesLike, onError?: Utf8ErrorFunc): string {\r\n    return '\"' + getUtf8CodePoints(bytes, onError).map((codePoint) => {\r\n        if (codePoint < 256) {\r\n            switch (codePoint) {\r\n                case 8:  return \"\\\\b\";\r\n                case 9:  return \"\\\\t\";\r\n                case 10: return \"\\\\n\"\r\n                case 13: return \"\\\\r\";\r\n                case 34: return \"\\\\\\\"\";\r\n                case 92: return \"\\\\\\\\\";\r\n            }\r\n\r\n            if (codePoint >= 32 && codePoint < 127) {\r\n                return String.fromCharCode(codePoint);\r\n            }\r\n        }\r\n\r\n        if (codePoint <= 0xffff) {\r\n            return escapeChar(codePoint);\r\n        }\r\n\r\n        codePoint -= 0x10000;\r\n        return escapeChar(((codePoint >> 10) & 0x3ff) + 0xd800) + escapeChar((codePoint & 0x3ff) + 0xdc00);\r\n    }).join(\"\") + '\"';\r\n}\r\n\r\nexport function _toUtf8String(codePoints: Array<number>): string {\r\n    return codePoints.map((codePoint) => {\r\n        if (codePoint <= 0xffff) {\r\n            return String.fromCharCode(codePoint);\r\n        }\r\n        codePoint -= 0x10000;\r\n        return String.fromCharCode(\r\n            (((codePoint >> 10) & 0x3ff) + 0xd800),\r\n            ((codePoint & 0x3ff) + 0xdc00)\r\n        );\r\n    }).join(\"\");\r\n}\r\n\r\nexport function toUtf8String(bytes: BytesLike, onError?: Utf8ErrorFunc): string {\r\n    return _toUtf8String(getUtf8CodePoints(bytes, onError));\r\n}\r\n\r\nexport function toUtf8CodePoints(str: string, form: UnicodeNormalizationForm = UnicodeNormalizationForm.current): Array<number> {\r\n    return getUtf8CodePoints(toUtf8Bytes(str, form));\r\n}\r\n", "\"use strict\";\r\n\r\nimport { HashZero } from \"@ethersproject/constants\";\r\nimport { arrayify, BytesLike, concat, hexlify } from \"@ethersproject/bytes\";\r\n\r\nimport { toUtf8Bytes, toUtf8String } from \"./utf8\";\r\n\r\n\r\nexport function formatBytes32String(text: string): string {\r\n\r\n    // Get the bytes\r\n    const bytes = toUtf8Bytes(text);\r\n\r\n    // Check we have room for null-termination\r\n    if (bytes.length > 31) { throw new Error(\"bytes32 string must be less than 32 bytes\"); }\r\n\r\n    // Zero-pad (implicitly null-terminates)\r\n    return hexlify(concat([ bytes, HashZero ]).slice(0, 32));\r\n}\r\n\r\nexport function parseBytes32String(bytes: BytesLike): string {\r\n    const data = arrayify(bytes);\r\n\r\n    // Must be 32 bytes with a null-termination\r\n    if (data.length !== 32) { throw new Error(\"invalid bytes32 - not 32 bytes long\"); }\r\n    if (data[31] !== 0) { throw new Error(\"invalid bytes32 string - no null terminator\"); }\r\n\r\n    // Find the null termination\r\n    let length = 31;\r\n    while (data[length - 1] === 0) { length--; }\r\n\r\n    // Determine the string value\r\n    return toUtf8String(data.slice(0, length));\r\n}\r\n\r\n", "\"use strict\";\r\n\r\nimport { toUtf8CodePoints, _toUtf8String, UnicodeNormalizationForm } from \"./utf8\";\r\n\r\ntype Ranged = {\r\n    l: number,          // Lo value\r\n    h: number,          // High value (less the lo)\r\n    d?: number,         // Delta/stride (default: 1)\r\n    s?: number,         // Shift (default: 1)\r\n    e?: Array<number>   // Exceptions to skip\r\n};\r\n\r\ntype Table = { [ src: number ]: Array<number> };\r\n\r\nfunction bytes2(data: string): Array<number> {\r\n    if ((data.length % 4) !== 0) { throw new Error(\"bad data\"); }\r\n    let result = [];\r\n    for (let i = 0; i < data.length; i += 4) {\r\n        result.push(parseInt(data.substring(i, i + 4), 16));\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction createTable(data: string, func?: (value: string) => Array<number>): Table {\r\n    if (!func) {\r\n        func = function(value: string) { return [ parseInt(value, 16) ]; }\r\n    }\r\n\r\n    let lo = 0;\r\n\r\n    let result: Table = { };\r\n    data.split(\",\").forEach((pair) => {\r\n        let comps = pair.split(\":\");\r\n        lo += parseInt(comps[0], 16);\r\n        result[lo] = func(comps[1]);\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nfunction createRangeTable(data: string): Array<Ranged> {\r\n    let hi = 0;\r\n    return data.split(\",\").map((v) => {\r\n        let comps = v.split(\"-\");\r\n        if (comps.length === 1) {\r\n            comps[1] = \"0\";\r\n        } else if (comps[1] === \"\") {\r\n            comps[1] = \"1\";\r\n        }\r\n\r\n        let lo = hi + parseInt(comps[0], 16);\r\n        hi = parseInt(comps[1], 16);\r\n        return { l: lo, h: hi };\r\n    });\r\n}\r\n\r\nfunction matchMap(value: number, ranges: Array<Ranged>): Ranged {\r\n    let lo = 0;\r\n    for (let i = 0; i < ranges.length; i++) {\r\n        let range = ranges[i];\r\n        lo += range.l;\r\n        if (value >= lo && value <= lo + range.h && ((value - lo) % (range.d || 1)) === 0) {\r\n            if (range.e && range.e.indexOf(value - lo) !== -1) { continue; }\r\n            return range;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nconst Table_A_1_ranges = createRangeTable(\"221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d\");\r\n\r\n// @TODO: Make this relative...\r\nconst Table_B_1_flags = \"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff\".split(\",\").map((v) => parseInt(v, 16));\r\n\r\nconst Table_B_2_ranges: Array<Ranged> = [\r\n    { h: 25, s: 32, l: 65 },\r\n    { h: 30, s: 32, e: [ 23 ], l: 127 },\r\n    { h: 54, s: 1, e: [ 48 ], l: 64, d: 2 },\r\n    { h: 14, s: 1, l: 57, d: 2 },\r\n    { h: 44, s: 1, l: 17, d: 2 },\r\n    { h: 10, s: 1, e: [ 2, 6, 8 ], l: 61, d: 2 },\r\n    { h: 16, s: 1, l: 68, d: 2 },\r\n    { h: 84, s: 1, e: [ 18, 24, 66 ], l: 19, d: 2 },\r\n    { h: 26, s: 32, e: [ 17 ], l: 435 },\r\n    { h: 22, s: 1, l: 71, d: 2 },\r\n    { h: 15, s: 80, l: 40 },\r\n    { h: 31, s: 32, l: 16 },\r\n    { h: 32, s: 1, l: 80, d: 2 },\r\n    { h: 52, s: 1, l: 42, d: 2 },\r\n    { h: 12, s: 1, l: 55, d: 2 },\r\n    { h: 40, s: 1, e: [ 38 ], l: 15, d: 2 },\r\n    { h: 14, s: 1, l: 48, d: 2 },\r\n    { h: 37, s: 48, l: 49 },\r\n    { h: 148, s: 1, l: 6351, d: 2 },\r\n    { h: 88, s: 1, l: 160, d: 2 },\r\n    { h: 15, s: 16, l: 704 },\r\n    { h: 25, s: 26, l: 854 },\r\n    { h: 25, s: 32, l: 55915 },\r\n    { h: 37, s: 40, l: 1247 },\r\n    { h: 25, s: -119711, l: 53248 },\r\n    { h: 25, s: -119763, l: 52 },\r\n    { h: 25, s: -119815, l: 52 },\r\n    { h: 25, s: -119867, e: [ 1, 4, 5, 7, 8, 11, 12, 17 ], l: 52 },\r\n    { h: 25, s: -119919, l: 52 },\r\n    { h: 24, s: -119971, e: [ 2, 7, 8, 17 ], l: 52 },\r\n    { h: 24, s: -120023, e: [ 2, 7, 13, 15, 16, 17 ], l: 52 },\r\n    { h: 25, s: -120075, l: 52 },\r\n    { h: 25, s: -120127, l: 52 },\r\n    { h: 25, s: -120179, l: 52 },\r\n    { h: 25, s: -120231, l: 52 },\r\n    { h: 25, s: -120283, l: 52 },\r\n    { h: 25, s: -120335, l: 52 },\r\n    { h: 24, s: -119543, e: [ 17 ], l: 56 },\r\n    { h: 24, s: -119601, e: [ 17 ], l: 58 },\r\n    { h: 24, s: -119659, e: [ 17 ], l: 58 },\r\n    { h: 24, s: -119717, e: [ 17 ], l: 58 },\r\n    { h: 24, s: -119775, e: [ 17 ], l: 58 }\r\n];\r\nconst Table_B_2_lut_abs = createTable(\"b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3\");\r\nconst Table_B_2_lut_rel = createTable(\"179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7\");\r\nconst Table_B_2_complex = createTable(\"df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D\", bytes2);\r\n\r\nconst Table_C_ranges = createRangeTable(\"80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001\");\r\n\r\n\r\nfunction flatten(values: Array<Array<number>>): Array<number> {\r\n    return values.reduce((accum, value) => {\r\n        value.forEach((value) => { accum.push(value); });\r\n        return accum;\r\n    }, [ ]);\r\n}\r\n\r\nexport function _nameprepTableA1(codepoint: number): boolean {\r\n    return !!matchMap(codepoint, Table_A_1_ranges);\r\n}\r\n\r\nexport function _nameprepTableB2(codepoint: number): Array<number> {\r\n    let range = matchMap(codepoint, Table_B_2_ranges);\r\n    if (range) { return [ codepoint + range.s ]; }\r\n\r\n    let codes = Table_B_2_lut_abs[codepoint];\r\n    if (codes) { return codes; }\r\n\r\n    let shift = Table_B_2_lut_rel[codepoint];\r\n    if (shift) { return [ codepoint + shift[0] ]; }\r\n\r\n    let complex = Table_B_2_complex[codepoint];\r\n    if (complex) { return complex; }\r\n\r\n    return null;\r\n}\r\n\r\nexport function _nameprepTableC(codepoint: number): boolean {\r\n    return !!matchMap(codepoint, Table_C_ranges);\r\n}\r\n\r\nexport function nameprep(value: string): string {\r\n\r\n    // This allows platforms with incomplete normalize to bypass\r\n    // it for very basic names which the built-in toLowerCase\r\n    // will certainly handle correctly\r\n    if (value.match(/^[a-z0-9-]*$/i) && value.length <= 59) { return value.toLowerCase(); }\r\n\r\n    // Get the code points (keeping the current normalization)\r\n    let codes = toUtf8CodePoints(value);\r\n\r\n    codes = flatten(codes.map((code) => {\r\n        // Substitute Table B.1 (Maps to Nothing)\r\n        if (Table_B_1_flags.indexOf(code) >= 0) { return [ ]; }\r\n        if (code >= 0xfe00 && code <= 0xfe0f) { return [ ]; }\r\n\r\n        // Substitute Table B.2 (Case Folding)\r\n        let codesTableB2 = _nameprepTableB2(code);\r\n        if (codesTableB2) { return codesTableB2; }\r\n\r\n        // No Substitution\r\n        return [ code ];\r\n    }));\r\n\r\n    // Normalize using form KC\r\n    codes = toUtf8CodePoints(_toUtf8String(codes), UnicodeNormalizationForm.NFKC);\r\n\r\n    // Prohibit Tables C.1.2, C.2.2, C.3, C.4, C.5, C.6, C.7, C.8, C.9\r\n    codes.forEach((code) => {\r\n        if (_nameprepTableC(code)) {\r\n            throw new Error(\"STRINGPREP_CONTAINS_PROHIBITED\");\r\n        }\r\n    });\r\n\r\n    // Prohibit Unassigned Code Points (Table A.1)\r\n    codes.forEach((code) => {\r\n        if (_nameprepTableA1(code)) {\r\n            throw new Error(\"STRINGPREP_CONTAINS_UNASSIGNED\");\r\n        }\r\n    });\r\n\r\n    // IDNA extras\r\n    let name = _toUtf8String(codes);\r\n\r\n    // IDNA: 4.2.3.1\r\n    if (name.substring(0, 1) === \"-\" || name.substring(2, 4) === \"--\" || name.substring(name.length - 1) === \"-\") {\r\n        throw new Error(\"invalid hyphen\");\r\n    }\r\n\r\n    return name;\r\n}\r\n\r\n", "\"use strict\";\r\n\r\nimport { formatBytes32String, parseBytes32String } from \"./bytes32\";\r\nimport { nameprep } from \"./idna\";\r\nimport { _toEscapedUtf8String, toUtf8Bytes, toUtf8CodePoints, toUtf8String, UnicodeNormalizationForm, Utf8ErrorFunc, Utf8ErrorFuncs, Utf8ErrorReason } from \"./utf8\";\r\n\r\nexport {\r\n    _toEscapedUtf8String,\r\n    toUtf8Bytes,\r\n    toUtf8CodePoints,\r\n    toUtf8String,\r\n\r\n    Utf8ErrorFunc,\r\n    Utf8ErrorFuncs,\r\n    Utf8ErrorReason,\r\n\r\n    UnicodeNormalizationForm,\r\n\r\n    formatBytes32String,\r\n    parseBytes32String,\r\n\r\n    nameprep\r\n}\r\n", "import { keccak256 } from \"@ethersproject/keccak256\";\r\nimport { toUtf8Bytes } from \"@ethersproject/strings\";\r\n\r\nexport function id(text: string): string {\r\n    return keccak256(toUtf8Bytes(text));\r\n}\r\n", "export const version = \"hash/5.7.0\";\r\n", "/**\r\n * MIT License\r\n *\r\n * Copyright (c) 2021 Andrew Raffensperger\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n *\r\n * This is a near carbon-copy of the original source (link below) with the\r\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\r\n *\r\n * See: https://github.com/adraffy/ens-normalize.js\r\n */\r\n\r\nexport type Numbers = Uint8Array | Array<number>;\r\nexport type NextFunc = (...args: Array<any>) => number;\r\n\r\n// https://github.com/behnammodi/polyfill/blob/master/array.polyfill.js\r\nfunction flat(array: Array<any>, depth?: number): Array<any> {\r\n    if (depth == null) { depth = 1; }\r\n    const result: Array<any> = [];\r\n\r\n    const forEach = result.forEach;\r\n\r\n    const flatDeep = function (arr: Array<any>, depth: number) {\r\n        forEach.call(arr, function (val: any) {\r\n            if (depth > 0 && Array.isArray(val)) {\r\n                flatDeep(val, depth - 1);\r\n            } else {\r\n               result.push(val);\r\n            }\r\n        });\r\n    };\r\n\r\n    flatDeep(array, depth);\r\n    return result;\r\n}\r\n\r\nfunction fromEntries<T extends string | number | symbol = string | number | symbol, U = any>(array: Array<[T, U]>): Record<T, U> {\r\n    const result: Record<T, U> = <Record<T, U>>{ };\r\n    for (let i = 0; i < array.length; i++) {\r\n        const value = array[i];\r\n        result[value[0]] = value[1];\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function decode_arithmetic(bytes: Numbers): Array<number> {\r\n\tlet pos = 0;\r\n\tfunction u16() { return (bytes[pos++] << 8) | bytes[pos++]; }\r\n\t\r\n\t// decode the frequency table\r\n\tlet symbol_count = u16();\r\n\tlet total = 1;\r\n\tlet acc = [0, 1]; // first symbol has frequency 1\r\n\tfor (let i = 1; i < symbol_count; i++) {\r\n\t\tacc.push(total += u16());\r\n\t}\r\n\r\n\t// skip the sized-payload that the last 3 symbols index into\r\n\tlet skip = u16();\r\n\tlet pos_payload = pos;\r\n\tpos += skip;\r\n\r\n\tlet read_width = 0;\r\n\tlet read_buffer = 0; \r\n\tfunction read_bit() {\r\n\t\tif (read_width == 0) {\r\n\t\t\t// this will read beyond end of buffer\r\n\t\t\t// but (undefined|0) => zero pad\r\n\t\t\tread_buffer = (read_buffer << 8) | bytes[pos++];\r\n\t\t\tread_width = 8;\r\n\t\t}\r\n\t\treturn (read_buffer >> --read_width) & 1;\r\n\t}\r\n\r\n\tconst N = 31;\r\n\tconst FULL = 2**N;\r\n\tconst HALF = FULL >>> 1;\r\n\tconst QRTR = HALF >> 1;\r\n\tconst MASK = FULL - 1;\r\n\r\n\t// fill register\r\n\tlet register = 0;\r\n\tfor (let i = 0; i < N; i++) register = (register << 1) | read_bit();\r\n\r\n\tlet symbols = [];\r\n\tlet low = 0;\r\n\tlet range = FULL; // treat like a float\r\n\twhile (true) {\r\n\t\tlet value = Math.floor((((register - low + 1) * total) - 1) / range);\r\n\t\tlet start = 0;\r\n\t\tlet end = symbol_count;\r\n\t\twhile (end - start > 1) { // binary search\r\n\t\t\tlet mid = (start + end) >>> 1;\r\n\t\t\tif (value < acc[mid]) {\r\n\t\t\t\tend = mid;\r\n\t\t\t} else {\r\n\t\t\t\tstart = mid;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (start == 0) break; // first symbol is end mark\r\n\t\tsymbols.push(start);\r\n\t\tlet a = low + Math.floor(range * acc[start]   / total);\r\n\t\tlet b = low + Math.floor(range * acc[start+1] / total) - 1\r\n\t\twhile (((a ^ b) & HALF) == 0) {\r\n\t\t\tregister = (register << 1) & MASK | read_bit();\r\n\t\t\ta = (a << 1) & MASK;\r\n\t\t\tb = (b << 1) & MASK | 1;\r\n\t\t}\r\n\t\twhile (a & ~b & QRTR) {\r\n\t\t\tregister = (register & HALF) | ((register << 1) & (MASK >>> 1)) | read_bit();\r\n\t\t\ta = (a << 1) ^ HALF;\r\n\t\t\tb = ((b ^ HALF) << 1) | HALF | 1;\r\n\t\t}\r\n\t\tlow = a;\r\n\t\trange = 1 + b - a;\r\n\t}\r\n\tlet offset = symbol_count - 4;\r\n\treturn symbols.map(x => { // index into payload\r\n\t\tswitch (x - offset) {\r\n\t\t\tcase 3: return offset + 0x10100 + ((bytes[pos_payload++] << 16) | (bytes[pos_payload++] << 8) | bytes[pos_payload++]);\r\n\t\t\tcase 2: return offset + 0x100 + ((bytes[pos_payload++] << 8) | bytes[pos_payload++]);\r\n\t\t\tcase 1: return offset + bytes[pos_payload++];\r\n\t\t\tdefault: return x - 1;\r\n\t\t}\r\n\t});\r\n}\t\r\n\r\n\r\n// returns an iterator which returns the next symbol\r\nexport function read_payload(v: Numbers): NextFunc {\r\n\tlet pos = 0;\r\n\treturn () => v[pos++];\r\n}\r\nexport function read_compressed_payload(bytes: Numbers): NextFunc {\r\n\treturn read_payload(decode_arithmetic(bytes));\r\n}\r\n\r\n// eg. [0,1,2,3...] => [0,-1,1,-2,...]\r\nexport function signed(i: number): number { \r\n\treturn (i & 1) ? (~i >> 1) : (i >> 1);\r\n}\r\n\r\nfunction read_counts(n: number, next: NextFunc): Array<number> {\r\n\tlet v = Array(n);\r\n\tfor (let i = 0; i < n; i++) v[i] = 1 + next();\r\n\treturn v;\r\n}\r\n\r\nfunction read_ascending(n: number, next: NextFunc): Array<number> {\r\n\tlet v = Array(n);\r\n\tfor (let i = 0, x = -1; i < n; i++) v[i] = x += 1 + next();\r\n\treturn v;\r\n}\r\n\r\nfunction read_deltas(n: number, next: NextFunc): Array<number> {\r\n\tlet v = Array(n);\r\n\tfor (let i = 0, x = 0; i < n; i++) v[i] = x += signed(next());\r\n\treturn v;\r\n}\r\n\r\nexport function read_member_array(next: NextFunc, lookup?: Record<number, number>) {\r\n    let v = read_ascending(next(), next);\r\n    let n = next();\r\n    let vX = read_ascending(n, next);\r\n    let vN = read_counts(n, next);\r\n    for (let i = 0; i < n; i++) {\r\n        for (let j = 0; j < vN[i]; j++) {\r\n            v.push(vX[i] + j);\r\n        }\r\n    }\r\n    return lookup ? v.map(x => lookup[x]) : v;\r\n}\r\n\r\n// returns array of \r\n// [x, ys] => single replacement rule\r\n// [x, ys, n, dx, dx] => linear map\r\nexport function read_mapped_map(next: NextFunc): Record<number, Array<number>> {\r\n\tlet ret = [];\r\n\twhile (true) {\r\n\t\tlet w = next();\r\n\t\tif (w == 0) break;\r\n\t\tret.push(read_linear_table(w, next));\r\n\t}\r\n\twhile (true) {\r\n\t\tlet w = next() - 1;\r\n\t\tif (w < 0) break;\r\n\t\tret.push(read_replacement_table(w, next));\r\n\t}\r\n\treturn fromEntries<number, Array<number>>(flat(ret));\r\n}\r\n\r\nexport function read_zero_terminated_array(next: NextFunc): Array<number> {\r\n\tlet v = [];\r\n\twhile (true) {\r\n\t\tlet i = next();\r\n\t\tif (i == 0) break;\r\n\t\tv.push(i);\r\n\t}\r\n\treturn v;\r\n}\r\n\r\nfunction read_transposed(n: number, w: number, next: NextFunc): Array<Array<number>> {\r\n    let m = Array(n).fill(undefined).map(() => []);\r\n    for (let i = 0; i < w; i++) {\r\n        read_deltas(n, next).forEach((x, j) => m[j].push(x));\r\n    }\r\n    return m;\r\n}\r\n\r\n\r\nfunction read_linear_table(w: number, next: NextFunc): Array<Array<number | Array<number>>> {\r\n\tlet dx = 1 + next();\r\n\tlet dy = next();\r\n\tlet vN = read_zero_terminated_array(next);\r\n\tlet m = read_transposed(vN.length, 1+w, next);\r\n\treturn flat(m.map((v, i) => {\r\n\t  const x = v[0], ys = v.slice(1);\r\n\t\t//let [x, ...ys] = v;\r\n\t\t//return Array(vN[i]).fill().map((_, j) => {\r\n\t\treturn Array(vN[i]).fill(undefined).map((_, j) => {\r\n\t\t\tlet j_dy = j * dy;\r\n\t\t\treturn [x + j * dx, ys.map(y => y + j_dy)];\r\n\t\t});\r\n\t}));\r\n}\r\n\r\nfunction read_replacement_table(w: number, next: NextFunc): Array<[ number, Array<number> ]> {\r\n\tlet n = 1 + next();\r\n\tlet m = read_transposed(n, 1+w, next);\r\n\treturn m.map(v => [v[0], v.slice(1)]);\r\n}\r\n\r\nexport type Branch = {\r\n    set: Set<number>;\r\n    node: Node;\r\n};\r\n\r\nexport type Node = {\r\n    branches: Array<Branch>;\r\n    valid: number;\r\n    fe0f: boolean;\r\n    save: boolean;\r\n    check: boolean;\r\n};\r\n\r\nexport function read_emoji_trie(next: NextFunc): Node {\r\n\tlet sorted = read_member_array(next).sort((a, b) => a - b);\r\n\treturn read();\r\n\tfunction read(): Node {\r\n\t\tlet branches = [];\r\n\t\twhile (true) {\r\n\t\t\tlet keys = read_member_array(next, sorted);\r\n\t\t\tif (keys.length == 0) break;\r\n\t\t\tbranches.push({set: new Set(keys), node: read()});\r\n\t\t}\r\n    branches.sort((a, b) => b.set.size - a.set.size); // sort by likelihood\r\n \t\tlet temp = next();\r\n \t\tlet valid = temp % 3;\r\n \t\ttemp = (temp / 3)|0;\r\n \t\tlet fe0f = !!(temp & 1);\r\n \t\ttemp >>= 1;\r\n \t\tlet save = temp == 1;\r\n \t\tlet check = temp == 2;\r\n \t\treturn {branches, valid, fe0f, save, check};\r\n\t}\r\n}\r\n", "/**\r\n * MIT License\r\n *\r\n * Copyright (c) 2021 Andrew Raffensperger\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n *\r\n * This is a near carbon-copy of the original source (link below) with the\r\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\r\n *\r\n * See: https://github.com/adraffy/ens-normalize.js\r\n */\r\n\r\nimport { decode } from \"@ethersproject/base64\";\r\n\r\nimport {read_compressed_payload} from './decoder.js';\r\n\r\nexport function getData(): () => number {\r\n    return read_compressed_payload(decode('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'));\r\n}\r\n\r\n", "/**\r\n * MIT License\r\n *\r\n * Copyright (c) 2021 Andrew Raffensperger\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n *\r\n * This is a near carbon-copy of the original source (link below) with the\r\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\r\n *\r\n * See: https://github.com/adraffy/ens-normalize.js\r\n */\r\n\r\nimport { toUtf8CodePoints } from \"@ethersproject/strings\";\r\n\r\nimport { getData } from './include.js';\r\nconst r = getData();\r\n\r\nimport {read_member_array, read_mapped_map, read_emoji_trie} from './decoder.js';\r\n\r\n// @TODO: This should be lazily loaded\r\n\r\nconst VALID = new Set(read_member_array(r));\r\nconst IGNORED = new Set(read_member_array(r));\r\nconst MAPPED = read_mapped_map(r);\r\nconst EMOJI_ROOT = read_emoji_trie(r);\r\n//const NFC_CHECK = new Set(read_member_array(r, Array.from(VALID.values()).sort((a, b) => a - b)));\r\n\r\n//const STOP = 0x2E;\r\nconst HYPHEN = 0x2D;\r\nconst UNDERSCORE = 0x5F;\r\n\r\nfunction explode_cp(name: string): Array<number> {\r\n    return toUtf8CodePoints(name);\r\n}\r\n\r\nfunction filter_fe0f(cps: Array<number>): Array<number> {\r\n    return cps.filter(cp => cp != 0xFE0F);\r\n}\r\n\r\nexport function ens_normalize_post_check(name: string): string {\r\n\tfor (let label of name.split('.')) {\r\n\t\tlet cps = explode_cp(label);\r\n\t\ttry {\r\n\t\t\tfor (let i = cps.lastIndexOf(UNDERSCORE) - 1; i >= 0; i--) {\r\n\t\t\t\tif (cps[i] !== UNDERSCORE) {\r\n\t\t\t\t\tthrow new Error(`underscore only allowed at start`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (cps.length >= 4 && cps.every(cp => cp < 0x80) && cps[2] === HYPHEN && cps[3] === HYPHEN) {\r\n\t\t\t\tthrow new Error(`invalid label extension`);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tthrow new Error(`Invalid label \"${label}\": ${err.message}`);\r\n\t\t}\r\n\t}\r\n\treturn name;\r\n}\r\n\r\nexport function ens_normalize(name: string): string {\r\n\treturn ens_normalize_post_check(normalize(name, filter_fe0f));\r\n}\r\n\r\nfunction normalize(name: string, emoji_filter: (a: Array<number>) => Array<number>): string {\r\n\tlet input = explode_cp(name).reverse(); // flip for pop\r\n\tlet output = [];\r\n\twhile (input.length) {\t\t\r\n\t\tlet emoji = consume_emoji_reversed(input);\r\n\t\tif (emoji) {\r\n\t\t\toutput.push(...emoji_filter(emoji));\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tlet cp = input.pop();\r\n\t\tif (VALID.has(cp)) {\r\n\t\t\toutput.push(cp);\r\n\t\t\tcontinue;\r\n\t\t} \r\n\t\tif (IGNORED.has(cp)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tlet cps = MAPPED[cp];\r\n\t\tif (cps) {\r\n\t\t\toutput.push(...cps);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tthrow new Error(`Disallowed codepoint: 0x${cp.toString(16).toUpperCase()}`);\r\n\t}\r\n\treturn ens_normalize_post_check(nfc(String.fromCodePoint(...output)));\r\n}\r\n\r\nfunction nfc(s: string): string {\r\n    return s.normalize('NFC');\r\n}\r\n\r\nfunction consume_emoji_reversed(cps: Array<number>, eaten?: Array<number>) {\r\n\tlet node = EMOJI_ROOT;\r\n\tlet emoji;\r\n\tlet saved;\r\n\tlet stack = [];\r\n\tlet pos = cps.length;\r\n\tif (eaten) eaten.length = 0; // clear input buffer (if needed)\r\n\twhile (pos) {\r\n\t\tlet cp = cps[--pos];\r\n\t\tnode = node.branches.find(x => x.set.has(cp))?.node;\r\n\t\tif (!node) break;\r\n\t\tif (node.save) { // remember\r\n\t\t\tsaved = cp;\r\n\t\t} else if (node.check) { // check exclusion\r\n\t\t\tif (cp === saved) break;\r\n\t\t}\r\n\t\tstack.push(cp);\r\n\t\tif (node.fe0f) {\r\n\t\t\tstack.push(0xFE0F);\r\n\t\t\tif (pos > 0 && cps[pos - 1] == 0xFE0F) pos--; // consume optional FE0F\r\n\t\t}\r\n\t\tif (node.valid) { // this is a valid emoji (so far)\r\n\t\t\temoji = stack.slice(); // copy stack\r\n\t\t\tif (node.valid == 2) emoji.splice(1, 1); // delete FE0F at position 1 (RGI ZWJ don't follow spec!)\r\n\t\t\tif (eaten) eaten.push(...cps.slice(pos).reverse()); // copy input (if needed)\r\n\t\t\tcps.length = pos; // truncate\r\n\t\t}\r\n\t}\r\n\treturn emoji;\r\n}\r\n", "import { concat, hexlify } from \"@ethersproject/bytes\";\r\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\r\nimport { keccak256 } from \"@ethersproject/keccak256\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { ens_normalize } from \"./ens-normalize/lib\";\r\n\r\nconst Zeros = new Uint8Array(32);\r\nZeros.fill(0);\r\n\r\nfunction checkComponent(comp: Uint8Array): Uint8Array {\r\n    if (comp.length === 0) { throw new Error(\"invalid ENS name; empty component\"); }\r\n    return comp;\r\n}\r\n\r\nfunction ensNameSplit(name: string): Array<Uint8Array> {\r\n    const bytes = toUtf8Bytes(ens_normalize(name));\r\n    const comps: Array<Uint8Array> = [ ];\r\n\r\n    if (name.length === 0) { return comps; }\r\n\r\n    let last = 0;\r\n    for (let i = 0; i < bytes.length; i++) {\r\n        const d = bytes[i];\r\n\r\n        // A separator (i.e. \".\"); copy this component\r\n        if (d === 0x2e) {\r\n            comps.push(checkComponent(bytes.slice(last, i)));\r\n            last = i + 1;\r\n        }\r\n    }\r\n\r\n    // There was a stray separator at the end of the name\r\n    if (last >= bytes.length) { throw new Error(\"invalid ENS name; empty component\"); }\r\n\r\n    comps.push(checkComponent(bytes.slice(last)));\r\n    return comps;\r\n}\r\n\r\nexport function ensNormalize(name: string): string {\r\n    return ensNameSplit(name).map((comp) => toUtf8String(comp)).join(\".\");\r\n}\r\n\r\nexport function isValidName(name: string): boolean {\r\n    try {\r\n        return (ensNameSplit(name).length !== 0);\r\n    } catch (error) { }\r\n    return false;\r\n}\r\n\r\nexport function namehash(name: string): string {\r\n    /* istanbul ignore if */\r\n    if (typeof(name) !== \"string\") {\r\n        logger.throwArgumentError(\"invalid ENS name; not a string\", \"name\", name);\r\n    }\r\n\r\n    let result: string | Uint8Array = Zeros;\r\n\r\n    const comps = ensNameSplit(name);\r\n    while (comps.length) {\r\n        result = keccak256(concat([result, keccak256(comps.pop())]));\r\n    }\r\n\r\n    return hexlify(result);\r\n}\r\n\r\nexport function dnsEncode(name: string): string {\r\n    return hexlify(concat(ensNameSplit(name).map((comp) => {\r\n        // DNS does not allow components over 63 bytes in length\r\n        if (comp.length > 63) {\r\n            throw new Error(\"invalid DNS encoded entry; length exceeds 63 bytes\");\r\n        }\r\n\r\n        const bytes = new Uint8Array(comp.length + 1);\r\n        bytes.set(comp, 1);\r\n        bytes[0] = bytes.length - 1;\r\n        return bytes;\r\n\r\n    }))) + \"00\";\r\n}\r\n", "import { Bytes, concat } from \"@ethersproject/bytes\";\r\nimport { keccak256 } from \"@ethersproject/keccak256\";\r\nimport { toUtf8Bytes } from \"@ethersproject/strings\";\r\n\r\nexport const messagePrefix = \"\\x19Ethereum Signed Message:\\n\";\r\n\r\nexport function hashMessage(message: Bytes | string): string {\r\n    if (typeof(message) === \"string\") { message = toUtf8Bytes(message); }\r\n    return keccak256(concat([\r\n        toUtf8Bytes(messagePrefix),\r\n        toUtf8Bytes(String(message.length)),\r\n        message\r\n    ]));\r\n}\r\n\r\n", "export const version = \"rlp/5.7.0\";\r\n", "\"use strict\";\r\n\r\n//See: https://github.com/ethereum/wiki/wiki/RLP\r\n\r\nimport { arrayify, BytesLike, hexlify, isBytesLike } from \"@ethersproject/bytes\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nfunction arrayifyInteger(value: number): Array<number> {\r\n    const result = [];\r\n    while (value) {\r\n        result.unshift(value & 0xff);\r\n        value >>= 8;\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction unarrayifyInteger(data: Uint8Array, offset: number, length: number): number {\r\n    let result = 0;\r\n    for (let i = 0; i < length; i++) {\r\n        result = (result * 256) + data[offset + i];\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction _encode(object: Array<any> | string): Array<number> {\r\n    if (Array.isArray(object)) {\r\n        let payload: Array<number> = [];\r\n        object.forEach(function(child) {\r\n            payload = payload.concat(_encode(child));\r\n        });\r\n\r\n        if (payload.length <= 55) {\r\n            payload.unshift(0xc0 + payload.length)\r\n            return payload;\r\n        }\r\n\r\n        const length = arrayifyInteger(payload.length);\r\n        length.unshift(0xf7 + length.length);\r\n\r\n        return length.concat(payload);\r\n\r\n    }\r\n\r\n    if (!isBytesLike(object)) {\r\n        logger.throwArgumentError(\"RLP object must be BytesLike\", \"object\", object);\r\n    }\r\n\r\n    const data: Array<number> = Array.prototype.slice.call(arrayify(object));\r\n\r\n    if (data.length === 1 && data[0] <= 0x7f) {\r\n        return data;\r\n\r\n    } else if (data.length <= 55) {\r\n        data.unshift(0x80 + data.length);\r\n        return data;\r\n    }\r\n\r\n    const length = arrayifyInteger(data.length);\r\n    length.unshift(0xb7 + length.length);\r\n\r\n    return length.concat(data);\r\n}\r\n\r\nexport function encode(object: any): string {\r\n    return hexlify(_encode(object));\r\n}\r\n\r\ntype Decoded = {\r\n    result: any;\r\n    consumed: number;\r\n};\r\n\r\nfunction _decodeChildren(data: Uint8Array, offset: number, childOffset: number, length: number): Decoded {\r\n    const result = [];\r\n\r\n    while (childOffset < offset + 1 + length) {\r\n        const decoded = _decode(data, childOffset);\r\n\r\n        result.push(decoded.result);\r\n\r\n        childOffset += decoded.consumed;\r\n        if (childOffset > offset + 1 + length) {\r\n            logger.throwError(\"child data too short\", Logger.errors.BUFFER_OVERRUN, { });\r\n        }\r\n    }\r\n\r\n    return {consumed: (1 + length), result: result};\r\n}\r\n\r\n// returns { consumed: number, result: Object }\r\nfunction _decode(data: Uint8Array, offset: number): { consumed: number, result: any } {\r\n    if (data.length === 0) {\r\n        logger.throwError(\"data too short\", Logger.errors.BUFFER_OVERRUN, { });\r\n    }\r\n\r\n    // Array with extra length prefix\r\n    if (data[offset] >= 0xf8) {\r\n        const lengthLength = data[offset] - 0xf7;\r\n        if (offset + 1 + lengthLength > data.length) {\r\n            logger.throwError(\"data short segment too short\", Logger.errors.BUFFER_OVERRUN, { });\r\n        }\r\n\r\n        const length = unarrayifyInteger(data, offset + 1, lengthLength);\r\n        if (offset + 1 + lengthLength + length > data.length) {\r\n            logger.throwError(\"data long segment too short\", Logger.errors.BUFFER_OVERRUN, { });\r\n        }\r\n\r\n        return _decodeChildren(data, offset, offset + 1 + lengthLength, lengthLength + length);\r\n\r\n    } else if (data[offset] >= 0xc0) {\r\n        const length = data[offset] - 0xc0;\r\n        if (offset + 1 + length > data.length) {\r\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, { });\r\n        }\r\n\r\n        return _decodeChildren(data, offset, offset + 1, length);\r\n\r\n    } else if (data[offset] >= 0xb8) {\r\n        const lengthLength = data[offset] - 0xb7;\r\n        if (offset + 1 + lengthLength > data.length) {\r\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, { });\r\n        }\r\n\r\n        const length = unarrayifyInteger(data, offset + 1, lengthLength);\r\n        if (offset + 1 + lengthLength + length > data.length) {\r\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, { });\r\n        }\r\n\r\n        const result = hexlify(data.slice(offset + 1 + lengthLength, offset + 1 + lengthLength + length));\r\n        return { consumed: (1 + lengthLength + length), result: result }\r\n\r\n    } else if (data[offset] >= 0x80) {\r\n        const length = data[offset] - 0x80;\r\n        if (offset + 1 + length > data.length) {\r\n            logger.throwError(\"data too short\", Logger.errors.BUFFER_OVERRUN, { });\r\n        }\r\n\r\n        const result = hexlify(data.slice(offset + 1, offset + 1 + length));\r\n        return { consumed: (1 + length), result: result }\r\n    }\r\n    return { consumed: 1, result: hexlify(data[offset]) };\r\n}\r\n\r\nexport function decode(data: BytesLike): any {\r\n    const bytes = arrayify(data);\r\n    const decoded = _decode(bytes, 0);\r\n    if (decoded.consumed !== bytes.length) {\r\n        logger.throwArgumentError(\"invalid rlp data\", \"data\", data);\r\n    }\r\n    return decoded.result;\r\n}\r\n\r\n", "export const version = \"address/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { arrayify, BytesLike, concat, hexDataLength, hexDataSlice, isHexString, stripZeros } from \"@ethersproject/bytes\";\r\nimport { BigNumber, BigNumberish, _base16To36, _base36To16 } from \"@ethersproject/bignumber\";\r\nimport { keccak256 } from \"@ethersproject/keccak256\";\r\nimport { encode } from \"@ethersproject/rlp\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nfunction getChecksumAddress(address: string): string {\r\n    if (!isHexString(address, 20)) {\r\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\r\n    }\r\n\r\n    address = address.toLowerCase();\r\n\r\n    const chars = address.substring(2).split(\"\");\r\n\r\n    const expanded = new Uint8Array(40);\r\n    for (let i = 0; i < 40; i++) {\r\n        expanded[i] = chars[i].charCodeAt(0);\r\n    }\r\n\r\n    const hashed = arrayify(keccak256(expanded));\r\n\r\n    for (let i = 0; i < 40; i += 2) {\r\n        if ((hashed[i >> 1] >> 4) >= 8) {\r\n            chars[i] = chars[i].toUpperCase();\r\n        }\r\n        if ((hashed[i >> 1] & 0x0f) >= 8) {\r\n            chars[i + 1] = chars[i + 1].toUpperCase();\r\n        }\r\n    }\r\n\r\n    return \"0x\" + chars.join(\"\");\r\n}\r\n\r\n// Shims for environments that are missing some required constants and functions\r\nconst MAX_SAFE_INTEGER: number = 0x1fffffffffffff;\r\n\r\nfunction log10(x: number): number {\r\n    if (Math.log10) { return Math.log10(x); }\r\n    return Math.log(x) / Math.LN10;\r\n}\r\n\r\n\r\n// See: https://en.wikipedia.org/wiki/International_Bank_Account_Number\r\n\r\n// Create lookup table\r\nconst ibanLookup: { [character: string]: string } = { };\r\nfor (let i = 0; i < 10; i++) { ibanLookup[String(i)] = String(i); }\r\nfor (let i = 0; i < 26; i++) { ibanLookup[String.fromCharCode(65 + i)] = String(10 + i); }\r\n\r\n// How many decimal digits can we process? (for 64-bit float, this is 15)\r\nconst safeDigits = Math.floor(log10(MAX_SAFE_INTEGER));\r\n\r\nfunction ibanChecksum(address: string): string {\r\n    address = address.toUpperCase();\r\n    address = address.substring(4) + address.substring(0, 2) + \"00\";\r\n\r\n    let expanded = address.split(\"\").map((c) => { return ibanLookup[c]; }).join(\"\");\r\n\r\n    // Javascript can handle integers safely up to 15 (decimal) digits\r\n    while (expanded.length >= safeDigits){\r\n        let block = expanded.substring(0, safeDigits);\r\n        expanded = parseInt(block, 10) % 97 + expanded.substring(block.length);\r\n    }\r\n\r\n    let checksum = String(98 - (parseInt(expanded, 10) % 97));\r\n    while (checksum.length < 2) { checksum = \"0\" + checksum; }\r\n\r\n    return checksum;\r\n};\r\n\r\nexport function getAddress(address: string): string {\r\n    let result = null;\r\n\r\n    if (typeof(address) !== \"string\") {\r\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\r\n    }\r\n\r\n    if (address.match(/^(0x)?[0-9a-fA-F]{40}$/)) {\r\n\r\n        // Missing the 0x prefix\r\n        if (address.substring(0, 2) !== \"0x\") { address = \"0x\" + address; }\r\n\r\n        result = getChecksumAddress(address);\r\n\r\n        // It is a checksummed address with a bad checksum\r\n        if (address.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && result !== address) {\r\n            logger.throwArgumentError(\"bad address checksum\", \"address\", address);\r\n        }\r\n\r\n    // Maybe ICAP? (we only support direct mode)\r\n    } else if (address.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {\r\n\r\n        // It is an ICAP address with a bad checksum\r\n        if (address.substring(2, 4) !== ibanChecksum(address)) {\r\n            logger.throwArgumentError(\"bad icap checksum\", \"address\", address);\r\n        }\r\n\r\n        result = _base36To16(address.substring(4));\r\n        while (result.length < 40) { result = \"0\" + result; }\r\n        result = getChecksumAddress(\"0x\" + result);\r\n\r\n    } else {\r\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function isAddress(address: string): boolean {\r\n    try {\r\n        getAddress(address);\r\n        return true;\r\n    } catch (error) { }\r\n    return false;\r\n}\r\n\r\nexport function getIcapAddress(address: string): string {\r\n    let base36 = _base16To36(getAddress(address).substring(2)).toUpperCase();\r\n    while (base36.length < 30) { base36 = \"0\" + base36; }\r\n    return \"XE\" + ibanChecksum(\"XE00\" + base36) + base36;\r\n}\r\n\r\n// http://ethereum.stackexchange.com/questions/760/how-is-the-address-of-an-ethereum-contract-computed\r\nexport function getContractAddress(transaction: { from: string, nonce: BigNumberish }) {\r\n    let from: string = null;\r\n    try {\r\n        from = getAddress(transaction.from);\r\n    } catch (error) {\r\n        logger.throwArgumentError(\"missing from address\", \"transaction\", transaction);\r\n    }\r\n\r\n    const nonce = stripZeros(arrayify(BigNumber.from(transaction.nonce).toHexString()));\r\n\r\n    return getAddress(hexDataSlice(keccak256(encode([ from, nonce ])), 12));\r\n}\r\n\r\nexport function getCreate2Address(from: string, salt: BytesLike, initCodeHash: BytesLike): string {\r\n    if (hexDataLength(salt) !== 32) {\r\n        logger.throwArgumentError(\"salt must be 32 bytes\", \"salt\", salt);\r\n    }\r\n    if (hexDataLength(initCodeHash) !== 32) {\r\n        logger.throwArgumentError(\"initCodeHash must be 32 bytes\", \"initCodeHash\", initCodeHash);\r\n    }\r\n    return getAddress(hexDataSlice(keccak256(concat([ \"0xff\", getAddress(from), salt, initCodeHash ])), 12))\r\n}\r\n", "import { TypedDataDomain, TypedDataField } from \"@ethersproject/abstract-signer\";\r\nimport { getAddress } from \"@ethersproject/address\";\r\nimport { BigNumber, BigNumberish } from \"@ethersproject/bignumber\";\r\nimport { arrayify, BytesLike, hexConcat, hexlify, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\r\nimport { keccak256 } from \"@ethersproject/keccak256\";\r\nimport { deepCopy, defineReadOnly, shallowCopy } from \"@ethersproject/properties\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { id } from \"./id\";\r\n\r\nconst padding = new Uint8Array(32);\r\npadding.fill(0);\r\n\r\nconst NegativeOne: BigNumber = BigNumber.from(-1);\r\nconst Zero: BigNumber = BigNumber.from(0);\r\nconst One: BigNumber = BigNumber.from(1);\r\nconst MaxUint256: BigNumber = BigNumber.from(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");\r\n\r\nfunction hexPadRight(value: BytesLike) {\r\n    const bytes = arrayify(value);\r\n    const padOffset = bytes.length % 32\r\n    if (padOffset) {\r\n        return hexConcat([ bytes, padding.slice(padOffset) ]);\r\n    }\r\n    return hexlify(bytes);\r\n}\r\n\r\nconst hexTrue = hexZeroPad(One.toHexString(), 32);\r\nconst hexFalse = hexZeroPad(Zero.toHexString(), 32);\r\n\r\nconst domainFieldTypes: Record<string, string> = {\r\n    name: \"string\",\r\n    version: \"string\",\r\n    chainId: \"uint256\",\r\n    verifyingContract: \"address\",\r\n    salt: \"bytes32\"\r\n};\r\n\r\nconst domainFieldNames: Array<string> = [\r\n    \"name\", \"version\", \"chainId\", \"verifyingContract\", \"salt\"\r\n];\r\n\r\nfunction checkString(key: string): (value: any) => string {\r\n    return function (value: any){\r\n        if (typeof(value) !== \"string\") {\r\n            logger.throwArgumentError(`invalid domain value for ${ JSON.stringify(key) }`, `domain.${ key }`, value);\r\n        }\r\n        return value;\r\n    }\r\n}\r\n\r\nconst domainChecks: Record<string, (value: any) => any> = {\r\n    name: checkString(\"name\"),\r\n    version: checkString(\"version\"),\r\n    chainId: function(value: any) {\r\n        try {\r\n            return BigNumber.from(value).toString()\r\n        } catch (error) { }\r\n        return logger.throwArgumentError(`invalid domain value for \"chainId\"`, \"domain.chainId\", value);\r\n    },\r\n    verifyingContract: function(value: any) {\r\n        try {\r\n            return getAddress(value).toLowerCase();\r\n        } catch (error) { }\r\n        return logger.throwArgumentError(`invalid domain value \"verifyingContract\"`, \"domain.verifyingContract\", value);\r\n    },\r\n    salt: function(value: any) {\r\n        try {\r\n            const bytes = arrayify(value);\r\n            if (bytes.length !== 32) { throw new Error(\"bad length\"); }\r\n            return hexlify(bytes);\r\n        } catch (error) { }\r\n        return logger.throwArgumentError(`invalid domain value \"salt\"`, \"domain.salt\", value);\r\n    }\r\n}\r\n\r\nfunction getBaseEncoder(type: string): (value: any) => string {\r\n    // intXX and uintXX\r\n    {\r\n        const match = type.match(/^(u?)int(\\d*)$/);\r\n        if (match) {\r\n            const signed = (match[1] === \"\");\r\n\r\n            const width = parseInt(match[2] || \"256\");\r\n            if (width % 8 !== 0 || width > 256 || (match[2] && match[2] !== String(width))) {\r\n                logger.throwArgumentError(\"invalid numeric width\", \"type\", type);\r\n            }\r\n\r\n            const boundsUpper = MaxUint256.mask(signed ? (width - 1): width);\r\n            const boundsLower = signed ? boundsUpper.add(One).mul(NegativeOne): Zero;\r\n\r\n            return function(value: BigNumberish) {\r\n                const v = BigNumber.from(value);\r\n\r\n                if (v.lt(boundsLower) || v.gt(boundsUpper)) {\r\n                    logger.throwArgumentError(`value out-of-bounds for ${ type }`, \"value\", value);\r\n                }\r\n\r\n                return hexZeroPad(v.toTwos(256).toHexString(), 32);\r\n            };\r\n        }\r\n    }\r\n\r\n    // bytesXX\r\n    {\r\n        const match = type.match(/^bytes(\\d+)$/);\r\n        if (match) {\r\n            const width = parseInt(match[1]);\r\n            if (width === 0 || width > 32 || match[1] !== String(width)) {\r\n                logger.throwArgumentError(\"invalid bytes width\", \"type\", type);\r\n            }\r\n\r\n            return function(value: BytesLike) {\r\n                const bytes = arrayify(value);\r\n                if (bytes.length !== width) {\r\n                    logger.throwArgumentError(`invalid length for ${ type }`, \"value\", value);\r\n                }\r\n                return hexPadRight(value);\r\n            };\r\n        }\r\n    }\r\n\r\n    switch (type) {\r\n        case \"address\": return function(value: string) {\r\n            return hexZeroPad(getAddress(value), 32);\r\n        };\r\n        case \"bool\": return function(value: boolean) {\r\n            return ((!value) ? hexFalse: hexTrue);\r\n        };\r\n        case \"bytes\": return function(value: BytesLike) {\r\n            return keccak256(value);\r\n        };\r\n        case \"string\": return function(value: string) {\r\n            return id(value);\r\n        };\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction encodeType(name: string, fields: Array<TypedDataField>): string {\r\n    return `${ name }(${ fields.map(({ name, type }) => (type + \" \" + name)).join(\",\") })`;\r\n}\r\n\r\nexport class TypedDataEncoder {\r\n    readonly primaryType: string;\r\n    readonly types: Record<string, Array<TypedDataField>>;\r\n\r\n    readonly _encoderCache: Record<string, (value: any) => string>;\r\n    readonly _types: Record<string, string>;\r\n\r\n    constructor(types: Record<string, Array<TypedDataField>>) {\r\n        defineReadOnly(this, \"types\", Object.freeze(deepCopy(types)));\r\n\r\n        defineReadOnly(this, \"_encoderCache\", { });\r\n        defineReadOnly(this, \"_types\", { });\r\n\r\n        // Link struct types to their direct child structs\r\n        const links: Record<string, Record<string, boolean>> = { };\r\n\r\n        // Link structs to structs which contain them as a child\r\n        const parents: Record<string, Array<string>> = { };\r\n\r\n        // Link all subtypes within a given struct\r\n        const subtypes: Record<string, Record<string, boolean>> = { };\r\n\r\n        Object.keys(types).forEach((type) => {\r\n            links[type] = { };\r\n            parents[type] = [ ];\r\n            subtypes[type] = { }\r\n        });\r\n\r\n        for (const name in types) {\r\n\r\n            const uniqueNames: Record<string, boolean> = { };\r\n\r\n            types[name].forEach((field) => {\r\n\r\n                // Check each field has a unique name\r\n                if (uniqueNames[field.name]) {\r\n                    logger.throwArgumentError(`duplicate variable name ${ JSON.stringify(field.name) } in ${ JSON.stringify(name) }`, \"types\", types);\r\n                }\r\n                uniqueNames[field.name] = true;\r\n\r\n                // Get the base type (drop any array specifiers)\r\n                const baseType = field.type.match(/^([^\\x5b]*)(\\x5b|$)/)[1];\r\n                if (baseType === name) {\r\n                    logger.throwArgumentError(`circular type reference to ${ JSON.stringify(baseType) }`, \"types\", types);\r\n                }\r\n\r\n                // Is this a base encoding type?\r\n                const encoder = getBaseEncoder(baseType);\r\n                if (encoder) { return ;}\r\n\r\n                if (!parents[baseType]) {\r\n                    logger.throwArgumentError(`unknown type ${ JSON.stringify(baseType) }`, \"types\", types);\r\n                }\r\n\r\n                // Add linkage\r\n                parents[baseType].push(name);\r\n                links[name][baseType] = true;\r\n            });\r\n        }\r\n\r\n        // Deduce the primary type\r\n        const primaryTypes = Object.keys(parents).filter((n) => (parents[n].length === 0));\r\n\r\n        if (primaryTypes.length === 0) {\r\n            logger.throwArgumentError(\"missing primary type\", \"types\", types);\r\n        } else if (primaryTypes.length > 1) {\r\n            logger.throwArgumentError(`ambiguous primary types or unused types: ${ primaryTypes.map((t) => (JSON.stringify(t))).join(\", \") }`, \"types\", types);\r\n        }\r\n\r\n        defineReadOnly(this, \"primaryType\", primaryTypes[0]);\r\n\r\n        // Check for circular type references\r\n        function checkCircular(type: string, found: Record<string, boolean>) {\r\n            if (found[type]) {\r\n                logger.throwArgumentError(`circular type reference to ${ JSON.stringify(type) }`, \"types\", types);\r\n            }\r\n\r\n            found[type] = true;\r\n\r\n            Object.keys(links[type]).forEach((child) => {\r\n                if (!parents[child]) { return; }\r\n\r\n                // Recursively check children\r\n                checkCircular(child, found);\r\n\r\n                // Mark all ancestors as having this decendant\r\n                Object.keys(found).forEach((subtype) => {\r\n                    subtypes[subtype][child] = true;\r\n                });\r\n            });\r\n\r\n            delete found[type];\r\n        }\r\n        checkCircular(this.primaryType, { });\r\n\r\n        // Compute each fully describe type\r\n        for (const name in subtypes) {\r\n            const st = Object.keys(subtypes[name]);\r\n            st.sort();\r\n            this._types[name] = encodeType(name, types[name]) + st.map((t) => encodeType(t, types[t])).join(\"\");\r\n        }\r\n    }\r\n\r\n    getEncoder(type: string): (value: any) => string {\r\n        let encoder = this._encoderCache[type];\r\n        if (!encoder) {\r\n            encoder = this._encoderCache[type] = this._getEncoder(type);\r\n        }\r\n        return encoder;\r\n    }\r\n\r\n    _getEncoder(type: string): (value: any) => string {\r\n\r\n        // Basic encoder type (address, bool, uint256, etc)\r\n        {\r\n            const encoder = getBaseEncoder(type);\r\n            if (encoder) { return encoder; }\r\n        }\r\n\r\n        // Array\r\n        const match = type.match(/^(.*)(\\x5b(\\d*)\\x5d)$/);\r\n        if (match) {\r\n            const subtype = match[1];\r\n            const subEncoder = this.getEncoder(subtype);\r\n            const length = parseInt(match[3]);\r\n            return (value: Array<any>) => {\r\n                if (length >= 0 && value.length !== length) {\r\n                    logger.throwArgumentError(\"array length mismatch; expected length ${ arrayLength }\", \"value\", value);\r\n                }\r\n\r\n                let result = value.map(subEncoder);\r\n                if (this._types[subtype]) {\r\n                    result = result.map(keccak256);\r\n                }\r\n\r\n                return keccak256(hexConcat(result));\r\n            };\r\n        }\r\n\r\n        // Struct\r\n        const fields = this.types[type];\r\n        if (fields) {\r\n            const encodedType = id(this._types[type]);\r\n            return (value: Record<string, any>) => {\r\n                const values = fields.map(({ name, type }) => {\r\n                    const result = this.getEncoder(type)(value[name]);\r\n                    if (this._types[type]) { return keccak256(result); }\r\n                    return result;\r\n                });\r\n                values.unshift(encodedType);\r\n                return hexConcat(values);\r\n            }\r\n        }\r\n\r\n        return logger.throwArgumentError(`unknown type: ${ type }`, \"type\", type);\r\n    }\r\n\r\n    encodeType(name: string): string {\r\n        const result = this._types[name];\r\n        if (!result) {\r\n            logger.throwArgumentError(`unknown type: ${ JSON.stringify(name) }`, \"name\", name);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    encodeData(type: string, value: any): string {\r\n        return this.getEncoder(type)(value);\r\n    }\r\n\r\n    hashStruct(name: string, value: Record<string, any>): string {\r\n        return keccak256(this.encodeData(name, value));\r\n    }\r\n\r\n    encode(value: Record<string, any>): string {\r\n        return this.encodeData(this.primaryType, value);\r\n    }\r\n\r\n    hash(value: Record<string, any>): string {\r\n        return this.hashStruct(this.primaryType, value);\r\n    }\r\n\r\n    _visit(type: string, value: any, callback: (type: string, data: any) => any): any {\r\n        // Basic encoder type (address, bool, uint256, etc)\r\n        {\r\n            const encoder = getBaseEncoder(type);\r\n            if (encoder) { return callback(type, value); }\r\n        }\r\n\r\n        // Array\r\n        const match = type.match(/^(.*)(\\x5b(\\d*)\\x5d)$/);\r\n        if (match) {\r\n            const subtype = match[1];\r\n            const length = parseInt(match[3]);\r\n            if (length >= 0 && value.length !== length) {\r\n                logger.throwArgumentError(\"array length mismatch; expected length ${ arrayLength }\", \"value\", value);\r\n            }\r\n            return value.map((v: any) => this._visit(subtype, v, callback));\r\n        }\r\n\r\n        // Struct\r\n        const fields = this.types[type];\r\n        if (fields) {\r\n            return fields.reduce((accum, { name, type }) => {\r\n                accum[name] = this._visit(type, value[name], callback);\r\n                return accum;\r\n            }, <Record<string, any>>{});\r\n        }\r\n\r\n        return logger.throwArgumentError(`unknown type: ${ type }`, \"type\", type);\r\n    }\r\n\r\n    visit(value: Record<string, any>, callback: (type: string, data: any) => any): any {\r\n        return this._visit(this.primaryType, value, callback);\r\n    }\r\n\r\n    static from(types: Record<string, Array<TypedDataField>>): TypedDataEncoder {\r\n        return new TypedDataEncoder(types);\r\n    }\r\n\r\n    static getPrimaryType(types: Record<string, Array<TypedDataField>>): string {\r\n        return TypedDataEncoder.from(types).primaryType;\r\n    }\r\n\r\n    static hashStruct(name: string, types: Record<string, Array<TypedDataField>>, value: Record<string, any>): string {\r\n        return TypedDataEncoder.from(types).hashStruct(name, value);\r\n    }\r\n\r\n    static hashDomain(domain: TypedDataDomain): string {\r\n        const domainFields: Array<TypedDataField> = [ ];\r\n        for (const name in domain) {\r\n            const type = domainFieldTypes[name];\r\n            if (!type) {\r\n                logger.throwArgumentError(`invalid typed-data domain key: ${ JSON.stringify(name) }`, \"domain\", domain);\r\n            }\r\n            domainFields.push({ name, type });\r\n        }\r\n\r\n        domainFields.sort((a, b) => {\r\n            return domainFieldNames.indexOf(a.name) - domainFieldNames.indexOf(b.name);\r\n        });\r\n\r\n        return TypedDataEncoder.hashStruct(\"EIP712Domain\", { EIP712Domain: domainFields }, domain);\r\n    }\r\n\r\n    static encode(domain: TypedDataDomain, types: Record<string, Array<TypedDataField>>, value: Record<string, any>): string {\r\n        return hexConcat([\r\n            \"0x1901\",\r\n            TypedDataEncoder.hashDomain(domain),\r\n            TypedDataEncoder.from(types).hash(value)\r\n        ]);\r\n    }\r\n\r\n    static hash(domain: TypedDataDomain, types: Record<string, Array<TypedDataField>>, value: Record<string, any>): string {\r\n        return keccak256(TypedDataEncoder.encode(domain, types, value));\r\n    }\r\n\r\n    // Replaces all address types with ENS names with their looked up address\r\n    static async resolveNames(domain: TypedDataDomain, types: Record<string, Array<TypedDataField>>, value: Record<string, any>, resolveName: (name: string) => Promise<string>): Promise<{ domain: TypedDataDomain, value: any }> {\r\n        // Make a copy to isolate it from the object passed in\r\n        domain = shallowCopy(domain);\r\n\r\n        // Look up all ENS names\r\n        const ensCache: Record<string, string> = { };\r\n\r\n        // Do we need to look up the domain's verifyingContract?\r\n        if (domain.verifyingContract && !isHexString(domain.verifyingContract, 20)) {\r\n            ensCache[domain.verifyingContract] = \"0x\";\r\n        }\r\n\r\n        // We are going to use the encoder to visit all the base values\r\n        const encoder = TypedDataEncoder.from(types);\r\n\r\n        // Get a list of all the addresses\r\n        encoder.visit(value, (type: string, value: any) => {\r\n            if (type === \"address\" && !isHexString(value, 20)) {\r\n                ensCache[value] = \"0x\";\r\n            }\r\n            return value;\r\n        });\r\n\r\n        // Lookup each name\r\n        for (const name in ensCache) {\r\n            ensCache[name] = await resolveName(name);\r\n        }\r\n\r\n        // Replace the domain verifyingContract if needed\r\n        if (domain.verifyingContract && ensCache[domain.verifyingContract]) {\r\n            domain.verifyingContract = ensCache[domain.verifyingContract];\r\n        }\r\n\r\n        // Replace all ENS names with their address\r\n        value = encoder.visit(value, (type: string, value: any) => {\r\n            if (type === \"address\" && ensCache[value]) { return ensCache[value]; }\r\n            return value;\r\n        });\r\n\r\n        return { domain, value };\r\n    }\r\n\r\n    static getPayload(domain: TypedDataDomain, types: Record<string, Array<TypedDataField>>, value: Record<string, any>): any {\r\n        // Validate the domain fields\r\n        TypedDataEncoder.hashDomain(domain);\r\n\r\n        // Derive the EIP712Domain Struct reference type\r\n        const domainValues: Record<string, any> = { };\r\n        const domainTypes: Array<{ name: string, type:string }> = [ ];\r\n\r\n        domainFieldNames.forEach((name) => {\r\n            const value = (<any>domain)[name];\r\n            if (value == null) { return; }\r\n            domainValues[name] = domainChecks[name](value);\r\n            domainTypes.push({ name, type: domainFieldTypes[name] });\r\n        });\r\n\r\n        const encoder = TypedDataEncoder.from(types);\r\n\r\n        const typesWithDomain = shallowCopy(types);\r\n        if (typesWithDomain.EIP712Domain) {\r\n            logger.throwArgumentError(\"types must not contain EIP712Domain type\", \"types.EIP712Domain\", types);\r\n        } else {\r\n            typesWithDomain.EIP712Domain = domainTypes;\r\n        }\r\n\r\n        // Validate the data structures and types\r\n        encoder.encode(value);\r\n\r\n        return {\r\n            types: typesWithDomain,\r\n            domain: domainValues,\r\n            primaryType: encoder.primaryType,\r\n            message: encoder.visit(value, (type: string, value: any) => {\r\n\r\n                // bytes\r\n                if (type.match(/^bytes(\\d*)/)) {\r\n                    return hexlify(arrayify(value));\r\n                }\r\n\r\n                // uint or int\r\n                if (type.match(/^u?int/)) {\r\n                    return BigNumber.from(value).toString();\r\n                }\r\n\r\n                switch (type) {\r\n                    case \"address\":\r\n                        return value.toLowerCase();\r\n                    case \"bool\":\r\n                        return !!value;\r\n                    case \"string\":\r\n                        if (typeof(value) !== \"string\") {\r\n                            logger.throwArgumentError(`invalid string`, \"value\", value);\r\n                        }\r\n                        return value;\r\n                }\r\n\r\n                return logger.throwArgumentError(\"unsupported type\", \"type\", type);\r\n            })\r\n        };\r\n    }\r\n}\r\n\r\n", "\"use strict\";\r\n\r\nimport { id } from \"./id\";\r\nimport { dnsEncode, isValidName, namehash } from \"./namehash\";\r\nimport { hashMessage, messagePrefix } from \"./message\";\r\n\r\nimport { ensNormalize } from \"./namehash\";\r\n\r\nimport { TypedDataEncoder as _TypedDataEncoder } from \"./typed-data\";\r\n\r\nexport {\r\n    id,\r\n\r\n    dnsEncode,\r\n    namehash,\r\n    isValidName,\r\n\r\n    ensNormalize,\r\n\r\n    messagePrefix,\r\n    hashMessage,\r\n\r\n    _TypedDataEncoder,\r\n}\r\n", "export enum SupportedAlgorithm { sha256 = \"sha256\", sha512 = \"sha512\" };\r\n\r\n", "export const version = \"sha2/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport hash from \"hash.js\";\r\n//const _ripemd160 = _hash.ripemd160;\r\n\r\nimport { arrayify, BytesLike } from \"@ethersproject/bytes\";\r\n\r\nimport { SupportedAlgorithm } from \"./types\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nexport function ripemd160(data: BytesLike): string {\r\n    return \"0x\" + (hash.ripemd160().update(arrayify(data)).digest(\"hex\"));\r\n}\r\n\r\nexport function sha256(data: BytesLike): string {\r\n    return \"0x\" + (hash.sha256().update(arrayify(data)).digest(\"hex\"));\r\n}\r\n\r\nexport function sha512(data: BytesLike): string {\r\n    return \"0x\" + (hash.sha512().update(arrayify(data)).digest(\"hex\"));\r\n}\r\n\r\nexport function computeHmac(algorithm: SupportedAlgorithm, key: BytesLike, data: BytesLike): string {\r\n    if (!SupportedAlgorithm[algorithm]) {\r\n        logger.throwError(\"unsupported algorithm \" + algorithm, Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"hmac\",\r\n            algorithm: algorithm\r\n        });\r\n    }\r\n\r\n    return \"0x\" + hash.hmac((<any>hash)[algorithm], arrayify(key)).update(arrayify(data)).digest(\"hex\");\r\n}\r\n\r\n", "import { computeHmac, ripemd160, sha256, sha512 } from \"./sha2\";\r\n\r\nimport { SupportedAlgorithm } from \"./types\";\r\n\r\nexport {\r\n    computeHmac,\r\n\r\n    ripemd160,\r\n\r\n    sha256,\r\n    sha512,\r\n\r\n    SupportedAlgorithm\r\n}\r\n", "export const version = \"web/5.7.1\";\r\n", "\"use strict\";\r\n\r\nimport { arrayify } from \"@ethersproject/bytes\";\r\n\r\nimport type { GetUrlResponse, Options } from \"./types\";\r\n\r\nexport { GetUrlResponse, Options };\r\n\r\nexport async function getUrl(href: string, options?: Options): Promise<GetUrlResponse> {\r\n    if (options == null) { options = { }; }\r\n\r\n    const request: RequestInit = {\r\n        method: (options.method || \"GET\"),\r\n        headers: (options.headers || { }),\r\n        body: (options.body || undefined),\r\n    };\r\n\r\n    if (options.skipFetchSetup !== true) {\r\n        request.mode = <RequestMode>\"cors\";              // no-cors, cors, *same-origin\r\n        request.cache = <RequestCache>\"no-cache\";        // *default, no-cache, reload, force-cache, only-if-cached\r\n        request.credentials = <RequestCredentials>\"same-origin\";  // include, *same-origin, omit\r\n        request.redirect = <RequestRedirect>\"follow\";    // manual, *follow, error\r\n        request.referrer = \"client\";                     // no-referrer, *client\r\n    };\r\n\r\n    if (options.fetchOptions != null) {\r\n        const opts = options.fetchOptions;\r\n        if (opts.mode) { request.mode = <RequestMode>(opts.mode); }\r\n        if (opts.cache) { request.cache = <RequestCache>(opts.cache); }\r\n        if (opts.credentials) { request.credentials = <RequestCredentials>(opts.credentials); }\r\n        if (opts.redirect) { request.redirect = <RequestRedirect>(opts.redirect); }\r\n        if (opts.referrer) { request.referrer = opts.referrer; }\r\n    }\r\n\r\n    const response = await fetch(href, request);\r\n    const body = await response.arrayBuffer();\r\n\r\n    const headers: { [ name: string ]: string } = { };\r\n    if (response.headers.forEach) {\r\n        response.headers.forEach((value, key) => {\r\n            headers[key.toLowerCase()] = value;\r\n        });\r\n    } else {\r\n        (<() => Array<string>>((<any>(response.headers)).keys))().forEach((key) => {\r\n            headers[key.toLowerCase()] = response.headers.get(key);\r\n        });\r\n    }\r\n\r\n    return {\r\n        headers: headers,\r\n        statusCode: response.status,\r\n        statusMessage: response.statusText,\r\n        body: arrayify(new Uint8Array(body)),\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nimport { decode as base64Decode, encode as base64Encode } from \"@ethersproject/base64\";\r\nimport { hexlify, isBytesLike } from \"@ethersproject/bytes\";\r\nimport { shallowCopy } from \"@ethersproject/properties\";\r\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { getUrl, GetUrlResponse, Options } from \"./geturl\";\r\n\r\nfunction staller(duration: number): Promise<void> {\r\n    return new Promise((resolve) => {\r\n        setTimeout(resolve, duration);\r\n    });\r\n}\r\n\r\nfunction bodyify(value: any, type: string): string {\r\n    if (value == null) { return null; }\r\n\r\n    if (typeof(value) === \"string\") { return value; }\r\n\r\n    if (isBytesLike(value)) {\r\n        if (type && (type.split(\"/\")[0] === \"text\" || type.split(\";\")[0].trim() === \"application/json\")) {\r\n            try {\r\n                return toUtf8String(value);\r\n            } catch (error) { };\r\n        }\r\n        return hexlify(value);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n// Exported Types\r\nexport type ConnectionInfo = {\r\n    url: string,\r\n    headers?: { [key: string]: string | number }\r\n\r\n    user?: string,\r\n    password?: string,\r\n\r\n    allowInsecureAuthentication?: boolean,\r\n    allowGzip?: boolean,\r\n\r\n    throttleLimit?: number,\r\n    throttleSlotInterval?: number;\r\n    throttleCallback?: (attempt: number, url: string) => Promise<boolean>,\r\n\r\n    skipFetchSetup?: boolean;\r\n    fetchOptions?: Record<string, string>;\r\n    errorPassThrough?: boolean;\r\n\r\n    timeout?: number,\r\n};\r\n\r\nexport interface OnceBlockable {\r\n    once(eventName: \"block\", handler: () => void): void;\r\n}\r\n\r\nexport interface OncePollable {\r\n    once(eventName: \"poll\", handler: () => void): void;\r\n}\r\n\r\nexport type PollOptions = {\r\n    timeout?: number,\r\n    floor?: number,\r\n    ceiling?: number,\r\n    interval?: number,\r\n    retryLimit?: number,\r\n    onceBlock?: OnceBlockable\r\n    oncePoll?: OncePollable\r\n};\r\n\r\nexport type FetchJsonResponse = {\r\n    statusCode: number;\r\n    headers: { [ header: string ]: string };\r\n};\r\n\r\n\r\ntype Header = { key: string, value: string };\r\n\r\nfunction unpercent(value: string): Uint8Array {\r\n    return toUtf8Bytes(value.replace(/%([0-9a-f][0-9a-f])/gi, (all, code) => {\r\n        return String.fromCharCode(parseInt(code, 16));\r\n    }));\r\n}\r\n\r\n// This API is still a work in progress; the future changes will likely be:\r\n// - ConnectionInfo => FetchDataRequest<T = any>\r\n// - FetchDataRequest.body? = string | Uint8Array | { contentType: string, data: string | Uint8Array }\r\n//   - If string => text/plain, Uint8Array => application/octet-stream (if content-type unspecified)\r\n// - FetchDataRequest.processFunc = (body: Uint8Array, response: FetchDataResponse) => T\r\n// For this reason, it should be considered internal until the API is finalized\r\nexport function _fetchData<T = Uint8Array>(connection: string | ConnectionInfo, body?: Uint8Array, processFunc?: (value: Uint8Array, response: FetchJsonResponse) => T): Promise<T> {\r\n\r\n    // How many times to retry in the event of a throttle\r\n    const attemptLimit = (typeof(connection) === \"object\" && connection.throttleLimit != null) ? connection.throttleLimit: 12;\r\n    logger.assertArgument((attemptLimit > 0 && (attemptLimit % 1) === 0),\r\n        \"invalid connection throttle limit\", \"connection.throttleLimit\", attemptLimit);\r\n\r\n    const throttleCallback = ((typeof(connection) === \"object\") ? connection.throttleCallback: null);\r\n    const throttleSlotInterval = ((typeof(connection) === \"object\" && typeof(connection.throttleSlotInterval) === \"number\") ? connection.throttleSlotInterval: 100);\r\n    logger.assertArgument((throttleSlotInterval > 0 && (throttleSlotInterval % 1) === 0),\r\n        \"invalid connection throttle slot interval\", \"connection.throttleSlotInterval\", throttleSlotInterval);\r\n\r\n    const errorPassThrough = ((typeof(connection) === \"object\") ? !!(connection.errorPassThrough): false);\r\n\r\n    const headers: { [key: string]: Header } = { };\r\n\r\n    let url: string = null;\r\n\r\n    // @TODO: Allow ConnectionInfo to override some of these values\r\n    const options: Options = {\r\n        method: \"GET\",\r\n    };\r\n\r\n    let allow304 = false;\r\n\r\n    let timeout = 2 * 60 * 1000;\r\n\r\n    if (typeof(connection) === \"string\") {\r\n        url = connection;\r\n\r\n    } else if (typeof(connection) === \"object\") {\r\n        if (connection == null || connection.url == null) {\r\n            logger.throwArgumentError(\"missing URL\", \"connection.url\", connection);\r\n        }\r\n\r\n        url = connection.url;\r\n\r\n        if (typeof(connection.timeout) === \"number\" && connection.timeout > 0) {\r\n            timeout = connection.timeout;\r\n        }\r\n\r\n        if (connection.headers) {\r\n            for (const key in connection.headers) {\r\n                headers[key.toLowerCase()] = { key: key, value: String(connection.headers[key]) };\r\n                if ([\"if-none-match\", \"if-modified-since\"].indexOf(key.toLowerCase()) >= 0) {\r\n                    allow304 = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        options.allowGzip = !!connection.allowGzip;\r\n\r\n        if (connection.user != null && connection.password != null) {\r\n            if (url.substring(0, 6) !== \"https:\" && connection.allowInsecureAuthentication !== true) {\r\n                logger.throwError(\r\n                    \"basic authentication requires a secure https url\",\r\n                    Logger.errors.INVALID_ARGUMENT,\r\n                    { argument: \"url\", url: url, user: connection.user, password: \"[REDACTED]\" }\r\n                );\r\n            }\r\n\r\n            const authorization = connection.user + \":\" + connection.password;\r\n            headers[\"authorization\"] = {\r\n                key: \"Authorization\",\r\n                value: \"Basic \" + base64Encode(toUtf8Bytes(authorization))\r\n            };\r\n        }\r\n\r\n        if (connection.skipFetchSetup != null) {\r\n            options.skipFetchSetup = !!connection.skipFetchSetup;\r\n        }\r\n\r\n        if (connection.fetchOptions != null) {\r\n            options.fetchOptions = shallowCopy(connection.fetchOptions);\r\n        }\r\n    }\r\n\r\n    const reData = new RegExp(\"^data:([^;:]*)?(;base64)?,(.*)$\", \"i\");\r\n    const dataMatch = ((url) ? url.match(reData): null);\r\n    if (dataMatch) {\r\n        try {\r\n            const response = {\r\n                statusCode: 200,\r\n                statusMessage: \"OK\",\r\n                headers: { \"content-type\": (dataMatch[1] || \"text/plain\")},\r\n                body: (dataMatch[2] ? base64Decode(dataMatch[3]): unpercent(dataMatch[3]))\r\n            };\r\n\r\n            let result: T = <T><unknown>response.body;\r\n            if (processFunc) {\r\n                result = processFunc(response.body, response);\r\n            }\r\n            return Promise.resolve(<T><unknown>result);\r\n\r\n        } catch (error) {\r\n            logger.throwError(\"processing response error\", Logger.errors.SERVER_ERROR, {\r\n                body: bodyify(dataMatch[1], dataMatch[2]),\r\n                error: error,\r\n                requestBody: null,\r\n                requestMethod: \"GET\",\r\n                url: url\r\n            });\r\n        }\r\n    }\r\n\r\n    if (body) {\r\n        options.method = \"POST\";\r\n        options.body = body;\r\n        if (headers[\"content-type\"] == null) {\r\n            headers[\"content-type\"] = { key: \"Content-Type\", value: \"application/octet-stream\" };\r\n        }\r\n        if (headers[\"content-length\"] == null) {\r\n            headers[\"content-length\"] = { key: \"Content-Length\", value: String(body.length) };\r\n        }\r\n    }\r\n\r\n    const flatHeaders: { [ key: string ]: string } = { };\r\n    Object.keys(headers).forEach((key) => {\r\n        const header = headers[key];\r\n        flatHeaders[header.key] = header.value;\r\n    });\r\n    options.headers = flatHeaders;\r\n\r\n    const runningTimeout = (function() {\r\n        let timer: NodeJS.Timer = null;\r\n        const promise: Promise<never> = new Promise(function(resolve, reject) {\r\n            if (timeout) {\r\n                timer = setTimeout(() => {\r\n                    if (timer == null) { return; }\r\n                    timer = null;\r\n\r\n                    reject(logger.makeError(\"timeout\", Logger.errors.TIMEOUT, {\r\n                        requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\r\n                        requestMethod: options.method,\r\n                        timeout: timeout,\r\n                        url: url\r\n                    }));\r\n                }, timeout);\r\n            }\r\n        });\r\n\r\n        const cancel = function() {\r\n            if (timer == null) { return; }\r\n            clearTimeout(timer);\r\n            timer = null;\r\n        }\r\n\r\n        return { promise, cancel };\r\n    })();\r\n\r\n    const runningFetch = (async function() {\r\n\r\n        for (let attempt = 0; attempt < attemptLimit; attempt++) {\r\n            let response: GetUrlResponse = null;\r\n\r\n            try {\r\n                response = await getUrl(url, options);\r\n\r\n                if (attempt < attemptLimit) {\r\n                    if (response.statusCode === 301 || response.statusCode === 302) {\r\n                        // Redirection; for now we only support absolute locataions\r\n                        const location = response.headers.location || \"\";\r\n                        if (options.method === \"GET\" && location.match(/^https:/)) {\r\n                            url = response.headers.location;\r\n                            continue;\r\n                        }\r\n\r\n                    } else if (response.statusCode === 429) {\r\n                        // Exponential back-off throttling\r\n                        let tryAgain = true;\r\n                        if (throttleCallback) {\r\n                            tryAgain = await throttleCallback(attempt, url);\r\n                        }\r\n\r\n                        if (tryAgain) {\r\n                            let stall = 0;\r\n\r\n                            const retryAfter = response.headers[\"retry-after\"];\r\n                            if (typeof(retryAfter) === \"string\" && retryAfter.match(/^[1-9][0-9]*$/)) {\r\n                                stall = parseInt(retryAfter) * 1000;\r\n                            } else {\r\n                                stall = throttleSlotInterval * parseInt(String(Math.random() * Math.pow(2, attempt)));\r\n                            }\r\n\r\n                            //console.log(\"Stalling 429\");\r\n                            await staller(stall);\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n\r\n            } catch (error) {\r\n                response = (<any>error).response;\r\n                if (response == null) {\r\n                    runningTimeout.cancel();\r\n                    logger.throwError(\"missing response\", Logger.errors.SERVER_ERROR, {\r\n                        requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\r\n                        requestMethod: options.method,\r\n                        serverError: error,\r\n                        url: url\r\n                    });\r\n                }\r\n            }\r\n\r\n\r\n            let body = response.body;\r\n\r\n            if (allow304 && response.statusCode === 304) {\r\n                body = null;\r\n            } else if (!errorPassThrough && (response.statusCode < 200 || response.statusCode >= 300)) {\r\n                runningTimeout.cancel();\r\n                logger.throwError(\"bad response\", Logger.errors.SERVER_ERROR, {\r\n                    status: response.statusCode,\r\n                    headers: response.headers,\r\n                    body: bodyify(body, ((response.headers) ? response.headers[\"content-type\"]: null)),\r\n                    requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\r\n                    requestMethod: options.method,\r\n                    url: url\r\n                });\r\n            }\r\n\r\n            if (processFunc) {\r\n                try {\r\n                    const result = await processFunc(body, response);\r\n                    runningTimeout.cancel();\r\n                    return result;\r\n\r\n                } catch (error) {\r\n                    // Allow the processFunc to trigger a throttle\r\n                    if (error.throttleRetry && attempt < attemptLimit) {\r\n                        let tryAgain = true;\r\n                        if (throttleCallback) {\r\n                            tryAgain = await throttleCallback(attempt, url);\r\n                        }\r\n\r\n                        if (tryAgain) {\r\n                            const timeout = throttleSlotInterval * parseInt(String(Math.random() * Math.pow(2, attempt)));\r\n                            //console.log(\"Stalling callback\");\r\n                            await staller(timeout);\r\n                            continue;\r\n                        }\r\n                    }\r\n\r\n                    runningTimeout.cancel();\r\n                    logger.throwError(\"processing response error\", Logger.errors.SERVER_ERROR, {\r\n                        body: bodyify(body, ((response.headers) ? response.headers[\"content-type\"]: null)),\r\n                        error: error,\r\n                        requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\r\n                        requestMethod: options.method,\r\n                        url: url\r\n                    });\r\n                }\r\n            }\r\n\r\n            runningTimeout.cancel();\r\n\r\n            // If we had a processFunc, it either returned a T or threw above.\r\n            // The \"body\" is now a Uint8Array.\r\n            return <T>(<unknown>body);\r\n        }\r\n\r\n        return logger.throwError(\"failed response\", Logger.errors.SERVER_ERROR, {\r\n            requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\r\n            requestMethod: options.method,\r\n            url: url\r\n        });\r\n    })();\r\n\r\n    return Promise.race([ runningTimeout.promise, runningFetch ]);\r\n}\r\n\r\nexport function fetchJson(connection: string | ConnectionInfo, json?: string, processFunc?: (value: any, response: FetchJsonResponse) => any): Promise<any> {\r\n    let processJsonFunc = (value: Uint8Array, response: FetchJsonResponse) => {\r\n        let result: any = null;\r\n        if (value != null) {\r\n            try {\r\n                result = JSON.parse(toUtf8String(value));\r\n            } catch (error) {\r\n                logger.throwError(\"invalid JSON\", Logger.errors.SERVER_ERROR, {\r\n                    body: value,\r\n                    error: error\r\n                });\r\n            }\r\n        }\r\n\r\n        if (processFunc) {\r\n            result = processFunc(result, response);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // If we have json to send, we must\r\n    // - add content-type of application/json (unless already overridden)\r\n    // - convert the json to bytes\r\n    let body: Uint8Array = null;\r\n    if (json != null) {\r\n        body = toUtf8Bytes(json);\r\n\r\n        // Create a connection with the content-type set for JSON\r\n        const updated: ConnectionInfo = (typeof(connection) === \"string\") ? ({ url: connection }): shallowCopy(connection);\r\n        if (updated.headers) {\r\n            const hasContentType = (Object.keys(updated.headers).filter((k) => (k.toLowerCase() === \"content-type\")).length) !== 0;\r\n            if (!hasContentType) {\r\n                updated.headers = shallowCopy(updated.headers);\r\n                updated.headers[\"content-type\"] = \"application/json\";\r\n            }\r\n        } else {\r\n            updated.headers = { \"content-type\": \"application/json\" };\r\n        }\r\n        connection = updated;\r\n    }\r\n\r\n    return _fetchData<any>(connection, body, processJsonFunc);\r\n}\r\n\r\nexport function poll<T>(func: () => Promise<T>, options?: PollOptions): Promise<T> {\r\n    if (!options) { options = {}; }\r\n    options = shallowCopy(options);\r\n    if (options.floor == null) { options.floor = 0; }\r\n    if (options.ceiling == null) { options.ceiling = 10000; }\r\n    if (options.interval == null) { options.interval = 250; }\r\n\r\n    return new Promise(function(resolve, reject) {\r\n\r\n        let timer: NodeJS.Timer = null;\r\n        let done: boolean = false;\r\n\r\n        // Returns true if cancel was successful. Unsuccessful cancel means we're already done.\r\n        const cancel = (): boolean => {\r\n            if (done) { return false; }\r\n            done = true;\r\n            if (timer) { clearTimeout(timer); }\r\n            return true;\r\n        };\r\n\r\n        if (options.timeout) {\r\n            timer = setTimeout(() => {\r\n                if (cancel()) { reject(new Error(\"timeout\")); }\r\n            }, options.timeout)\r\n        }\r\n\r\n        const retryLimit = options.retryLimit;\r\n\r\n        let attempt = 0;\r\n        function check() {\r\n            return func().then(function(result) {\r\n\r\n                // If we have a result, or are allowed null then we're done\r\n                if (result !== undefined) {\r\n                    if (cancel()) { resolve(result); }\r\n\r\n                } else if (options.oncePoll) {\r\n                    options.oncePoll.once(\"poll\", check);\r\n\r\n                } else if (options.onceBlock) {\r\n                    options.onceBlock.once(\"block\", check);\r\n\r\n                // Otherwise, exponential back-off (up to 10s) our next request\r\n                } else if (!done) {\r\n                    attempt++;\r\n                    if (attempt > retryLimit) {\r\n                        if (cancel()) { reject(new Error(\"retry limit reached\")); }\r\n                        return;\r\n                    }\r\n\r\n                    let timeout = options.interval * parseInt(String(Math.random() * Math.pow(2, attempt)));\r\n                    if (timeout < options.floor) { timeout = options.floor; }\r\n                    if (timeout > options.ceiling) { timeout = options.ceiling; }\r\n\r\n                    setTimeout(check, timeout);\r\n                }\r\n\r\n                return null;\r\n            }, function(error) {\r\n                if (cancel()) { reject(error); }\r\n            });\r\n        }\r\n        check();\r\n    });\r\n}\r\n\r\n", "export const version = \"providers/5.7.2\";\r\n", "module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n", "'use strict';\n\nvar utils = exports;\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg !== 'string') {\n    for (var i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n    return res;\n  }\n  if (enc === 'hex') {\n    msg = msg.replace(/[^a-z0-9]+/ig, '');\n    if (msg.length % 2 !== 0)\n      msg = '0' + msg;\n    for (var i = 0; i < msg.length; i += 2)\n      res.push(parseInt(msg[i] + msg[i + 1], 16));\n  } else {\n    for (var i = 0; i < msg.length; i++) {\n      var c = msg.charCodeAt(i);\n      var hi = c >> 8;\n      var lo = c & 0xff;\n      if (hi)\n        res.push(hi, lo);\n      else\n        res.push(lo);\n    }\n  }\n  return res;\n}\nutils.toArray = toArray;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nutils.zero2 = zero2;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nutils.toHex = toHex;\n\nutils.encode = function encode(arr, enc) {\n  if (enc === 'hex')\n    return toHex(arr);\n  else\n    return arr;\n};\n", "'use strict';\n\nvar utils = exports;\nvar BN = require('bn.js');\nvar minAssert = require('minimalistic-assert');\nvar minUtils = require('minimalistic-crypto-utils');\n\nutils.assert = minAssert;\nutils.toArray = minUtils.toArray;\nutils.zero2 = minUtils.zero2;\nutils.toHex = minUtils.toHex;\nutils.encode = minUtils.encode;\n\n// Represent num in a w-NAF form\nfunction getNAF(num, w, bits) {\n  var naf = new Array(Math.max(num.bitLength(), bits) + 1);\n  naf.fill(0);\n\n  var ws = 1 << (w + 1);\n  var k = num.clone();\n\n  for (var i = 0; i < naf.length; i++) {\n    var z;\n    var mod = k.andln(ws - 1);\n    if (k.isOdd()) {\n      if (mod > (ws >> 1) - 1)\n        z = (ws >> 1) - mod;\n      else\n        z = mod;\n      k.isubn(z);\n    } else {\n      z = 0;\n    }\n\n    naf[i] = z;\n    k.iushrn(1);\n  }\n\n  return naf;\n}\nutils.getNAF = getNAF;\n\n// Represent k1, k2 in a Joint Sparse Form\nfunction getJSF(k1, k2) {\n  var jsf = [\n    [],\n    [],\n  ];\n\n  k1 = k1.clone();\n  k2 = k2.clone();\n  var d1 = 0;\n  var d2 = 0;\n  var m8;\n  while (k1.cmpn(-d1) > 0 || k2.cmpn(-d2) > 0) {\n    // First phase\n    var m14 = (k1.andln(3) + d1) & 3;\n    var m24 = (k2.andln(3) + d2) & 3;\n    if (m14 === 3)\n      m14 = -1;\n    if (m24 === 3)\n      m24 = -1;\n    var u1;\n    if ((m14 & 1) === 0) {\n      u1 = 0;\n    } else {\n      m8 = (k1.andln(7) + d1) & 7;\n      if ((m8 === 3 || m8 === 5) && m24 === 2)\n        u1 = -m14;\n      else\n        u1 = m14;\n    }\n    jsf[0].push(u1);\n\n    var u2;\n    if ((m24 & 1) === 0) {\n      u2 = 0;\n    } else {\n      m8 = (k2.andln(7) + d2) & 7;\n      if ((m8 === 3 || m8 === 5) && m14 === 2)\n        u2 = -m24;\n      else\n        u2 = m24;\n    }\n    jsf[1].push(u2);\n\n    // Second phase\n    if (2 * d1 === u1 + 1)\n      d1 = 1 - d1;\n    if (2 * d2 === u2 + 1)\n      d2 = 1 - d2;\n    k1.iushrn(1);\n    k2.iushrn(1);\n  }\n\n  return jsf;\n}\nutils.getJSF = getJSF;\n\nfunction cachedProperty(obj, name, computer) {\n  var key = '_' + name;\n  obj.prototype[name] = function cachedProperty() {\n    return this[key] !== undefined ? this[key] :\n      this[key] = computer.call(this);\n  };\n}\nutils.cachedProperty = cachedProperty;\n\nfunction parseBytes(bytes) {\n  return typeof bytes === 'string' ? utils.toArray(bytes, 'hex') :\n    bytes;\n}\nutils.parseBytes = parseBytes;\n\nfunction intFromLE(bytes) {\n  return new BN(bytes, 'hex', 'le');\n}\nutils.intFromLE = intFromLE;\n\n", "'use strict';\n\nvar BN = require('bn.js');\nvar utils = require('../utils');\nvar getNAF = utils.getNAF;\nvar getJSF = utils.getJSF;\nvar assert = utils.assert;\n\nfunction BaseCurve(type, conf) {\n  this.type = type;\n  this.p = new BN(conf.p, 16);\n\n  // Use Montgomery, when there is no fast reduction for the prime\n  this.red = conf.prime ? BN.red(conf.prime) : BN.mont(this.p);\n\n  // Useful for many curves\n  this.zero = new BN(0).toRed(this.red);\n  this.one = new BN(1).toRed(this.red);\n  this.two = new BN(2).toRed(this.red);\n\n  // Curve configuration, optional\n  this.n = conf.n && new BN(conf.n, 16);\n  this.g = conf.g && this.pointFromJSON(conf.g, conf.gRed);\n\n  // Temporary arrays\n  this._wnafT1 = new Array(4);\n  this._wnafT2 = new Array(4);\n  this._wnafT3 = new Array(4);\n  this._wnafT4 = new Array(4);\n\n  this._bitLength = this.n ? this.n.bitLength() : 0;\n\n  // Generalized Greg Maxwell's trick\n  var adjustCount = this.n && this.p.div(this.n);\n  if (!adjustCount || adjustCount.cmpn(100) > 0) {\n    this.redN = null;\n  } else {\n    this._maxwellTrick = true;\n    this.redN = this.n.toRed(this.red);\n  }\n}\nmodule.exports = BaseCurve;\n\nBaseCurve.prototype.point = function point() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype.validate = function validate() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype._fixedNafMul = function _fixedNafMul(p, k) {\n  assert(p.precomputed);\n  var doubles = p._getDoubles();\n\n  var naf = getNAF(k, 1, this._bitLength);\n  var I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1);\n  I /= 3;\n\n  // Translate into more windowed form\n  var repr = [];\n  var j;\n  var nafW;\n  for (j = 0; j < naf.length; j += doubles.step) {\n    nafW = 0;\n    for (var l = j + doubles.step - 1; l >= j; l--)\n      nafW = (nafW << 1) + naf[l];\n    repr.push(nafW);\n  }\n\n  var a = this.jpoint(null, null, null);\n  var b = this.jpoint(null, null, null);\n  for (var i = I; i > 0; i--) {\n    for (j = 0; j < repr.length; j++) {\n      nafW = repr[j];\n      if (nafW === i)\n        b = b.mixedAdd(doubles.points[j]);\n      else if (nafW === -i)\n        b = b.mixedAdd(doubles.points[j].neg());\n    }\n    a = a.add(b);\n  }\n  return a.toP();\n};\n\nBaseCurve.prototype._wnafMul = function _wnafMul(p, k) {\n  var w = 4;\n\n  // Precompute window\n  var nafPoints = p._getNAFPoints(w);\n  w = nafPoints.wnd;\n  var wnd = nafPoints.points;\n\n  // Get NAF form\n  var naf = getNAF(k, w, this._bitLength);\n\n  // Add `this`*(N+1) for every w-NAF index\n  var acc = this.jpoint(null, null, null);\n  for (var i = naf.length - 1; i >= 0; i--) {\n    // Count zeroes\n    for (var l = 0; i >= 0 && naf[i] === 0; i--)\n      l++;\n    if (i >= 0)\n      l++;\n    acc = acc.dblp(l);\n\n    if (i < 0)\n      break;\n    var z = naf[i];\n    assert(z !== 0);\n    if (p.type === 'affine') {\n      // J +- P\n      if (z > 0)\n        acc = acc.mixedAdd(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.mixedAdd(wnd[(-z - 1) >> 1].neg());\n    } else {\n      // J +- J\n      if (z > 0)\n        acc = acc.add(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.add(wnd[(-z - 1) >> 1].neg());\n    }\n  }\n  return p.type === 'affine' ? acc.toP() : acc;\n};\n\nBaseCurve.prototype._wnafMulAdd = function _wnafMulAdd(defW,\n  points,\n  coeffs,\n  len,\n  jacobianResult) {\n  var wndWidth = this._wnafT1;\n  var wnd = this._wnafT2;\n  var naf = this._wnafT3;\n\n  // Fill all arrays\n  var max = 0;\n  var i;\n  var j;\n  var p;\n  for (i = 0; i < len; i++) {\n    p = points[i];\n    var nafPoints = p._getNAFPoints(defW);\n    wndWidth[i] = nafPoints.wnd;\n    wnd[i] = nafPoints.points;\n  }\n\n  // Comb small window NAFs\n  for (i = len - 1; i >= 1; i -= 2) {\n    var a = i - 1;\n    var b = i;\n    if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {\n      naf[a] = getNAF(coeffs[a], wndWidth[a], this._bitLength);\n      naf[b] = getNAF(coeffs[b], wndWidth[b], this._bitLength);\n      max = Math.max(naf[a].length, max);\n      max = Math.max(naf[b].length, max);\n      continue;\n    }\n\n    var comb = [\n      points[a], /* 1 */\n      null, /* 3 */\n      null, /* 5 */\n      points[b], /* 7 */\n    ];\n\n    // Try to avoid Projective points, if possible\n    if (points[a].y.cmp(points[b].y) === 0) {\n      comb[1] = points[a].add(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    } else if (points[a].y.cmp(points[b].y.redNeg()) === 0) {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].add(points[b].neg());\n    } else {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    }\n\n    var index = [\n      -3, /* -1 -1 */\n      -1, /* -1 0 */\n      -5, /* -1 1 */\n      -7, /* 0 -1 */\n      0, /* 0 0 */\n      7, /* 0 1 */\n      5, /* 1 -1 */\n      1, /* 1 0 */\n      3,  /* 1 1 */\n    ];\n\n    var jsf = getJSF(coeffs[a], coeffs[b]);\n    max = Math.max(jsf[0].length, max);\n    naf[a] = new Array(max);\n    naf[b] = new Array(max);\n    for (j = 0; j < max; j++) {\n      var ja = jsf[0][j] | 0;\n      var jb = jsf[1][j] | 0;\n\n      naf[a][j] = index[(ja + 1) * 3 + (jb + 1)];\n      naf[b][j] = 0;\n      wnd[a] = comb;\n    }\n  }\n\n  var acc = this.jpoint(null, null, null);\n  var tmp = this._wnafT4;\n  for (i = max; i >= 0; i--) {\n    var k = 0;\n\n    while (i >= 0) {\n      var zero = true;\n      for (j = 0; j < len; j++) {\n        tmp[j] = naf[j][i] | 0;\n        if (tmp[j] !== 0)\n          zero = false;\n      }\n      if (!zero)\n        break;\n      k++;\n      i--;\n    }\n    if (i >= 0)\n      k++;\n    acc = acc.dblp(k);\n    if (i < 0)\n      break;\n\n    for (j = 0; j < len; j++) {\n      var z = tmp[j];\n      p;\n      if (z === 0)\n        continue;\n      else if (z > 0)\n        p = wnd[j][(z - 1) >> 1];\n      else if (z < 0)\n        p = wnd[j][(-z - 1) >> 1].neg();\n\n      if (p.type === 'affine')\n        acc = acc.mixedAdd(p);\n      else\n        acc = acc.add(p);\n    }\n  }\n  // Zeroify references\n  for (i = 0; i < len; i++)\n    wnd[i] = null;\n\n  if (jacobianResult)\n    return acc;\n  else\n    return acc.toP();\n};\n\nfunction BasePoint(curve, type) {\n  this.curve = curve;\n  this.type = type;\n  this.precomputed = null;\n}\nBaseCurve.BasePoint = BasePoint;\n\nBasePoint.prototype.eq = function eq(/*other*/) {\n  throw new Error('Not implemented');\n};\n\nBasePoint.prototype.validate = function validate() {\n  return this.curve.validate(this);\n};\n\nBaseCurve.prototype.decodePoint = function decodePoint(bytes, enc) {\n  bytes = utils.toArray(bytes, enc);\n\n  var len = this.p.byteLength();\n\n  // uncompressed, hybrid-odd, hybrid-even\n  if ((bytes[0] === 0x04 || bytes[0] === 0x06 || bytes[0] === 0x07) &&\n      bytes.length - 1 === 2 * len) {\n    if (bytes[0] === 0x06)\n      assert(bytes[bytes.length - 1] % 2 === 0);\n    else if (bytes[0] === 0x07)\n      assert(bytes[bytes.length - 1] % 2 === 1);\n\n    var res =  this.point(bytes.slice(1, 1 + len),\n      bytes.slice(1 + len, 1 + 2 * len));\n\n    return res;\n  } else if ((bytes[0] === 0x02 || bytes[0] === 0x03) &&\n              bytes.length - 1 === len) {\n    return this.pointFromX(bytes.slice(1, 1 + len), bytes[0] === 0x03);\n  }\n  throw new Error('Unknown point format');\n};\n\nBasePoint.prototype.encodeCompressed = function encodeCompressed(enc) {\n  return this.encode(enc, true);\n};\n\nBasePoint.prototype._encode = function _encode(compact) {\n  var len = this.curve.p.byteLength();\n  var x = this.getX().toArray('be', len);\n\n  if (compact)\n    return [ this.getY().isEven() ? 0x02 : 0x03 ].concat(x);\n\n  return [ 0x04 ].concat(x, this.getY().toArray('be', len));\n};\n\nBasePoint.prototype.encode = function encode(enc, compact) {\n  return utils.encode(this._encode(compact), enc);\n};\n\nBasePoint.prototype.precompute = function precompute(power) {\n  if (this.precomputed)\n    return this;\n\n  var precomputed = {\n    doubles: null,\n    naf: null,\n    beta: null,\n  };\n  precomputed.naf = this._getNAFPoints(8);\n  precomputed.doubles = this._getDoubles(4, power);\n  precomputed.beta = this._getBeta();\n  this.precomputed = precomputed;\n\n  return this;\n};\n\nBasePoint.prototype._hasDoubles = function _hasDoubles(k) {\n  if (!this.precomputed)\n    return false;\n\n  var doubles = this.precomputed.doubles;\n  if (!doubles)\n    return false;\n\n  return doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step);\n};\n\nBasePoint.prototype._getDoubles = function _getDoubles(step, power) {\n  if (this.precomputed && this.precomputed.doubles)\n    return this.precomputed.doubles;\n\n  var doubles = [ this ];\n  var acc = this;\n  for (var i = 0; i < power; i += step) {\n    for (var j = 0; j < step; j++)\n      acc = acc.dbl();\n    doubles.push(acc);\n  }\n  return {\n    step: step,\n    points: doubles,\n  };\n};\n\nBasePoint.prototype._getNAFPoints = function _getNAFPoints(wnd) {\n  if (this.precomputed && this.precomputed.naf)\n    return this.precomputed.naf;\n\n  var res = [ this ];\n  var max = (1 << wnd) - 1;\n  var dbl = max === 1 ? null : this.dbl();\n  for (var i = 1; i < max; i++)\n    res[i] = res[i - 1].add(dbl);\n  return {\n    wnd: wnd,\n    points: res,\n  };\n};\n\nBasePoint.prototype._getBeta = function _getBeta() {\n  return null;\n};\n\nBasePoint.prototype.dblp = function dblp(k) {\n  var r = this;\n  for (var i = 0; i < k; i++)\n    r = r.dbl();\n  return r;\n};\n", "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n", "'use strict';\n\nvar utils = require('../utils');\nvar BN = require('bn.js');\nvar inherits = require('inherits');\nvar Base = require('./base');\n\nvar assert = utils.assert;\n\nfunction ShortCurve(conf) {\n  Base.call(this, 'short', conf);\n\n  this.a = new BN(conf.a, 16).toRed(this.red);\n  this.b = new BN(conf.b, 16).toRed(this.red);\n  this.tinv = this.two.redInvm();\n\n  this.zeroA = this.a.fromRed().cmpn(0) === 0;\n  this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0;\n\n  // If the curve is endomorphic, precalculate beta and lambda\n  this.endo = this._getEndomorphism(conf);\n  this._endoWnafT1 = new Array(4);\n  this._endoWnafT2 = new Array(4);\n}\ninherits(ShortCurve, Base);\nmodule.exports = ShortCurve;\n\nShortCurve.prototype._getEndomorphism = function _getEndomorphism(conf) {\n  // No efficient endomorphism\n  if (!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)\n    return;\n\n  // Compute beta and lambda, that lambda * P = (beta * Px; Py)\n  var beta;\n  var lambda;\n  if (conf.beta) {\n    beta = new BN(conf.beta, 16).toRed(this.red);\n  } else {\n    var betas = this._getEndoRoots(this.p);\n    // Choose the smallest beta\n    beta = betas[0].cmp(betas[1]) < 0 ? betas[0] : betas[1];\n    beta = beta.toRed(this.red);\n  }\n  if (conf.lambda) {\n    lambda = new BN(conf.lambda, 16);\n  } else {\n    // Choose the lambda that is matching selected beta\n    var lambdas = this._getEndoRoots(this.n);\n    if (this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta)) === 0) {\n      lambda = lambdas[0];\n    } else {\n      lambda = lambdas[1];\n      assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta)) === 0);\n    }\n  }\n\n  // Get basis vectors, used for balanced length-two representation\n  var basis;\n  if (conf.basis) {\n    basis = conf.basis.map(function(vec) {\n      return {\n        a: new BN(vec.a, 16),\n        b: new BN(vec.b, 16),\n      };\n    });\n  } else {\n    basis = this._getEndoBasis(lambda);\n  }\n\n  return {\n    beta: beta,\n    lambda: lambda,\n    basis: basis,\n  };\n};\n\nShortCurve.prototype._getEndoRoots = function _getEndoRoots(num) {\n  // Find roots of for x^2 + x + 1 in F\n  // Root = (-1 +- Sqrt(-3)) / 2\n  //\n  var red = num === this.p ? this.red : BN.mont(num);\n  var tinv = new BN(2).toRed(red).redInvm();\n  var ntinv = tinv.redNeg();\n\n  var s = new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);\n\n  var l1 = ntinv.redAdd(s).fromRed();\n  var l2 = ntinv.redSub(s).fromRed();\n  return [ l1, l2 ];\n};\n\nShortCurve.prototype._getEndoBasis = function _getEndoBasis(lambda) {\n  // aprxSqrt >= sqrt(this.n)\n  var aprxSqrt = this.n.ushrn(Math.floor(this.n.bitLength() / 2));\n\n  // 3.74\n  // Run EGCD, until r(L + 1) < aprxSqrt\n  var u = lambda;\n  var v = this.n.clone();\n  var x1 = new BN(1);\n  var y1 = new BN(0);\n  var x2 = new BN(0);\n  var y2 = new BN(1);\n\n  // NOTE: all vectors are roots of: a + b * lambda = 0 (mod n)\n  var a0;\n  var b0;\n  // First vector\n  var a1;\n  var b1;\n  // Second vector\n  var a2;\n  var b2;\n\n  var prevR;\n  var i = 0;\n  var r;\n  var x;\n  while (u.cmpn(0) !== 0) {\n    var q = v.div(u);\n    r = v.sub(q.mul(u));\n    x = x2.sub(q.mul(x1));\n    var y = y2.sub(q.mul(y1));\n\n    if (!a1 && r.cmp(aprxSqrt) < 0) {\n      a0 = prevR.neg();\n      b0 = x1;\n      a1 = r.neg();\n      b1 = x;\n    } else if (a1 && ++i === 2) {\n      break;\n    }\n    prevR = r;\n\n    v = u;\n    u = r;\n    x2 = x1;\n    x1 = x;\n    y2 = y1;\n    y1 = y;\n  }\n  a2 = r.neg();\n  b2 = x;\n\n  var len1 = a1.sqr().add(b1.sqr());\n  var len2 = a2.sqr().add(b2.sqr());\n  if (len2.cmp(len1) >= 0) {\n    a2 = a0;\n    b2 = b0;\n  }\n\n  // Normalize signs\n  if (a1.negative) {\n    a1 = a1.neg();\n    b1 = b1.neg();\n  }\n  if (a2.negative) {\n    a2 = a2.neg();\n    b2 = b2.neg();\n  }\n\n  return [\n    { a: a1, b: b1 },\n    { a: a2, b: b2 },\n  ];\n};\n\nShortCurve.prototype._endoSplit = function _endoSplit(k) {\n  var basis = this.endo.basis;\n  var v1 = basis[0];\n  var v2 = basis[1];\n\n  var c1 = v2.b.mul(k).divRound(this.n);\n  var c2 = v1.b.neg().mul(k).divRound(this.n);\n\n  var p1 = c1.mul(v1.a);\n  var p2 = c2.mul(v2.a);\n  var q1 = c1.mul(v1.b);\n  var q2 = c2.mul(v2.b);\n\n  // Calculate answer\n  var k1 = k.sub(p1).sub(p2);\n  var k2 = q1.add(q2).neg();\n  return { k1: k1, k2: k2 };\n};\n\nShortCurve.prototype.pointFromX = function pointFromX(x, odd) {\n  x = new BN(x, 16);\n  if (!x.red)\n    x = x.toRed(this.red);\n\n  var y2 = x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);\n  var y = y2.redSqrt();\n  if (y.redSqr().redSub(y2).cmp(this.zero) !== 0)\n    throw new Error('invalid point');\n\n  // XXX Is there any way to tell if the number is odd without converting it\n  // to non-red form?\n  var isOdd = y.fromRed().isOdd();\n  if (odd && !isOdd || !odd && isOdd)\n    y = y.redNeg();\n\n  return this.point(x, y);\n};\n\nShortCurve.prototype.validate = function validate(point) {\n  if (point.inf)\n    return true;\n\n  var x = point.x;\n  var y = point.y;\n\n  var ax = this.a.redMul(x);\n  var rhs = x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);\n  return y.redSqr().redISub(rhs).cmpn(0) === 0;\n};\n\nShortCurve.prototype._endoWnafMulAdd =\n    function _endoWnafMulAdd(points, coeffs, jacobianResult) {\n      var npoints = this._endoWnafT1;\n      var ncoeffs = this._endoWnafT2;\n      for (var i = 0; i < points.length; i++) {\n        var split = this._endoSplit(coeffs[i]);\n        var p = points[i];\n        var beta = p._getBeta();\n\n        if (split.k1.negative) {\n          split.k1.ineg();\n          p = p.neg(true);\n        }\n        if (split.k2.negative) {\n          split.k2.ineg();\n          beta = beta.neg(true);\n        }\n\n        npoints[i * 2] = p;\n        npoints[i * 2 + 1] = beta;\n        ncoeffs[i * 2] = split.k1;\n        ncoeffs[i * 2 + 1] = split.k2;\n      }\n      var res = this._wnafMulAdd(1, npoints, ncoeffs, i * 2, jacobianResult);\n\n      // Clean-up references to points and coefficients\n      for (var j = 0; j < i * 2; j++) {\n        npoints[j] = null;\n        ncoeffs[j] = null;\n      }\n      return res;\n    };\n\nfunction Point(curve, x, y, isRed) {\n  Base.BasePoint.call(this, curve, 'affine');\n  if (x === null && y === null) {\n    this.x = null;\n    this.y = null;\n    this.inf = true;\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    // Force redgomery representation when loading from JSON\n    if (isRed) {\n      this.x.forceRed(this.curve.red);\n      this.y.forceRed(this.curve.red);\n    }\n    if (!this.x.red)\n      this.x = this.x.toRed(this.curve.red);\n    if (!this.y.red)\n      this.y = this.y.toRed(this.curve.red);\n    this.inf = false;\n  }\n}\ninherits(Point, Base.BasePoint);\n\nShortCurve.prototype.point = function point(x, y, isRed) {\n  return new Point(this, x, y, isRed);\n};\n\nShortCurve.prototype.pointFromJSON = function pointFromJSON(obj, red) {\n  return Point.fromJSON(this, obj, red);\n};\n\nPoint.prototype._getBeta = function _getBeta() {\n  if (!this.curve.endo)\n    return;\n\n  var pre = this.precomputed;\n  if (pre && pre.beta)\n    return pre.beta;\n\n  var beta = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);\n  if (pre) {\n    var curve = this.curve;\n    var endoMul = function(p) {\n      return curve.point(p.x.redMul(curve.endo.beta), p.y);\n    };\n    pre.beta = beta;\n    beta.precomputed = {\n      beta: null,\n      naf: pre.naf && {\n        wnd: pre.naf.wnd,\n        points: pre.naf.points.map(endoMul),\n      },\n      doubles: pre.doubles && {\n        step: pre.doubles.step,\n        points: pre.doubles.points.map(endoMul),\n      },\n    };\n  }\n  return beta;\n};\n\nPoint.prototype.toJSON = function toJSON() {\n  if (!this.precomputed)\n    return [ this.x, this.y ];\n\n  return [ this.x, this.y, this.precomputed && {\n    doubles: this.precomputed.doubles && {\n      step: this.precomputed.doubles.step,\n      points: this.precomputed.doubles.points.slice(1),\n    },\n    naf: this.precomputed.naf && {\n      wnd: this.precomputed.naf.wnd,\n      points: this.precomputed.naf.points.slice(1),\n    },\n  } ];\n};\n\nPoint.fromJSON = function fromJSON(curve, obj, red) {\n  if (typeof obj === 'string')\n    obj = JSON.parse(obj);\n  var res = curve.point(obj[0], obj[1], red);\n  if (!obj[2])\n    return res;\n\n  function obj2point(obj) {\n    return curve.point(obj[0], obj[1], red);\n  }\n\n  var pre = obj[2];\n  res.precomputed = {\n    beta: null,\n    doubles: pre.doubles && {\n      step: pre.doubles.step,\n      points: [ res ].concat(pre.doubles.points.map(obj2point)),\n    },\n    naf: pre.naf && {\n      wnd: pre.naf.wnd,\n      points: [ res ].concat(pre.naf.points.map(obj2point)),\n    },\n  };\n  return res;\n};\n\nPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC Point Infinity>';\n  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +\n      ' y: ' + this.y.fromRed().toString(16, 2) + '>';\n};\n\nPoint.prototype.isInfinity = function isInfinity() {\n  return this.inf;\n};\n\nPoint.prototype.add = function add(p) {\n  // O + P = P\n  if (this.inf)\n    return p;\n\n  // P + O = P\n  if (p.inf)\n    return this;\n\n  // P + P = 2P\n  if (this.eq(p))\n    return this.dbl();\n\n  // P + (-P) = O\n  if (this.neg().eq(p))\n    return this.curve.point(null, null);\n\n  // P + Q = O\n  if (this.x.cmp(p.x) === 0)\n    return this.curve.point(null, null);\n\n  var c = this.y.redSub(p.y);\n  if (c.cmpn(0) !== 0)\n    c = c.redMul(this.x.redSub(p.x).redInvm());\n  var nx = c.redSqr().redISub(this.x).redISub(p.x);\n  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);\n  return this.curve.point(nx, ny);\n};\n\nPoint.prototype.dbl = function dbl() {\n  if (this.inf)\n    return this;\n\n  // 2P = O\n  var ys1 = this.y.redAdd(this.y);\n  if (ys1.cmpn(0) === 0)\n    return this.curve.point(null, null);\n\n  var a = this.curve.a;\n\n  var x2 = this.x.redSqr();\n  var dyinv = ys1.redInvm();\n  var c = x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);\n\n  var nx = c.redSqr().redISub(this.x.redAdd(this.x));\n  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);\n  return this.curve.point(nx, ny);\n};\n\nPoint.prototype.getX = function getX() {\n  return this.x.fromRed();\n};\n\nPoint.prototype.getY = function getY() {\n  return this.y.fromRed();\n};\n\nPoint.prototype.mul = function mul(k) {\n  k = new BN(k, 16);\n  if (this.isInfinity())\n    return this;\n  else if (this._hasDoubles(k))\n    return this.curve._fixedNafMul(this, k);\n  else if (this.curve.endo)\n    return this.curve._endoWnafMulAdd([ this ], [ k ]);\n  else\n    return this.curve._wnafMul(this, k);\n};\n\nPoint.prototype.mulAdd = function mulAdd(k1, p2, k2) {\n  var points = [ this, p2 ];\n  var coeffs = [ k1, k2 ];\n  if (this.curve.endo)\n    return this.curve._endoWnafMulAdd(points, coeffs);\n  else\n    return this.curve._wnafMulAdd(1, points, coeffs, 2);\n};\n\nPoint.prototype.jmulAdd = function jmulAdd(k1, p2, k2) {\n  var points = [ this, p2 ];\n  var coeffs = [ k1, k2 ];\n  if (this.curve.endo)\n    return this.curve._endoWnafMulAdd(points, coeffs, true);\n  else\n    return this.curve._wnafMulAdd(1, points, coeffs, 2, true);\n};\n\nPoint.prototype.eq = function eq(p) {\n  return this === p ||\n         this.inf === p.inf &&\n             (this.inf || this.x.cmp(p.x) === 0 && this.y.cmp(p.y) === 0);\n};\n\nPoint.prototype.neg = function neg(_precompute) {\n  if (this.inf)\n    return this;\n\n  var res = this.curve.point(this.x, this.y.redNeg());\n  if (_precompute && this.precomputed) {\n    var pre = this.precomputed;\n    var negate = function(p) {\n      return p.neg();\n    };\n    res.precomputed = {\n      naf: pre.naf && {\n        wnd: pre.naf.wnd,\n        points: pre.naf.points.map(negate),\n      },\n      doubles: pre.doubles && {\n        step: pre.doubles.step,\n        points: pre.doubles.points.map(negate),\n      },\n    };\n  }\n  return res;\n};\n\nPoint.prototype.toJ = function toJ() {\n  if (this.inf)\n    return this.curve.jpoint(null, null, null);\n\n  var res = this.curve.jpoint(this.x, this.y, this.curve.one);\n  return res;\n};\n\nfunction JPoint(curve, x, y, z) {\n  Base.BasePoint.call(this, curve, 'jacobian');\n  if (x === null && y === null && z === null) {\n    this.x = this.curve.one;\n    this.y = this.curve.one;\n    this.z = new BN(0);\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    this.z = new BN(z, 16);\n  }\n  if (!this.x.red)\n    this.x = this.x.toRed(this.curve.red);\n  if (!this.y.red)\n    this.y = this.y.toRed(this.curve.red);\n  if (!this.z.red)\n    this.z = this.z.toRed(this.curve.red);\n\n  this.zOne = this.z === this.curve.one;\n}\ninherits(JPoint, Base.BasePoint);\n\nShortCurve.prototype.jpoint = function jpoint(x, y, z) {\n  return new JPoint(this, x, y, z);\n};\n\nJPoint.prototype.toP = function toP() {\n  if (this.isInfinity())\n    return this.curve.point(null, null);\n\n  var zinv = this.z.redInvm();\n  var zinv2 = zinv.redSqr();\n  var ax = this.x.redMul(zinv2);\n  var ay = this.y.redMul(zinv2).redMul(zinv);\n\n  return this.curve.point(ax, ay);\n};\n\nJPoint.prototype.neg = function neg() {\n  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);\n};\n\nJPoint.prototype.add = function add(p) {\n  // O + P = P\n  if (this.isInfinity())\n    return p;\n\n  // P + O = P\n  if (p.isInfinity())\n    return this;\n\n  // 12M + 4S + 7A\n  var pz2 = p.z.redSqr();\n  var z2 = this.z.redSqr();\n  var u1 = this.x.redMul(pz2);\n  var u2 = p.x.redMul(z2);\n  var s1 = this.y.redMul(pz2.redMul(p.z));\n  var s2 = p.y.redMul(z2.redMul(this.z));\n\n  var h = u1.redSub(u2);\n  var r = s1.redSub(s2);\n  if (h.cmpn(0) === 0) {\n    if (r.cmpn(0) !== 0)\n      return this.curve.jpoint(null, null, null);\n    else\n      return this.dbl();\n  }\n\n  var h2 = h.redSqr();\n  var h3 = h2.redMul(h);\n  var v = u1.redMul(h2);\n\n  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);\n  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));\n  var nz = this.z.redMul(p.z).redMul(h);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.mixedAdd = function mixedAdd(p) {\n  // O + P = P\n  if (this.isInfinity())\n    return p.toJ();\n\n  // P + O = P\n  if (p.isInfinity())\n    return this;\n\n  // 8M + 3S + 7A\n  var z2 = this.z.redSqr();\n  var u1 = this.x;\n  var u2 = p.x.redMul(z2);\n  var s1 = this.y;\n  var s2 = p.y.redMul(z2).redMul(this.z);\n\n  var h = u1.redSub(u2);\n  var r = s1.redSub(s2);\n  if (h.cmpn(0) === 0) {\n    if (r.cmpn(0) !== 0)\n      return this.curve.jpoint(null, null, null);\n    else\n      return this.dbl();\n  }\n\n  var h2 = h.redSqr();\n  var h3 = h2.redMul(h);\n  var v = u1.redMul(h2);\n\n  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);\n  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));\n  var nz = this.z.redMul(h);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.dblp = function dblp(pow) {\n  if (pow === 0)\n    return this;\n  if (this.isInfinity())\n    return this;\n  if (!pow)\n    return this.dbl();\n\n  var i;\n  if (this.curve.zeroA || this.curve.threeA) {\n    var r = this;\n    for (i = 0; i < pow; i++)\n      r = r.dbl();\n    return r;\n  }\n\n  // 1M + 2S + 1A + N * (4S + 5M + 8A)\n  // N = 1 => 6M + 6S + 9A\n  var a = this.curve.a;\n  var tinv = this.curve.tinv;\n\n  var jx = this.x;\n  var jy = this.y;\n  var jz = this.z;\n  var jz4 = jz.redSqr().redSqr();\n\n  // Reuse results\n  var jyd = jy.redAdd(jy);\n  for (i = 0; i < pow; i++) {\n    var jx2 = jx.redSqr();\n    var jyd2 = jyd.redSqr();\n    var jyd4 = jyd2.redSqr();\n    var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));\n\n    var t1 = jx.redMul(jyd2);\n    var nx = c.redSqr().redISub(t1.redAdd(t1));\n    var t2 = t1.redISub(nx);\n    var dny = c.redMul(t2);\n    dny = dny.redIAdd(dny).redISub(jyd4);\n    var nz = jyd.redMul(jz);\n    if (i + 1 < pow)\n      jz4 = jz4.redMul(jyd4);\n\n    jx = nx;\n    jz = nz;\n    jyd = dny;\n  }\n\n  return this.curve.jpoint(jx, jyd.redMul(tinv), jz);\n};\n\nJPoint.prototype.dbl = function dbl() {\n  if (this.isInfinity())\n    return this;\n\n  if (this.curve.zeroA)\n    return this._zeroDbl();\n  else if (this.curve.threeA)\n    return this._threeDbl();\n  else\n    return this._dbl();\n};\n\nJPoint.prototype._zeroDbl = function _zeroDbl() {\n  var nx;\n  var ny;\n  var nz;\n  // Z = 1\n  if (this.zOne) {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n    //     #doubling-mdbl-2007-bl\n    // 1M + 5S + 14A\n\n    // XX = X1^2\n    var xx = this.x.redSqr();\n    // YY = Y1^2\n    var yy = this.y.redSqr();\n    // YYYY = YY^2\n    var yyyy = yy.redSqr();\n    // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n    s = s.redIAdd(s);\n    // M = 3 * XX + a; a = 0\n    var m = xx.redAdd(xx).redIAdd(xx);\n    // T = M ^ 2 - 2*S\n    var t = m.redSqr().redISub(s).redISub(s);\n\n    // 8 * YYYY\n    var yyyy8 = yyyy.redIAdd(yyyy);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n\n    // X3 = T\n    nx = t;\n    // Y3 = M * (S - T) - 8 * YYYY\n    ny = m.redMul(s.redISub(t)).redISub(yyyy8);\n    // Z3 = 2*Y1\n    nz = this.y.redAdd(this.y);\n  } else {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n    //     #doubling-dbl-2009-l\n    // 2M + 5S + 13A\n\n    // A = X1^2\n    var a = this.x.redSqr();\n    // B = Y1^2\n    var b = this.y.redSqr();\n    // C = B^2\n    var c = b.redSqr();\n    // D = 2 * ((X1 + B)^2 - A - C)\n    var d = this.x.redAdd(b).redSqr().redISub(a).redISub(c);\n    d = d.redIAdd(d);\n    // E = 3 * A\n    var e = a.redAdd(a).redIAdd(a);\n    // F = E^2\n    var f = e.redSqr();\n\n    // 8 * C\n    var c8 = c.redIAdd(c);\n    c8 = c8.redIAdd(c8);\n    c8 = c8.redIAdd(c8);\n\n    // X3 = F - 2 * D\n    nx = f.redISub(d).redISub(d);\n    // Y3 = E * (D - X3) - 8 * C\n    ny = e.redMul(d.redISub(nx)).redISub(c8);\n    // Z3 = 2 * Y1 * Z1\n    nz = this.y.redMul(this.z);\n    nz = nz.redIAdd(nz);\n  }\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype._threeDbl = function _threeDbl() {\n  var nx;\n  var ny;\n  var nz;\n  // Z = 1\n  if (this.zOne) {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html\n    //     #doubling-mdbl-2007-bl\n    // 1M + 5S + 15A\n\n    // XX = X1^2\n    var xx = this.x.redSqr();\n    // YY = Y1^2\n    var yy = this.y.redSqr();\n    // YYYY = YY^2\n    var yyyy = yy.redSqr();\n    // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n    s = s.redIAdd(s);\n    // M = 3 * XX + a\n    var m = xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);\n    // T = M^2 - 2 * S\n    var t = m.redSqr().redISub(s).redISub(s);\n    // X3 = T\n    nx = t;\n    // Y3 = M * (S - T) - 8 * YYYY\n    var yyyy8 = yyyy.redIAdd(yyyy);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    ny = m.redMul(s.redISub(t)).redISub(yyyy8);\n    // Z3 = 2 * Y1\n    nz = this.y.redAdd(this.y);\n  } else {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html#doubling-dbl-2001-b\n    // 3M + 5S\n\n    // delta = Z1^2\n    var delta = this.z.redSqr();\n    // gamma = Y1^2\n    var gamma = this.y.redSqr();\n    // beta = X1 * gamma\n    var beta = this.x.redMul(gamma);\n    // alpha = 3 * (X1 - delta) * (X1 + delta)\n    var alpha = this.x.redSub(delta).redMul(this.x.redAdd(delta));\n    alpha = alpha.redAdd(alpha).redIAdd(alpha);\n    // X3 = alpha^2 - 8 * beta\n    var beta4 = beta.redIAdd(beta);\n    beta4 = beta4.redIAdd(beta4);\n    var beta8 = beta4.redAdd(beta4);\n    nx = alpha.redSqr().redISub(beta8);\n    // Z3 = (Y1 + Z1)^2 - gamma - delta\n    nz = this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);\n    // Y3 = alpha * (4 * beta - X3) - 8 * gamma^2\n    var ggamma8 = gamma.redSqr();\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ny = alpha.redMul(beta4.redISub(nx)).redISub(ggamma8);\n  }\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype._dbl = function _dbl() {\n  var a = this.curve.a;\n\n  // 4M + 6S + 10A\n  var jx = this.x;\n  var jy = this.y;\n  var jz = this.z;\n  var jz4 = jz.redSqr().redSqr();\n\n  var jx2 = jx.redSqr();\n  var jy2 = jy.redSqr();\n\n  var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));\n\n  var jxd4 = jx.redAdd(jx);\n  jxd4 = jxd4.redIAdd(jxd4);\n  var t1 = jxd4.redMul(jy2);\n  var nx = c.redSqr().redISub(t1.redAdd(t1));\n  var t2 = t1.redISub(nx);\n\n  var jyd8 = jy2.redSqr();\n  jyd8 = jyd8.redIAdd(jyd8);\n  jyd8 = jyd8.redIAdd(jyd8);\n  jyd8 = jyd8.redIAdd(jyd8);\n  var ny = c.redMul(t2).redISub(jyd8);\n  var nz = jy.redAdd(jy).redMul(jz);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.trpl = function trpl() {\n  if (!this.curve.zeroA)\n    return this.dbl().add(this);\n\n  // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html#tripling-tpl-2007-bl\n  // 5M + 10S + ...\n\n  // XX = X1^2\n  var xx = this.x.redSqr();\n  // YY = Y1^2\n  var yy = this.y.redSqr();\n  // ZZ = Z1^2\n  var zz = this.z.redSqr();\n  // YYYY = YY^2\n  var yyyy = yy.redSqr();\n  // M = 3 * XX + a * ZZ2; a = 0\n  var m = xx.redAdd(xx).redIAdd(xx);\n  // MM = M^2\n  var mm = m.redSqr();\n  // E = 6 * ((X1 + YY)^2 - XX - YYYY) - MM\n  var e = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n  e = e.redIAdd(e);\n  e = e.redAdd(e).redIAdd(e);\n  e = e.redISub(mm);\n  // EE = E^2\n  var ee = e.redSqr();\n  // T = 16*YYYY\n  var t = yyyy.redIAdd(yyyy);\n  t = t.redIAdd(t);\n  t = t.redIAdd(t);\n  t = t.redIAdd(t);\n  // U = (M + E)^2 - MM - EE - T\n  var u = m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);\n  // X3 = 4 * (X1 * EE - 4 * YY * U)\n  var yyu4 = yy.redMul(u);\n  yyu4 = yyu4.redIAdd(yyu4);\n  yyu4 = yyu4.redIAdd(yyu4);\n  var nx = this.x.redMul(ee).redISub(yyu4);\n  nx = nx.redIAdd(nx);\n  nx = nx.redIAdd(nx);\n  // Y3 = 8 * Y1 * (U * (T - U) - E * EE)\n  var ny = this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));\n  ny = ny.redIAdd(ny);\n  ny = ny.redIAdd(ny);\n  ny = ny.redIAdd(ny);\n  // Z3 = (Z1 + E)^2 - ZZ - EE\n  var nz = this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.mul = function mul(k, kbase) {\n  k = new BN(k, kbase);\n\n  return this.curve._wnafMul(this, k);\n};\n\nJPoint.prototype.eq = function eq(p) {\n  if (p.type === 'affine')\n    return this.eq(p.toJ());\n\n  if (this === p)\n    return true;\n\n  // x1 * z2^2 == x2 * z1^2\n  var z2 = this.z.redSqr();\n  var pz2 = p.z.redSqr();\n  if (this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0) !== 0)\n    return false;\n\n  // y1 * z2^3 == y2 * z1^3\n  var z3 = z2.redMul(this.z);\n  var pz3 = pz2.redMul(p.z);\n  return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0) === 0;\n};\n\nJPoint.prototype.eqXToP = function eqXToP(x) {\n  var zs = this.z.redSqr();\n  var rx = x.toRed(this.curve.red).redMul(zs);\n  if (this.x.cmp(rx) === 0)\n    return true;\n\n  var xc = x.clone();\n  var t = this.curve.redN.redMul(zs);\n  for (;;) {\n    xc.iadd(this.curve.n);\n    if (xc.cmp(this.curve.p) >= 0)\n      return false;\n\n    rx.redIAdd(t);\n    if (this.x.cmp(rx) === 0)\n      return true;\n  }\n};\n\nJPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC JPoint Infinity>';\n  return '<EC JPoint x: ' + this.x.toString(16, 2) +\n      ' y: ' + this.y.toString(16, 2) +\n      ' z: ' + this.z.toString(16, 2) + '>';\n};\n\nJPoint.prototype.isInfinity = function isInfinity() {\n  // XXX This code assumes that zero is always zero in red\n  return this.z.cmpn(0) === 0;\n};\n", "'use strict';\n\nvar curve = exports;\n\ncurve.base = require('./base');\ncurve.short = require('./short');\ncurve.mont = require('./mont');\ncurve.edwards = require('./edwards');\n", "'use strict';\n\nvar curves = exports;\n\nvar hash = require('hash.js');\nvar curve = require('./curve');\nvar utils = require('./utils');\n\nvar assert = utils.assert;\n\nfunction PresetCurve(options) {\n  if (options.type === 'short')\n    this.curve = new curve.short(options);\n  else if (options.type === 'edwards')\n    this.curve = new curve.edwards(options);\n  else\n    this.curve = new curve.mont(options);\n  this.g = this.curve.g;\n  this.n = this.curve.n;\n  this.hash = options.hash;\n\n  assert(this.g.validate(), 'Invalid curve');\n  assert(this.g.mul(this.n).isInfinity(), 'Invalid curve, G*N != O');\n}\ncurves.PresetCurve = PresetCurve;\n\nfunction defineCurve(name, options) {\n  Object.defineProperty(curves, name, {\n    configurable: true,\n    enumerable: true,\n    get: function() {\n      var curve = new PresetCurve(options);\n      Object.defineProperty(curves, name, {\n        configurable: true,\n        enumerable: true,\n        value: curve,\n      });\n      return curve;\n    },\n  });\n}\n\ndefineCurve('p192', {\n  type: 'short',\n  prime: 'p192',\n  p: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',\n  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',\n  b: '64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',\n  n: 'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012',\n    '07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811',\n  ],\n});\n\ndefineCurve('p224', {\n  type: 'short',\n  prime: 'p224',\n  p: 'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',\n  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',\n  b: 'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',\n  n: 'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    'b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21',\n    'bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34',\n  ],\n});\n\ndefineCurve('p256', {\n  type: 'short',\n  prime: null,\n  p: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',\n  a: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',\n  b: '5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',\n  n: 'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296',\n    '4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5',\n  ],\n});\n\ndefineCurve('p384', {\n  type: 'short',\n  prime: null,\n  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'fffffffe ffffffff 00000000 00000000 ffffffff',\n  a: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'fffffffe ffffffff 00000000 00000000 fffffffc',\n  b: 'b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f ' +\n     '5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef',\n  n: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 ' +\n     'f4372ddf 581a0db2 48b0a77a ecec196a ccc52973',\n  hash: hash.sha384,\n  gRed: false,\n  g: [\n    'aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 ' +\n    '5502f25d bf55296c 3a545e38 72760ab7',\n    '3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 ' +\n    '0a60b1ce 1d7e819d 7a431d7c 90ea0e5f',\n  ],\n});\n\ndefineCurve('p521', {\n  type: 'short',\n  prime: null,\n  p: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff',\n  a: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff fffffffc',\n  b: '00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b ' +\n     '99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd ' +\n     '3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00',\n  n: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 ' +\n     'f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409',\n  hash: hash.sha512,\n  gRed: false,\n  g: [\n    '000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 ' +\n    '053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 ' +\n    'a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66',\n    '00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 ' +\n    '579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 ' +\n    '3fad0761 353c7086 a272c240 88be9476 9fd16650',\n  ],\n});\n\ndefineCurve('curve25519', {\n  type: 'mont',\n  prime: 'p25519',\n  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',\n  a: '76d06',\n  b: '1',\n  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '9',\n  ],\n});\n\ndefineCurve('ed25519', {\n  type: 'edwards',\n  prime: 'p25519',\n  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',\n  a: '-1',\n  c: '1',\n  // -121665 * (121666^(-1)) (mod P)\n  d: '52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',\n  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a',\n\n    // 4/5\n    '6666666666666666666666666666666666666666666666666666666666666658',\n  ],\n});\n\nvar pre;\ntry {\n  pre = require('./precomputed/secp256k1');\n} catch (e) {\n  pre = undefined;\n}\n\ndefineCurve('secp256k1', {\n  type: 'short',\n  prime: 'k256',\n  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',\n  a: '0',\n  b: '7',\n  n: 'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',\n  h: '1',\n  hash: hash.sha256,\n\n  // Precomputed endomorphism\n  beta: '7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',\n  lambda: '5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',\n  basis: [\n    {\n      a: '3086d221a7d46bcde86c90e49284eb15',\n      b: '-e4437ed6010e88286f547fa90abfe4c3',\n    },\n    {\n      a: '114ca50f7a8e2f3f657c1108d9d44cfd8',\n      b: '3086d221a7d46bcde86c90e49284eb15',\n    },\n  ],\n\n  gRed: false,\n  g: [\n    '79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798',\n    '483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',\n    pre,\n  ],\n});\n", "'use strict';\n\nvar hash = require('hash.js');\nvar utils = require('minimalistic-crypto-utils');\nvar assert = require('minimalistic-assert');\n\nfunction HmacDRBG(options) {\n  if (!(this instanceof HmacDRBG))\n    return new HmacDRBG(options);\n  this.hash = options.hash;\n  this.predResist = !!options.predResist;\n\n  this.outLen = this.hash.outSize;\n  this.minEntropy = options.minEntropy || this.hash.hmacStrength;\n\n  this._reseed = null;\n  this.reseedInterval = null;\n  this.K = null;\n  this.V = null;\n\n  var entropy = utils.toArray(options.entropy, options.entropyEnc || 'hex');\n  var nonce = utils.toArray(options.nonce, options.nonceEnc || 'hex');\n  var pers = utils.toArray(options.pers, options.persEnc || 'hex');\n  assert(entropy.length >= (this.minEntropy / 8),\n         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');\n  this._init(entropy, nonce, pers);\n}\nmodule.exports = HmacDRBG;\n\nHmacDRBG.prototype._init = function init(entropy, nonce, pers) {\n  var seed = entropy.concat(nonce).concat(pers);\n\n  this.K = new Array(this.outLen / 8);\n  this.V = new Array(this.outLen / 8);\n  for (var i = 0; i < this.V.length; i++) {\n    this.K[i] = 0x00;\n    this.V[i] = 0x01;\n  }\n\n  this._update(seed);\n  this._reseed = 1;\n  this.reseedInterval = 0x1000000000000;  // 2^48\n};\n\nHmacDRBG.prototype._hmac = function hmac() {\n  return new hash.hmac(this.hash, this.K);\n};\n\nHmacDRBG.prototype._update = function update(seed) {\n  var kmac = this._hmac()\n                 .update(this.V)\n                 .update([ 0x00 ]);\n  if (seed)\n    kmac = kmac.update(seed);\n  this.K = kmac.digest();\n  this.V = this._hmac().update(this.V).digest();\n  if (!seed)\n    return;\n\n  this.K = this._hmac()\n               .update(this.V)\n               .update([ 0x01 ])\n               .update(seed)\n               .digest();\n  this.V = this._hmac().update(this.V).digest();\n};\n\nHmacDRBG.prototype.reseed = function reseed(entropy, entropyEnc, add, addEnc) {\n  // Optional entropy enc\n  if (typeof entropyEnc !== 'string') {\n    addEnc = add;\n    add = entropyEnc;\n    entropyEnc = null;\n  }\n\n  entropy = utils.toArray(entropy, entropyEnc);\n  add = utils.toArray(add, addEnc);\n\n  assert(entropy.length >= (this.minEntropy / 8),\n         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');\n\n  this._update(entropy.concat(add || []));\n  this._reseed = 1;\n};\n\nHmacDRBG.prototype.generate = function generate(len, enc, add, addEnc) {\n  if (this._reseed > this.reseedInterval)\n    throw new Error('Reseed is required');\n\n  // Optional encoding\n  if (typeof enc !== 'string') {\n    addEnc = add;\n    add = enc;\n    enc = null;\n  }\n\n  // Optional additional data\n  if (add) {\n    add = utils.toArray(add, addEnc || 'hex');\n    this._update(add);\n  }\n\n  var temp = [];\n  while (temp.length < len) {\n    this.V = this._hmac().update(this.V).digest();\n    temp = temp.concat(this.V);\n  }\n\n  var res = temp.slice(0, len);\n  this._update(add);\n  this._reseed++;\n  return utils.encode(res, enc);\n};\n", "'use strict';\n\nvar BN = require('bn.js');\nvar utils = require('../utils');\nvar assert = utils.assert;\n\nfunction KeyPair(ec, options) {\n  this.ec = ec;\n  this.priv = null;\n  this.pub = null;\n\n  // KeyPair(ec, { priv: ..., pub: ... })\n  if (options.priv)\n    this._importPrivate(options.priv, options.privEnc);\n  if (options.pub)\n    this._importPublic(options.pub, options.pubEnc);\n}\nmodule.exports = KeyPair;\n\nKeyPair.fromPublic = function fromPublic(ec, pub, enc) {\n  if (pub instanceof KeyPair)\n    return pub;\n\n  return new KeyPair(ec, {\n    pub: pub,\n    pubEnc: enc,\n  });\n};\n\nKeyPair.fromPrivate = function fromPrivate(ec, priv, enc) {\n  if (priv instanceof KeyPair)\n    return priv;\n\n  return new KeyPair(ec, {\n    priv: priv,\n    privEnc: enc,\n  });\n};\n\nKeyPair.prototype.validate = function validate() {\n  var pub = this.getPublic();\n\n  if (pub.isInfinity())\n    return { result: false, reason: 'Invalid public key' };\n  if (!pub.validate())\n    return { result: false, reason: 'Public key is not a point' };\n  if (!pub.mul(this.ec.curve.n).isInfinity())\n    return { result: false, reason: 'Public key * N != O' };\n\n  return { result: true, reason: null };\n};\n\nKeyPair.prototype.getPublic = function getPublic(compact, enc) {\n  // compact is optional argument\n  if (typeof compact === 'string') {\n    enc = compact;\n    compact = null;\n  }\n\n  if (!this.pub)\n    this.pub = this.ec.g.mul(this.priv);\n\n  if (!enc)\n    return this.pub;\n\n  return this.pub.encode(enc, compact);\n};\n\nKeyPair.prototype.getPrivate = function getPrivate(enc) {\n  if (enc === 'hex')\n    return this.priv.toString(16, 2);\n  else\n    return this.priv;\n};\n\nKeyPair.prototype._importPrivate = function _importPrivate(key, enc) {\n  this.priv = new BN(key, enc || 16);\n\n  // Ensure that the priv won't be bigger than n, otherwise we may fail\n  // in fixed multiplication method\n  this.priv = this.priv.umod(this.ec.curve.n);\n};\n\nKeyPair.prototype._importPublic = function _importPublic(key, enc) {\n  if (key.x || key.y) {\n    // Montgomery points only have an `x` coordinate.\n    // Weierstrass/Edwards points on the other hand have both `x` and\n    // `y` coordinates.\n    if (this.ec.curve.type === 'mont') {\n      assert(key.x, 'Need x coordinate');\n    } else if (this.ec.curve.type === 'short' ||\n               this.ec.curve.type === 'edwards') {\n      assert(key.x && key.y, 'Need both x and y coordinate');\n    }\n    this.pub = this.ec.curve.point(key.x, key.y);\n    return;\n  }\n  this.pub = this.ec.curve.decodePoint(key, enc);\n};\n\n// ECDH\nKeyPair.prototype.derive = function derive(pub) {\n  if(!pub.validate()) {\n    assert(pub.validate(), 'public point not validated');\n  }\n  return pub.mul(this.priv).getX();\n};\n\n// ECDSA\nKeyPair.prototype.sign = function sign(msg, enc, options) {\n  return this.ec.sign(msg, this, enc, options);\n};\n\nKeyPair.prototype.verify = function verify(msg, signature) {\n  return this.ec.verify(msg, signature, this);\n};\n\nKeyPair.prototype.inspect = function inspect() {\n  return '<Key priv: ' + (this.priv && this.priv.toString(16, 2)) +\n         ' pub: ' + (this.pub && this.pub.inspect()) + ' >';\n};\n", "'use strict';\n\nvar BN = require('bn.js');\n\nvar utils = require('../utils');\nvar assert = utils.assert;\n\nfunction Signature(options, enc) {\n  if (options instanceof Signature)\n    return options;\n\n  if (this._importDER(options, enc))\n    return;\n\n  assert(options.r && options.s, 'Signature without r or s');\n  this.r = new BN(options.r, 16);\n  this.s = new BN(options.s, 16);\n  if (options.recoveryParam === undefined)\n    this.recoveryParam = null;\n  else\n    this.recoveryParam = options.recoveryParam;\n}\nmodule.exports = Signature;\n\nfunction Position() {\n  this.place = 0;\n}\n\nfunction getLength(buf, p) {\n  var initial = buf[p.place++];\n  if (!(initial & 0x80)) {\n    return initial;\n  }\n  var octetLen = initial & 0xf;\n\n  // Indefinite length or overflow\n  if (octetLen === 0 || octetLen > 4) {\n    return false;\n  }\n\n  var val = 0;\n  for (var i = 0, off = p.place; i < octetLen; i++, off++) {\n    val <<= 8;\n    val |= buf[off];\n    val >>>= 0;\n  }\n\n  // Leading zeroes\n  if (val <= 0x7f) {\n    return false;\n  }\n\n  p.place = off;\n  return val;\n}\n\nfunction rmPadding(buf) {\n  var i = 0;\n  var len = buf.length - 1;\n  while (!buf[i] && !(buf[i + 1] & 0x80) && i < len) {\n    i++;\n  }\n  if (i === 0) {\n    return buf;\n  }\n  return buf.slice(i);\n}\n\nSignature.prototype._importDER = function _importDER(data, enc) {\n  data = utils.toArray(data, enc);\n  var p = new Position();\n  if (data[p.place++] !== 0x30) {\n    return false;\n  }\n  var len = getLength(data, p);\n  if (len === false) {\n    return false;\n  }\n  if ((len + p.place) !== data.length) {\n    return false;\n  }\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n  var rlen = getLength(data, p);\n  if (rlen === false) {\n    return false;\n  }\n  var r = data.slice(p.place, rlen + p.place);\n  p.place += rlen;\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n  var slen = getLength(data, p);\n  if (slen === false) {\n    return false;\n  }\n  if (data.length !== slen + p.place) {\n    return false;\n  }\n  var s = data.slice(p.place, slen + p.place);\n  if (r[0] === 0) {\n    if (r[1] & 0x80) {\n      r = r.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n  if (s[0] === 0) {\n    if (s[1] & 0x80) {\n      s = s.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n\n  this.r = new BN(r);\n  this.s = new BN(s);\n  this.recoveryParam = null;\n\n  return true;\n};\n\nfunction constructLength(arr, len) {\n  if (len < 0x80) {\n    arr.push(len);\n    return;\n  }\n  var octets = 1 + (Math.log(len) / Math.LN2 >>> 3);\n  arr.push(octets | 0x80);\n  while (--octets) {\n    arr.push((len >>> (octets << 3)) & 0xff);\n  }\n  arr.push(len);\n}\n\nSignature.prototype.toDER = function toDER(enc) {\n  var r = this.r.toArray();\n  var s = this.s.toArray();\n\n  // Pad values\n  if (r[0] & 0x80)\n    r = [ 0 ].concat(r);\n  // Pad values\n  if (s[0] & 0x80)\n    s = [ 0 ].concat(s);\n\n  r = rmPadding(r);\n  s = rmPadding(s);\n\n  while (!s[0] && !(s[1] & 0x80)) {\n    s = s.slice(1);\n  }\n  var arr = [ 0x02 ];\n  constructLength(arr, r.length);\n  arr = arr.concat(r);\n  arr.push(0x02);\n  constructLength(arr, s.length);\n  var backHalf = arr.concat(s);\n  var res = [ 0x30 ];\n  constructLength(res, backHalf.length);\n  res = res.concat(backHalf);\n  return utils.encode(res, enc);\n};\n", "'use strict';\n\nvar BN = require('bn.js');\nvar HmacDRBG = require('hmac-drbg');\nvar utils = require('../utils');\nvar curves = require('../curves');\nvar rand = require('brorand');\nvar assert = utils.assert;\n\nvar KeyPair = require('./key');\nvar Signature = require('./signature');\n\nfunction EC(options) {\n  if (!(this instanceof EC))\n    return new EC(options);\n\n  // Shortcut `elliptic.ec(curve-name)`\n  if (typeof options === 'string') {\n    assert(Object.prototype.hasOwnProperty.call(curves, options),\n      'Unknown curve ' + options);\n\n    options = curves[options];\n  }\n\n  // Shortcut for `elliptic.ec(elliptic.curves.curveName)`\n  if (options instanceof curves.PresetCurve)\n    options = { curve: options };\n\n  this.curve = options.curve.curve;\n  this.n = this.curve.n;\n  this.nh = this.n.ushrn(1);\n  this.g = this.curve.g;\n\n  // Point on curve\n  this.g = options.curve.g;\n  this.g.precompute(options.curve.n.bitLength() + 1);\n\n  // Hash for function for DRBG\n  this.hash = options.hash || options.curve.hash;\n}\nmodule.exports = EC;\n\nEC.prototype.keyPair = function keyPair(options) {\n  return new KeyPair(this, options);\n};\n\nEC.prototype.keyFromPrivate = function keyFromPrivate(priv, enc) {\n  return KeyPair.fromPrivate(this, priv, enc);\n};\n\nEC.prototype.keyFromPublic = function keyFromPublic(pub, enc) {\n  return KeyPair.fromPublic(this, pub, enc);\n};\n\nEC.prototype.genKeyPair = function genKeyPair(options) {\n  if (!options)\n    options = {};\n\n  // Instantiate Hmac_DRBG\n  var drbg = new HmacDRBG({\n    hash: this.hash,\n    pers: options.pers,\n    persEnc: options.persEnc || 'utf8',\n    entropy: options.entropy || rand(this.hash.hmacStrength),\n    entropyEnc: options.entropy && options.entropyEnc || 'utf8',\n    nonce: this.n.toArray(),\n  });\n\n  var bytes = this.n.byteLength();\n  var ns2 = this.n.sub(new BN(2));\n  for (;;) {\n    var priv = new BN(drbg.generate(bytes));\n    if (priv.cmp(ns2) > 0)\n      continue;\n\n    priv.iaddn(1);\n    return this.keyFromPrivate(priv);\n  }\n};\n\nEC.prototype._truncateToN = function _truncateToN(msg, truncOnly) {\n  var delta = msg.byteLength() * 8 - this.n.bitLength();\n  if (delta > 0)\n    msg = msg.ushrn(delta);\n  if (!truncOnly && msg.cmp(this.n) >= 0)\n    return msg.sub(this.n);\n  else\n    return msg;\n};\n\nEC.prototype.sign = function sign(msg, key, enc, options) {\n  if (typeof enc === 'object') {\n    options = enc;\n    enc = null;\n  }\n  if (!options)\n    options = {};\n\n  key = this.keyFromPrivate(key, enc);\n  msg = this._truncateToN(new BN(msg, 16));\n\n  // Zero-extend key to provide enough entropy\n  var bytes = this.n.byteLength();\n  var bkey = key.getPrivate().toArray('be', bytes);\n\n  // Zero-extend nonce to have the same byte size as N\n  var nonce = msg.toArray('be', bytes);\n\n  // Instantiate Hmac_DRBG\n  var drbg = new HmacDRBG({\n    hash: this.hash,\n    entropy: bkey,\n    nonce: nonce,\n    pers: options.pers,\n    persEnc: options.persEnc || 'utf8',\n  });\n\n  // Number of bytes to generate\n  var ns1 = this.n.sub(new BN(1));\n\n  for (var iter = 0; ; iter++) {\n    var k = options.k ?\n      options.k(iter) :\n      new BN(drbg.generate(this.n.byteLength()));\n    k = this._truncateToN(k, true);\n    if (k.cmpn(1) <= 0 || k.cmp(ns1) >= 0)\n      continue;\n\n    var kp = this.g.mul(k);\n    if (kp.isInfinity())\n      continue;\n\n    var kpX = kp.getX();\n    var r = kpX.umod(this.n);\n    if (r.cmpn(0) === 0)\n      continue;\n\n    var s = k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));\n    s = s.umod(this.n);\n    if (s.cmpn(0) === 0)\n      continue;\n\n    var recoveryParam = (kp.getY().isOdd() ? 1 : 0) |\n                        (kpX.cmp(r) !== 0 ? 2 : 0);\n\n    // Use complement of `s`, if it is > `n / 2`\n    if (options.canonical && s.cmp(this.nh) > 0) {\n      s = this.n.sub(s);\n      recoveryParam ^= 1;\n    }\n\n    return new Signature({ r: r, s: s, recoveryParam: recoveryParam });\n  }\n};\n\nEC.prototype.verify = function verify(msg, signature, key, enc) {\n  msg = this._truncateToN(new BN(msg, 16));\n  key = this.keyFromPublic(key, enc);\n  signature = new Signature(signature, 'hex');\n\n  // Perform primitive values validation\n  var r = signature.r;\n  var s = signature.s;\n  if (r.cmpn(1) < 0 || r.cmp(this.n) >= 0)\n    return false;\n  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0)\n    return false;\n\n  // Validate signature\n  var sinv = s.invm(this.n);\n  var u1 = sinv.mul(msg).umod(this.n);\n  var u2 = sinv.mul(r).umod(this.n);\n  var p;\n\n  if (!this.curve._maxwellTrick) {\n    p = this.g.mulAdd(u1, key.getPublic(), u2);\n    if (p.isInfinity())\n      return false;\n\n    return p.getX().umod(this.n).cmp(r) === 0;\n  }\n\n  // NOTE: Greg Maxwell's trick, inspired by:\n  // https://git.io/vad3K\n\n  p = this.g.jmulAdd(u1, key.getPublic(), u2);\n  if (p.isInfinity())\n    return false;\n\n  // Compare `p.x` of Jacobian point with `r`,\n  // this will do `p.x == r * p.z^2` instead of multiplying `p.x` by the\n  // inverse of `p.z^2`\n  return p.eqXToP(r);\n};\n\nEC.prototype.recoverPubKey = function(msg, signature, j, enc) {\n  assert((3 & j) === j, 'The recovery param is more than two bits');\n  signature = new Signature(signature, enc);\n\n  var n = this.n;\n  var e = new BN(msg);\n  var r = signature.r;\n  var s = signature.s;\n\n  // A set LSB signifies that the y-coordinate is odd\n  var isYOdd = j & 1;\n  var isSecondKey = j >> 1;\n  if (r.cmp(this.curve.p.umod(this.curve.n)) >= 0 && isSecondKey)\n    throw new Error('Unable to find sencond key candinate');\n\n  // 1.1. Let x = r + jn.\n  if (isSecondKey)\n    r = this.curve.pointFromX(r.add(this.curve.n), isYOdd);\n  else\n    r = this.curve.pointFromX(r, isYOdd);\n\n  var rInv = signature.r.invm(n);\n  var s1 = n.sub(e).mul(rInv).umod(n);\n  var s2 = s.mul(rInv).umod(n);\n\n  // 1.6.1 Compute Q = r^-1 (sR -  eG)\n  //               Q = r^-1 (sR + -eG)\n  return this.g.mulAdd(s1, r, s2);\n};\n\nEC.prototype.getKeyRecoveryParam = function(e, signature, Q, enc) {\n  signature = new Signature(signature, enc);\n  if (signature.recoveryParam !== null)\n    return signature.recoveryParam;\n\n  for (var i = 0; i < 4; i++) {\n    var Qprime;\n    try {\n      Qprime = this.recoverPubKey(e, signature, i);\n    } catch (e) {\n      continue;\n    }\n\n    if (Qprime.eq(Q))\n      return i;\n  }\n  throw new Error('Unable to find valid recovery factor');\n};\n", "'use strict';\n\nvar elliptic = exports;\n\nelliptic.version = require('../package.json').version;\nelliptic.utils = require('./elliptic/utils');\nelliptic.rand = require('brorand');\nelliptic.curve = require('./elliptic/curve');\nelliptic.curves = require('./elliptic/curves');\n\n// Protocols\nelliptic.ec = require('./elliptic/ec');\nelliptic.eddsa = require('./elliptic/eddsa');\n", "import _ec from \"elliptic\";\nvar EC = _ec.ec;\nexport { EC };\n//# sourceMappingURL=elliptic.js.map", "export const version = \"signing-key/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { EC } from \"./elliptic\";\r\n\r\nimport { arrayify, BytesLike, hexDataLength, hexlify, hexZeroPad, Signature, SignatureLike, splitSignature } from \"@ethersproject/bytes\";\r\nimport { defineReadOnly } from \"@ethersproject/properties\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nlet _curve: EC = null\r\nfunction getCurve() {\r\n    if (!_curve) {\r\n        _curve = new EC(\"secp256k1\");\r\n    }\r\n    return _curve;\r\n}\r\n\r\nexport class SigningKey {\r\n\r\n    readonly curve: string;\r\n\r\n    readonly privateKey: string;\r\n    readonly publicKey: string;\r\n    readonly compressedPublicKey: string;\r\n\r\n    //readonly address: string;\r\n\r\n    readonly _isSigningKey: boolean;\r\n\r\n    constructor(privateKey: BytesLike) {\r\n        defineReadOnly(this, \"curve\", \"secp256k1\");\r\n\r\n        defineReadOnly(this, \"privateKey\", hexlify(privateKey));\r\n        if (hexDataLength(this.privateKey) !== 32) {\r\n            logger.throwArgumentError(\"invalid private key\", \"privateKey\", \"[[ REDACTED ]]\");\r\n        }\r\n\r\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\r\n\r\n        defineReadOnly(this, \"publicKey\", \"0x\" + keyPair.getPublic(false, \"hex\"));\r\n        defineReadOnly(this, \"compressedPublicKey\", \"0x\" + keyPair.getPublic(true, \"hex\"));\r\n\r\n        defineReadOnly(this, \"_isSigningKey\", true);\r\n    }\r\n\r\n    _addPoint(other: BytesLike): string {\r\n        const p0 =  getCurve().keyFromPublic(arrayify(this.publicKey));\r\n        const p1 =  getCurve().keyFromPublic(arrayify(other));\r\n        return \"0x\" + p0.pub.add(p1.pub).encodeCompressed(\"hex\");\r\n    }\r\n\r\n    signDigest(digest: BytesLike): Signature {\r\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\r\n        const digestBytes = arrayify(digest);\r\n        if (digestBytes.length !== 32) {\r\n            logger.throwArgumentError(\"bad digest length\", \"digest\", digest);\r\n        }\r\n        const signature = keyPair.sign(digestBytes, { canonical: true });\r\n        return splitSignature({\r\n            recoveryParam: signature.recoveryParam,\r\n            r: hexZeroPad(\"0x\" + signature.r.toString(16), 32),\r\n            s: hexZeroPad(\"0x\" + signature.s.toString(16), 32),\r\n        })\r\n    }\r\n\r\n    computeSharedSecret(otherKey: BytesLike): string {\r\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\r\n        const otherKeyPair = getCurve().keyFromPublic(arrayify(computePublicKey(otherKey)));\r\n        return hexZeroPad(\"0x\" + keyPair.derive(otherKeyPair.getPublic()).toString(16), 32);\r\n    }\r\n\r\n    static isSigningKey(value: any): value is SigningKey {\r\n        return !!(value && value._isSigningKey);\r\n    }\r\n}\r\n\r\nexport function recoverPublicKey(digest: BytesLike, signature: SignatureLike): string {\r\n    const sig = splitSignature(signature);\r\n    const rs = { r: arrayify(sig.r), s: arrayify(sig.s) };\r\n    return \"0x\" + getCurve().recoverPubKey(arrayify(digest), rs, sig.recoveryParam).encode(\"hex\", false);\r\n}\r\n\r\nexport function computePublicKey(key: BytesLike, compressed?: boolean): string {\r\n    const bytes = arrayify(key);\r\n\r\n    if (bytes.length === 32) {\r\n        const signingKey = new SigningKey(bytes);\r\n        if (compressed) {\r\n            return \"0x\" + getCurve().keyFromPrivate(bytes).getPublic(true, \"hex\");\r\n        }\r\n        return signingKey.publicKey;\r\n\r\n    } else if (bytes.length === 33) {\r\n        if (compressed) { return hexlify(bytes); }\r\n        return \"0x\" + getCurve().keyFromPublic(bytes).getPublic(false, \"hex\");\r\n\r\n    } else if (bytes.length === 65) {\r\n        if (!compressed) { return hexlify(bytes); }\r\n        return \"0x\" + getCurve().keyFromPublic(bytes).getPublic(true, \"hex\");\r\n    }\r\n\r\n    return logger.throwArgumentError(\"invalid public or private key\", \"key\", \"[REDACTED]\");\r\n}\r\n\r\n", "export const version = \"transactions/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { getAddress } from \"@ethersproject/address\";\r\nimport { BigNumber, BigNumberish } from \"@ethersproject/bignumber\";\r\nimport { arrayify, BytesLike, DataOptions, hexConcat, hexDataLength, hexDataSlice, hexlify, hexZeroPad, isBytesLike, SignatureLike, splitSignature, stripZeros, } from \"@ethersproject/bytes\";\r\nimport { Zero } from \"@ethersproject/constants\";\r\nimport { keccak256 } from \"@ethersproject/keccak256\";\r\nimport { checkProperties } from \"@ethersproject/properties\";\r\nimport * as RLP from \"@ethersproject/rlp\";\r\nimport { computePublicKey, recoverPublicKey } from \"@ethersproject/signing-key\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n///////////////////////////////\r\n// Exported Types\r\n\r\nexport type AccessList = Array<{ address: string, storageKeys: Array<string> }>;\r\n\r\n// Input allows flexibility in describing an access list\r\nexport type AccessListish = AccessList |\r\n                            Array<[ string, Array<string> ]> |\r\n                            Record<string, Array<string>>;\r\n\r\nexport enum TransactionTypes {\r\n    legacy = 0,\r\n    eip2930 = 1,\r\n    eip1559 = 2,\r\n};\r\n\r\nexport type UnsignedTransaction = {\r\n    to?: string;\r\n    nonce?: number;\r\n\r\n    gasLimit?: BigNumberish;\r\n    gasPrice?: BigNumberish;\r\n\r\n    data?: BytesLike;\r\n    value?: BigNumberish;\r\n    chainId?: number;\r\n\r\n    // Typed-Transaction features\r\n    type?: number | null;\r\n\r\n    // EIP-2930; Type 1 & EIP-1559; Type 2\r\n    accessList?: AccessListish;\r\n\r\n    // EIP-1559; Type 2\r\n    maxPriorityFeePerGas?: BigNumberish;\r\n    maxFeePerGas?: BigNumberish;\r\n}\r\n\r\nexport interface Transaction {\r\n    hash?: string;\r\n\r\n    to?: string;\r\n    from?: string;\r\n    nonce: number;\r\n\r\n    gasLimit: BigNumber;\r\n    gasPrice?: BigNumber;\r\n\r\n    data: string;\r\n    value: BigNumber;\r\n    chainId: number;\r\n\r\n    r?: string;\r\n    s?: string;\r\n    v?: number;\r\n\r\n    // Typed-Transaction features\r\n    type?: number | null;\r\n\r\n    // EIP-2930; Type 1 & EIP-1559; Type 2\r\n    accessList?: AccessList;\r\n\r\n    // EIP-1559; Type 2\r\n    maxPriorityFeePerGas?: BigNumber;\r\n    maxFeePerGas?: BigNumber;\r\n}\r\n\r\n///////////////////////////////\r\n\r\nfunction handleAddress(value: string): string {\r\n    if (value === \"0x\") { return null; }\r\n    return getAddress(value);\r\n}\r\n\r\nfunction handleNumber(value: string): BigNumber {\r\n    if (value === \"0x\") { return Zero; }\r\n    return BigNumber.from(value);\r\n}\r\n\r\n// Legacy Transaction Fields\r\nconst transactionFields = [\r\n    { name: \"nonce\",    maxLength: 32, numeric: true },\r\n    { name: \"gasPrice\", maxLength: 32, numeric: true },\r\n    { name: \"gasLimit\", maxLength: 32, numeric: true },\r\n    { name: \"to\",          length: 20 },\r\n    { name: \"value\",    maxLength: 32, numeric: true },\r\n    { name: \"data\" },\r\n];\r\n\r\nconst allowedTransactionKeys: { [ key: string ]: boolean } = {\r\n    chainId: true, data: true, gasLimit: true, gasPrice:true, nonce: true, to: true, type: true, value: true\r\n}\r\n\r\nexport function computeAddress(key: BytesLike | string): string {\r\n    const publicKey = computePublicKey(key);\r\n    return getAddress(hexDataSlice(keccak256(hexDataSlice(publicKey, 1)), 12));\r\n}\r\n\r\nexport function recoverAddress(digest: BytesLike, signature: SignatureLike): string {\r\n    return computeAddress(recoverPublicKey(arrayify(digest), signature));\r\n}\r\n\r\nfunction formatNumber(value: BigNumberish, name: string): Uint8Array {\r\n    const result = stripZeros(BigNumber.from(value).toHexString());\r\n    if (result.length > 32) {\r\n        logger.throwArgumentError(\"invalid length for \" + name, (\"transaction:\" + name), value);\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction accessSetify(addr: string, storageKeys: Array<string>): { address: string,storageKeys: Array<string> } {\r\n    return {\r\n        address: getAddress(addr),\r\n        storageKeys: (storageKeys || []).map((storageKey, index) => {\r\n            if (hexDataLength(storageKey) !== 32) {\r\n                logger.throwArgumentError(\"invalid access list storageKey\", `accessList[${ addr }:${ index }]`, storageKey)\r\n            }\r\n            return storageKey.toLowerCase();\r\n        })\r\n    };\r\n}\r\n\r\nexport function accessListify(value: AccessListish): AccessList {\r\n    if (Array.isArray(value)) {\r\n        return (<Array<[ string, Array<string>] | { address: string, storageKeys: Array<string>}>>value).map((set, index) => {\r\n            if (Array.isArray(set)) {\r\n                if (set.length > 2) {\r\n                    logger.throwArgumentError(\"access list expected to be [ address, storageKeys[] ]\", `value[${ index }]`, set);\r\n                }\r\n                return accessSetify(set[0], set[1])\r\n            }\r\n            return accessSetify(set.address, set.storageKeys);\r\n        });\r\n    }\r\n\r\n    const result: Array<{ address: string, storageKeys: Array<string> }> = Object.keys(value).map((addr) => {\r\n        const storageKeys: Record<string, true> = value[addr].reduce((accum, storageKey) => {\r\n            accum[storageKey] = true;\r\n            return accum;\r\n        }, <Record<string, true>>{ });\r\n        return accessSetify(addr, Object.keys(storageKeys).sort())\r\n    });\r\n    result.sort((a, b) => (a.address.localeCompare(b.address)));\r\n    return result;\r\n}\r\n\r\nfunction formatAccessList(value: AccessListish): Array<[ string, Array<string> ]> {\r\n    return accessListify(value).map((set) => [ set.address, set.storageKeys ]);\r\n}\r\n\r\nfunction _serializeEip1559(transaction: UnsignedTransaction, signature?: SignatureLike): string {\r\n    // If there is an explicit gasPrice, make sure it matches the\r\n    // EIP-1559 fees; otherwise they may not understand what they\r\n    // think they are setting in terms of fee.\r\n    if (transaction.gasPrice != null) {\r\n        const gasPrice = BigNumber.from(transaction.gasPrice);\r\n        const maxFeePerGas = BigNumber.from(transaction.maxFeePerGas || 0);\r\n        if (!gasPrice.eq(maxFeePerGas)) {\r\n            logger.throwArgumentError(\"mismatch EIP-1559 gasPrice != maxFeePerGas\", \"tx\", {\r\n                gasPrice, maxFeePerGas\r\n            });\r\n        }\r\n    }\r\n\r\n    const fields: any = [\r\n        formatNumber(transaction.chainId || 0, \"chainId\"),\r\n        formatNumber(transaction.nonce || 0, \"nonce\"),\r\n        formatNumber(transaction.maxPriorityFeePerGas || 0, \"maxPriorityFeePerGas\"),\r\n        formatNumber(transaction.maxFeePerGas || 0, \"maxFeePerGas\"),\r\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\r\n        ((transaction.to != null) ? getAddress(transaction.to): \"0x\"),\r\n        formatNumber(transaction.value || 0, \"value\"),\r\n        (transaction.data || \"0x\"),\r\n        (formatAccessList(transaction.accessList || []))\r\n    ];\r\n\r\n    if (signature) {\r\n        const sig = splitSignature(signature);\r\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\r\n        fields.push(stripZeros(sig.r));\r\n        fields.push(stripZeros(sig.s));\r\n    }\r\n\r\n    return hexConcat([ \"0x02\", RLP.encode(fields)]);\r\n}\r\n\r\nfunction _serializeEip2930(transaction: UnsignedTransaction, signature?: SignatureLike): string {\r\n    const fields: any = [\r\n        formatNumber(transaction.chainId || 0, \"chainId\"),\r\n        formatNumber(transaction.nonce || 0, \"nonce\"),\r\n        formatNumber(transaction.gasPrice || 0, \"gasPrice\"),\r\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\r\n        ((transaction.to != null) ? getAddress(transaction.to): \"0x\"),\r\n        formatNumber(transaction.value || 0, \"value\"),\r\n        (transaction.data || \"0x\"),\r\n        (formatAccessList(transaction.accessList || []))\r\n    ];\r\n\r\n    if (signature) {\r\n        const sig = splitSignature(signature);\r\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\r\n        fields.push(stripZeros(sig.r));\r\n        fields.push(stripZeros(sig.s));\r\n    }\r\n\r\n    return hexConcat([ \"0x01\", RLP.encode(fields)]);\r\n}\r\n\r\n// Legacy Transactions and EIP-155\r\nfunction _serialize(transaction: UnsignedTransaction, signature?: SignatureLike): string {\r\n    checkProperties(transaction, allowedTransactionKeys);\r\n\r\n    const raw: Array<string | Uint8Array> = [];\r\n\r\n    transactionFields.forEach(function(fieldInfo) {\r\n        let value = (<any>transaction)[fieldInfo.name] || ([]);\r\n        const options: DataOptions = { };\r\n        if (fieldInfo.numeric) { options.hexPad = \"left\"; }\r\n        value = arrayify(hexlify(value, options));\r\n\r\n        // Fixed-width field\r\n        if (fieldInfo.length && value.length !== fieldInfo.length && value.length > 0) {\r\n            logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\r\n        }\r\n\r\n        // Variable-width (with a maximum)\r\n        if (fieldInfo.maxLength) {\r\n            value = stripZeros(value);\r\n            if (value.length > fieldInfo.maxLength) {\r\n                logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value );\r\n            }\r\n        }\r\n\r\n        raw.push(hexlify(value));\r\n    });\r\n\r\n    let chainId = 0;\r\n    if (transaction.chainId != null) {\r\n        // A chainId was provided; if non-zero we'll use EIP-155\r\n        chainId = transaction.chainId;\r\n\r\n        if (typeof(chainId) !== \"number\") {\r\n            logger.throwArgumentError(\"invalid transaction.chainId\", \"transaction\", transaction);\r\n        }\r\n\r\n    } else if (signature && !isBytesLike(signature) && signature.v > 28) {\r\n        // No chainId provided, but the signature is signing with EIP-155; derive chainId\r\n        chainId = Math.floor((signature.v - 35) / 2);\r\n    }\r\n\r\n    // We have an EIP-155 transaction (chainId was specified and non-zero)\r\n    if (chainId !== 0) {\r\n        raw.push(hexlify(chainId)); // @TODO: hexValue?\r\n        raw.push(\"0x\");\r\n        raw.push(\"0x\");\r\n    }\r\n\r\n    // Requesting an unsigned transaction\r\n    if (!signature) {\r\n        return RLP.encode(raw);\r\n    }\r\n\r\n    // The splitSignature will ensure the transaction has a recoveryParam in the\r\n    // case that the signTransaction function only adds a v.\r\n    const sig = splitSignature(signature);\r\n\r\n    // We pushed a chainId and null r, s on for hashing only; remove those\r\n    let v = 27 + sig.recoveryParam\r\n    if (chainId !== 0) {\r\n        raw.pop();\r\n        raw.pop();\r\n        raw.pop();\r\n        v += chainId * 2 + 8;\r\n\r\n        // If an EIP-155 v (directly or indirectly; maybe _vs) was provided, check it!\r\n        if (sig.v > 28 && sig.v !== v) {\r\n             logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\r\n        }\r\n    } else if (sig.v !== v) {\r\n         logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\r\n    }\r\n\r\n    raw.push(hexlify(v));\r\n    raw.push(stripZeros(arrayify(sig.r)));\r\n    raw.push(stripZeros(arrayify(sig.s)));\r\n\r\n    return RLP.encode(raw);\r\n}\r\n\r\nexport function serialize(transaction: UnsignedTransaction, signature?: SignatureLike): string {\r\n    // Legacy and EIP-155 Transactions\r\n    if (transaction.type == null || transaction.type === 0) {\r\n        if (transaction.accessList != null) {\r\n            logger.throwArgumentError(\"untyped transactions do not support accessList; include type: 1\", \"transaction\", transaction);\r\n        }\r\n        return _serialize(transaction, signature);\r\n    }\r\n\r\n    // Typed Transactions (EIP-2718)\r\n    switch (transaction.type) {\r\n        case 1:\r\n            return _serializeEip2930(transaction, signature);\r\n        case 2:\r\n            return _serializeEip1559(transaction, signature);\r\n        default:\r\n            break;\r\n    }\r\n\r\n    return logger.throwError(`unsupported transaction type: ${ transaction.type }`, Logger.errors.UNSUPPORTED_OPERATION, {\r\n        operation: \"serializeTransaction\",\r\n        transactionType: transaction.type\r\n    });\r\n}\r\n\r\nfunction _parseEipSignature(tx: Transaction, fields: Array<string>, serialize: (tx: UnsignedTransaction) => string): void {\r\n    try {\r\n        const recid = handleNumber(fields[0]).toNumber();\r\n        if (recid !== 0 && recid !== 1) { throw new Error(\"bad recid\"); }\r\n        tx.v = recid;\r\n    } catch (error) {\r\n        logger.throwArgumentError(\"invalid v for transaction type: 1\", \"v\", fields[0]);\r\n    }\r\n\r\n    tx.r = hexZeroPad(fields[1], 32);\r\n    tx.s = hexZeroPad(fields[2], 32);\r\n\r\n    try {\r\n        const digest = keccak256(serialize(tx));\r\n        tx.from = recoverAddress(digest, { r: tx.r, s: tx.s, recoveryParam: tx.v });\r\n    } catch (error) { }\r\n}\r\n\r\nfunction _parseEip1559(payload: Uint8Array): Transaction {\r\n    const transaction = RLP.decode(payload.slice(1));\r\n\r\n    if (transaction.length !== 9 && transaction.length !== 12) {\r\n        logger.throwArgumentError(\"invalid component count for transaction type: 2\", \"payload\", hexlify(payload));\r\n    }\r\n\r\n    const maxPriorityFeePerGas = handleNumber(transaction[2]);\r\n    const maxFeePerGas = handleNumber(transaction[3]);\r\n    const tx: Transaction = {\r\n        type:                  2,\r\n        chainId:               handleNumber(transaction[0]).toNumber(),\r\n        nonce:                 handleNumber(transaction[1]).toNumber(),\r\n        maxPriorityFeePerGas:  maxPriorityFeePerGas,\r\n        maxFeePerGas:          maxFeePerGas,\r\n        gasPrice:              null,\r\n        gasLimit:              handleNumber(transaction[4]),\r\n        to:                    handleAddress(transaction[5]),\r\n        value:                 handleNumber(transaction[6]),\r\n        data:                  transaction[7],\r\n        accessList:            accessListify(transaction[8]),\r\n    };\r\n\r\n    // Unsigned EIP-1559 Transaction\r\n    if (transaction.length === 9) { return tx; }\r\n\r\n    tx.hash = keccak256(payload);\r\n\r\n    _parseEipSignature(tx, transaction.slice(9), _serializeEip1559);\r\n\r\n    return tx;\r\n}\r\n\r\nfunction _parseEip2930(payload: Uint8Array): Transaction {\r\n    const transaction = RLP.decode(payload.slice(1));\r\n\r\n    if (transaction.length !== 8 && transaction.length !== 11) {\r\n        logger.throwArgumentError(\"invalid component count for transaction type: 1\", \"payload\", hexlify(payload));\r\n    }\r\n\r\n    const tx: Transaction = {\r\n        type:       1,\r\n        chainId:    handleNumber(transaction[0]).toNumber(),\r\n        nonce:      handleNumber(transaction[1]).toNumber(),\r\n        gasPrice:   handleNumber(transaction[2]),\r\n        gasLimit:   handleNumber(transaction[3]),\r\n        to:         handleAddress(transaction[4]),\r\n        value:      handleNumber(transaction[5]),\r\n        data:       transaction[6],\r\n        accessList: accessListify(transaction[7])\r\n    };\r\n\r\n    // Unsigned EIP-2930 Transaction\r\n    if (transaction.length === 8) { return tx; }\r\n\r\n    tx.hash = keccak256(payload);\r\n\r\n    _parseEipSignature(tx, transaction.slice(8), _serializeEip2930);\r\n\r\n    return tx;\r\n}\r\n\r\n// Legacy Transactions and EIP-155\r\nfunction _parse(rawTransaction: Uint8Array): Transaction {\r\n    const transaction = RLP.decode(rawTransaction);\r\n\r\n    if (transaction.length !== 9 && transaction.length !== 6) {\r\n        logger.throwArgumentError(\"invalid raw transaction\", \"rawTransaction\", rawTransaction);\r\n    }\r\n\r\n    const tx: Transaction = {\r\n        nonce:    handleNumber(transaction[0]).toNumber(),\r\n        gasPrice: handleNumber(transaction[1]),\r\n        gasLimit: handleNumber(transaction[2]),\r\n        to:       handleAddress(transaction[3]),\r\n        value:    handleNumber(transaction[4]),\r\n        data:     transaction[5],\r\n        chainId:  0\r\n    };\r\n\r\n    // Legacy unsigned transaction\r\n    if (transaction.length === 6) { return tx; }\r\n\r\n    try {\r\n        tx.v = BigNumber.from(transaction[6]).toNumber();\r\n\r\n    } catch (error) {\r\n        // @TODO: What makes snese to do? The v is too big\r\n        return tx;\r\n    }\r\n\r\n    tx.r = hexZeroPad(transaction[7], 32);\r\n    tx.s = hexZeroPad(transaction[8], 32);\r\n\r\n    if (BigNumber.from(tx.r).isZero() && BigNumber.from(tx.s).isZero()) {\r\n        // EIP-155 unsigned transaction\r\n        tx.chainId = tx.v;\r\n        tx.v = 0;\r\n\r\n    } else {\r\n        // Signed Transaction\r\n\r\n        tx.chainId = Math.floor((tx.v - 35) / 2);\r\n        if (tx.chainId < 0) { tx.chainId = 0; }\r\n\r\n        let recoveryParam = tx.v - 27;\r\n\r\n        const raw = transaction.slice(0, 6);\r\n\r\n        if (tx.chainId !== 0) {\r\n            raw.push(hexlify(tx.chainId));\r\n            raw.push(\"0x\");\r\n            raw.push(\"0x\");\r\n            recoveryParam -= tx.chainId * 2 + 8;\r\n        }\r\n\r\n        const digest = keccak256(RLP.encode(raw));\r\n        try {\r\n            tx.from = recoverAddress(digest, { r: hexlify(tx.r), s: hexlify(tx.s), recoveryParam: recoveryParam });\r\n        } catch (error) { }\r\n\r\n        tx.hash = keccak256(rawTransaction);\r\n    }\r\n\r\n    tx.type = null;\r\n\r\n    return tx;\r\n}\r\n\r\n\r\nexport function parse(rawTransaction: BytesLike): Transaction {\r\n    const payload = arrayify(rawTransaction);\r\n\r\n    // Legacy and EIP-155 Transactions\r\n    if (payload[0] > 0x7f) { return _parse(payload); }\r\n\r\n    // Typed Transaction (EIP-2718)\r\n    switch (payload[0]) {\r\n        case 1:\r\n            return _parseEip2930(payload);\r\n        case 2:\r\n            return _parseEip1559(payload);\r\n        default:\r\n            break;\r\n    }\r\n\r\n    return logger.throwError(`unsupported transaction type: ${ payload[0] }`, Logger.errors.UNSUPPORTED_OPERATION, {\r\n        operation: \"parseTransaction\",\r\n        transactionType: payload[0]\r\n    });\r\n}\r\n\r\n", "\"use strict\";\r\n\r\nimport { Block, TransactionReceipt, TransactionResponse } from \"@ethersproject/abstract-provider\";\r\nimport { getAddress, getContractAddress } from \"@ethersproject/address\";\r\nimport { BigNumber } from \"@ethersproject/bignumber\";\r\nimport { hexDataLength, hexDataSlice, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\r\nimport { AddressZero } from \"@ethersproject/constants\";\r\nimport { shallowCopy } from \"@ethersproject/properties\";\r\nimport { AccessList, accessListify, parse as parseTransaction } from \"@ethersproject/transactions\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nexport type FormatFunc = (value: any) => any;\r\n\r\nexport type FormatFuncs = { [ key: string ]: FormatFunc };\r\n\r\nexport type Formats = {\r\n    transaction: FormatFuncs,\r\n    transactionRequest: FormatFuncs,\r\n    receipt: FormatFuncs,\r\n    receiptLog: FormatFuncs,\r\n    block: FormatFuncs,\r\n    blockWithTransactions: FormatFuncs,\r\n    filter: FormatFuncs,\r\n    filterLog: FormatFuncs,\r\n};\r\n\r\nexport class Formatter {\r\n    readonly formats: Formats;\r\n\r\n    constructor() {\r\n        this.formats = this.getDefaultFormats();\r\n    }\r\n\r\n    getDefaultFormats(): Formats {\r\n        const formats: Formats = <Formats>({ });\r\n\r\n        const address = this.address.bind(this);\r\n        const bigNumber = this.bigNumber.bind(this);\r\n        const blockTag = this.blockTag.bind(this);\r\n        const data = this.data.bind(this);\r\n        const hash = this.hash.bind(this);\r\n        const hex = this.hex.bind(this);\r\n        const number = this.number.bind(this);\r\n        const type = this.type.bind(this);\r\n\r\n        const strictData = (v: any) => { return this.data(v, true); };\r\n\r\n        formats.transaction = {\r\n            hash: hash,\r\n\r\n            type: type,\r\n            accessList: Formatter.allowNull(this.accessList.bind(this), null),\r\n\r\n            blockHash: Formatter.allowNull(hash, null),\r\n            blockNumber: Formatter.allowNull(number, null),\r\n            transactionIndex: Formatter.allowNull(number, null),\r\n\r\n            confirmations: Formatter.allowNull(number, null),\r\n\r\n            from: address,\r\n\r\n            // either (gasPrice) or (maxPriorityFeePerGas + maxFeePerGas)\r\n            // must be set\r\n            gasPrice: Formatter.allowNull(bigNumber),\r\n            maxPriorityFeePerGas: Formatter.allowNull(bigNumber),\r\n            maxFeePerGas: Formatter.allowNull(bigNumber),\r\n\r\n            gasLimit: bigNumber,\r\n            to: Formatter.allowNull(address, null),\r\n            value: bigNumber,\r\n            nonce: number,\r\n            data: data,\r\n\r\n            r: Formatter.allowNull(this.uint256),\r\n            s: Formatter.allowNull(this.uint256),\r\n            v: Formatter.allowNull(number),\r\n\r\n            creates: Formatter.allowNull(address, null),\r\n\r\n            raw: Formatter.allowNull(data),\r\n        };\r\n\r\n        formats.transactionRequest = {\r\n            from: Formatter.allowNull(address),\r\n            nonce: Formatter.allowNull(number),\r\n            gasLimit: Formatter.allowNull(bigNumber),\r\n            gasPrice: Formatter.allowNull(bigNumber),\r\n            maxPriorityFeePerGas: Formatter.allowNull(bigNumber),\r\n            maxFeePerGas: Formatter.allowNull(bigNumber),\r\n            to: Formatter.allowNull(address),\r\n            value: Formatter.allowNull(bigNumber),\r\n            data: Formatter.allowNull(strictData),\r\n            type: Formatter.allowNull(number),\r\n            accessList: Formatter.allowNull(this.accessList.bind(this), null),\r\n        };\r\n\r\n        formats.receiptLog = {\r\n            transactionIndex: number,\r\n            blockNumber: number,\r\n            transactionHash: hash,\r\n            address: address,\r\n            topics: Formatter.arrayOf(hash),\r\n            data: data,\r\n            logIndex: number,\r\n            blockHash: hash,\r\n        };\r\n\r\n        formats.receipt = {\r\n            to: Formatter.allowNull(this.address, null),\r\n            from: Formatter.allowNull(this.address, null),\r\n            contractAddress: Formatter.allowNull(address, null),\r\n            transactionIndex: number,\r\n            // should be allowNull(hash), but broken-EIP-658 support is handled in receipt\r\n            root: Formatter.allowNull(hex),\r\n            gasUsed: bigNumber,\r\n            logsBloom: Formatter.allowNull(data),// @TODO: should this be data?\r\n            blockHash: hash,\r\n            transactionHash: hash,\r\n            logs: Formatter.arrayOf(this.receiptLog.bind(this)),\r\n            blockNumber: number,\r\n            confirmations: Formatter.allowNull(number, null),\r\n            cumulativeGasUsed: bigNumber,\r\n            effectiveGasPrice: Formatter.allowNull(bigNumber),\r\n            status: Formatter.allowNull(number),\r\n            type: type\r\n        };\r\n\r\n        formats.block = {\r\n            hash: Formatter.allowNull(hash),\r\n            parentHash: hash,\r\n            number: number,\r\n\r\n            timestamp: number,\r\n            nonce: Formatter.allowNull(hex),\r\n            difficulty: this.difficulty.bind(this),\r\n\r\n            gasLimit: bigNumber,\r\n            gasUsed: bigNumber,\r\n\r\n            miner: Formatter.allowNull(address),\r\n            extraData: data,\r\n\r\n            transactions: Formatter.allowNull(Formatter.arrayOf(hash)),\r\n\r\n            baseFeePerGas: Formatter.allowNull(bigNumber)\r\n        };\r\n\r\n        formats.blockWithTransactions = shallowCopy(formats.block);\r\n        formats.blockWithTransactions.transactions = Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this)));\r\n\r\n        formats.filter = {\r\n            fromBlock: Formatter.allowNull(blockTag, undefined),\r\n            toBlock: Formatter.allowNull(blockTag, undefined),\r\n            blockHash: Formatter.allowNull(hash, undefined),\r\n            address: Formatter.allowNull(address, undefined),\r\n            topics: Formatter.allowNull(this.topics.bind(this), undefined),\r\n        };\r\n\r\n        formats.filterLog = {\r\n            blockNumber: Formatter.allowNull(number),\r\n            blockHash: Formatter.allowNull(hash),\r\n            transactionIndex: number,\r\n\r\n            removed: Formatter.allowNull(this.boolean.bind(this)),\r\n\r\n            address: address,\r\n            data: Formatter.allowFalsish(data, \"0x\"),\r\n\r\n            topics: Formatter.arrayOf(hash),\r\n\r\n            transactionHash: hash,\r\n            logIndex: number,\r\n        };\r\n\r\n        return formats;\r\n    }\r\n\r\n    accessList(accessList: Array<any>): AccessList {\r\n        return accessListify(accessList || []);\r\n    }\r\n\r\n    // Requires a BigNumberish that is within the IEEE754 safe integer range; returns a number\r\n    // Strict! Used on input.\r\n    number(number: any): number {\r\n        if (number === \"0x\") { return 0; }\r\n        return BigNumber.from(number).toNumber();\r\n    }\r\n\r\n    type(number: any): number {\r\n        if (number === \"0x\" || number == null) { return 0; }\r\n        return BigNumber.from(number).toNumber();\r\n    }\r\n\r\n    // Strict! Used on input.\r\n    bigNumber(value: any): BigNumber {\r\n        return BigNumber.from(value);\r\n    }\r\n\r\n    // Requires a boolean, \"true\" or  \"false\"; returns a boolean\r\n    boolean(value: any): boolean {\r\n        if (typeof(value) === \"boolean\") { return value; }\r\n        if (typeof(value) === \"string\") {\r\n            value = value.toLowerCase();\r\n            if (value === \"true\") { return true; }\r\n            if (value === \"false\") { return false; }\r\n        }\r\n        throw new Error(\"invalid boolean - \" + value);\r\n    }\r\n\r\n    hex(value: any, strict?: boolean): string {\r\n        if (typeof(value) === \"string\") {\r\n            if (!strict && value.substring(0, 2) !== \"0x\") { value = \"0x\" + value; }\r\n            if (isHexString(value)) {\r\n               return value.toLowerCase();\r\n            }\r\n        }\r\n        return logger.throwArgumentError(\"invalid hash\", \"value\", value);\r\n    }\r\n\r\n    data(value: any, strict?: boolean): string {\r\n        const result = this.hex(value, strict);\r\n        if ((result.length % 2) !== 0) {\r\n            throw new Error(\"invalid data; odd-length - \" + value);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // Requires an address\r\n    // Strict! Used on input.\r\n    address(value: any): string {\r\n        return getAddress(value);\r\n    }\r\n\r\n    callAddress(value: any): string {\r\n        if (!isHexString(value, 32)) { return null; }\r\n        const address = getAddress(hexDataSlice(value, 12));\r\n        return (address === AddressZero) ? null: address;\r\n    }\r\n\r\n    contractAddress(value: any): string {\r\n        return getContractAddress(value);\r\n    }\r\n\r\n    // Strict! Used on input.\r\n    blockTag(blockTag: any): string {\r\n        if (blockTag == null) { return \"latest\"; }\r\n\r\n        if (blockTag === \"earliest\") { return \"0x0\"; }\r\n\r\n        switch (blockTag) {\r\n            case \"earliest\": return \"0x0\";\r\n            case \"latest\": case \"pending\": case \"safe\": case \"finalized\":\r\n                return blockTag;\r\n        }\r\n\r\n        if (typeof(blockTag) === \"number\" || isHexString(blockTag)) {\r\n            return hexValue(<number | string>blockTag);\r\n        }\r\n\r\n        throw new Error(\"invalid blockTag\");\r\n    }\r\n\r\n    // Requires a hash, optionally requires 0x prefix; returns prefixed lowercase hash.\r\n    hash(value: any, strict?: boolean): string {\r\n        const result = this.hex(value, strict);\r\n        if (hexDataLength(result) !== 32) {\r\n            return logger.throwArgumentError(\"invalid hash\", \"value\", value);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // Returns the difficulty as a number, or if too large (i.e. PoA network) null\r\n    difficulty(value: any): number {\r\n        if (value == null) { return null; }\r\n\r\n        const v = BigNumber.from(value);\r\n\r\n        try {\r\n            return v.toNumber();\r\n        } catch (error) { }\r\n\r\n       return null;\r\n    }\r\n\r\n    uint256(value: any): string {\r\n        if (!isHexString(value)) {\r\n            throw new Error(\"invalid uint256\");\r\n        }\r\n        return hexZeroPad(value, 32);\r\n    }\r\n\r\n    _block(value: any, format: any): Block {\r\n        if (value.author != null && value.miner == null) {\r\n            value.miner = value.author;\r\n        }\r\n        // The difficulty may need to come from _difficulty in recursed blocks\r\n        const difficulty = (value._difficulty != null) ? value._difficulty: value.difficulty;\r\n        const result = Formatter.check(format, value);\r\n        result._difficulty = ((difficulty == null) ? null: BigNumber.from(difficulty));\r\n        return result;\r\n    }\r\n\r\n    block(value: any): Block {\r\n        return this._block(value, this.formats.block);\r\n    }\r\n\r\n    blockWithTransactions(value: any): Block {\r\n        return this._block(value, this.formats.blockWithTransactions);\r\n    }\r\n\r\n    // Strict! Used on input.\r\n    transactionRequest(value: any): any {\r\n        return Formatter.check(this.formats.transactionRequest, value);\r\n    }\r\n\r\n    transactionResponse(transaction: any): TransactionResponse {\r\n\r\n        // Rename gas to gasLimit\r\n        if (transaction.gas != null && transaction.gasLimit == null) {\r\n            transaction.gasLimit = transaction.gas;\r\n        }\r\n\r\n        // Some clients (TestRPC) do strange things like return 0x0 for the\r\n        // 0 address; correct this to be a real address\r\n        if (transaction.to && BigNumber.from(transaction.to).isZero()) {\r\n            transaction.to = \"0x0000000000000000000000000000000000000000\";\r\n        }\r\n\r\n        // Rename input to data\r\n        if (transaction.input != null && transaction.data == null) {\r\n            transaction.data = transaction.input;\r\n        }\r\n\r\n        // If to and creates are empty, populate the creates from the transaction\r\n        if (transaction.to == null && transaction.creates == null) {\r\n            transaction.creates = this.contractAddress(transaction);\r\n        }\r\n\r\n        if ((transaction.type === 1 || transaction.type === 2)&& transaction.accessList == null) {\r\n            transaction.accessList = [ ];\r\n        }\r\n\r\n        const result: TransactionResponse = Formatter.check(this.formats.transaction, transaction);\r\n\r\n        if (transaction.chainId != null) {\r\n            let chainId = transaction.chainId;\r\n\r\n            if (isHexString(chainId)) {\r\n                chainId = BigNumber.from(chainId).toNumber();\r\n            }\r\n\r\n            result.chainId = chainId;\r\n\r\n        } else {\r\n            let chainId = transaction.networkId;\r\n\r\n            // geth-etc returns chainId\r\n            if (chainId == null && result.v == null) {\r\n                chainId = transaction.chainId;\r\n            }\r\n\r\n            if (isHexString(chainId)) {\r\n                chainId = BigNumber.from(chainId).toNumber();\r\n            }\r\n\r\n            if (typeof(chainId) !== \"number\" && result.v != null) {\r\n                chainId = (result.v - 35) / 2;\r\n                if (chainId < 0) { chainId = 0; }\r\n                chainId = parseInt(chainId);\r\n            }\r\n\r\n            if (typeof(chainId) !== \"number\") { chainId = 0; }\r\n\r\n            result.chainId = chainId;\r\n        }\r\n\r\n        // 0x0000... should actually be null\r\n        if (result.blockHash && result.blockHash.replace(/0/g, \"\") === \"x\") {\r\n            result.blockHash = null;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    transaction(value: any): any {\r\n        return parseTransaction(value);\r\n    }\r\n\r\n    receiptLog(value: any): any {\r\n        return Formatter.check(this.formats.receiptLog, value);\r\n    }\r\n\r\n    receipt(value: any): TransactionReceipt {\r\n        const result: TransactionReceipt = Formatter.check(this.formats.receipt, value);\r\n\r\n        // RSK incorrectly implemented EIP-658, so we munge things a bit here for it\r\n        if (result.root != null) {\r\n            if (result.root.length <= 4) {\r\n                // Could be 0x00, 0x0, 0x01 or 0x1\r\n                const value = BigNumber.from(result.root).toNumber();\r\n                if (value === 0 || value === 1) {\r\n                    // Make sure if both are specified, they match\r\n                    if (result.status != null && (result.status !== value)) {\r\n                        logger.throwArgumentError(\"alt-root-status/status mismatch\", \"value\", { root: result.root, status: result.status });\r\n                    }\r\n                    result.status = value;\r\n                    delete result.root;\r\n                } else {\r\n                    logger.throwArgumentError(\"invalid alt-root-status\", \"value.root\", result.root);\r\n                }\r\n            } else if (result.root.length !== 66) {\r\n                // Must be a valid bytes32\r\n                logger.throwArgumentError(\"invalid root hash\", \"value.root\", result.root);\r\n            }\r\n        }\r\n\r\n        if (result.status != null) {\r\n            result.byzantium = true;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    topics(value: any): any {\r\n        if (Array.isArray(value)) {\r\n            return value.map((v) => this.topics(v));\r\n\r\n        } else if (value != null) {\r\n            return this.hash(value, true);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    filter(value: any): any {\r\n        return Formatter.check(this.formats.filter, value);\r\n    }\r\n\r\n    filterLog(value: any): any {\r\n        return Formatter.check(this.formats.filterLog, value);\r\n    }\r\n\r\n    static check(format: { [ name: string ]: FormatFunc }, object: any): any {\r\n        const result: any = {};\r\n        for (const key in format) {\r\n            try {\r\n                const value = format[key](object[key]);\r\n                if (value !== undefined) { result[key] = value; }\r\n            } catch (error) {\r\n                error.checkKey = key;\r\n                error.checkValue = object[key];\r\n                throw error;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // if value is null-ish, nullValue is returned\r\n    static allowNull(format: FormatFunc, nullValue?: any): FormatFunc {\r\n        return (function(value: any) {\r\n            if (value == null) { return nullValue; }\r\n            return format(value);\r\n        });\r\n    }\r\n\r\n    // If value is false-ish, replaceValue is returned\r\n    static allowFalsish(format: FormatFunc, replaceValue: any): FormatFunc {\r\n        return (function(value: any) {\r\n            if (!value) { return replaceValue; }\r\n            return format(value);\r\n        });\r\n    }\r\n\r\n    // Requires an Array satisfying check\r\n    static arrayOf(format: FormatFunc): FormatFunc {\r\n        return (function(array: any): Array<any> {\r\n            if (!Array.isArray(array)) { throw new Error(\"not an array\"); }\r\n\r\n            const result: any = [];\r\n\r\n            array.forEach(function(value) {\r\n                result.push(format(value));\r\n            });\r\n\r\n            return result;\r\n        });\r\n    }\r\n}\r\n\r\nexport interface CommunityResourcable {\r\n    isCommunityResource(): boolean;\r\n}\r\n\r\nexport function isCommunityResourcable(value: any): value is CommunityResourcable {\r\n    return (value && typeof(value.isCommunityResource) === \"function\");\r\n}\r\n\r\nexport function isCommunityResource(value: any): boolean {\r\n    return (isCommunityResourcable(value) && value.isCommunityResource());\r\n}\r\n\r\n// Show the throttle message only once\r\nlet throttleMessage = false;\r\nexport function showThrottleMessage() {\r\n    if (throttleMessage) { return; }\r\n    throttleMessage = true;\r\n\r\n    console.log(\"========= NOTICE =========\")\r\n    console.log(\"Request-Rate Exceeded  (this message will not be repeated)\");\r\n    console.log(\"\");\r\n    console.log(\"The default API keys for each service are provided as a highly-throttled,\");\r\n    console.log(\"community resource for low-traffic projects and early prototyping.\");\r\n    console.log(\"\");\r\n    console.log(\"While your application will continue to function, we highly recommended\");\r\n    console.log(\"signing up for your own API keys to improve performance, increase your\");\r\n    console.log(\"request rate/limit and enable other perks, such as metrics and advanced APIs.\");\r\n    console.log(\"\");\r\n    console.log(\"For more details: https:/\\/docs.ethers.io/api-keys/\");\r\n    console.log(\"==========================\");\r\n}\r\n\r\n", "\"use strict\";\r\n\r\nimport {\r\n    Block, BlockTag, BlockWithTransactions, EventType, Filter, FilterByBlockHash, ForkEvent,\r\n    Listener, Log, Provider, TransactionReceipt, TransactionRequest, TransactionResponse\r\n} from \"@ethersproject/abstract-provider\";\r\nimport { encode as base64Encode } from \"@ethersproject/base64\";\r\nimport { Base58 } from \"@ethersproject/basex\";\r\nimport { BigNumber, BigNumberish } from \"@ethersproject/bignumber\";\r\nimport { arrayify, BytesLike, concat, hexConcat, hexDataLength, hexDataSlice, hexlify, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\r\nimport { HashZero } from \"@ethersproject/constants\";\r\nimport { dnsEncode, namehash } from \"@ethersproject/hash\";\r\nimport { getNetwork, Network, Networkish } from \"@ethersproject/networks\";\r\nimport { Deferrable, defineReadOnly, getStatic, resolveProperties } from \"@ethersproject/properties\";\r\nimport { Transaction } from \"@ethersproject/transactions\";\r\nimport { sha256 } from \"@ethersproject/sha2\";\r\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\r\nimport { fetchJson, poll } from \"@ethersproject/web\";\r\n\r\nimport bech32 from \"bech32\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { Formatter } from \"./formatter\";\r\n\r\nconst MAX_CCIP_REDIRECTS = 10;\r\n\r\n//////////////////////////////\r\n// Event Serializeing\r\n\r\nfunction checkTopic(topic: string): string {\r\n     if (topic == null) { return \"null\"; }\r\n     if (hexDataLength(topic) !== 32) {\r\n         logger.throwArgumentError(\"invalid topic\", \"topic\", topic);\r\n     }\r\n     return topic.toLowerCase();\r\n}\r\n\r\nfunction serializeTopics(topics: Array<string | Array<string>>): string {\r\n    // Remove trailing null AND-topics; they are redundant\r\n    topics = topics.slice();\r\n    while (topics.length > 0 && topics[topics.length - 1] == null) { topics.pop(); }\r\n\r\n    return topics.map((topic) => {\r\n        if (Array.isArray(topic)) {\r\n\r\n            // Only track unique OR-topics\r\n            const unique: { [ topic: string ]: boolean } = { }\r\n            topic.forEach((topic) => {\r\n                unique[checkTopic(topic)] = true;\r\n            });\r\n\r\n            // The order of OR-topics does not matter\r\n            const sorted = Object.keys(unique);\r\n            sorted.sort();\r\n\r\n            return sorted.join(\"|\");\r\n\r\n        } else {\r\n            return checkTopic(topic);\r\n        }\r\n    }).join(\"&\");\r\n}\r\n\r\nfunction deserializeTopics(data: string): Array<string | Array<string>> {\r\n    if (data === \"\") { return [ ]; }\r\n\r\n    return data.split(/&/g).map((topic) => {\r\n        if (topic === \"\") { return [ ]; }\r\n\r\n        const comps = topic.split(\"|\").map((topic) => {\r\n            return ((topic === \"null\") ? null: topic);\r\n        });\r\n\r\n        return ((comps.length === 1) ? comps[0]: comps);\r\n    });\r\n}\r\n\r\nfunction getEventTag(eventName: EventType): string {\r\n    if (typeof(eventName) === \"string\") {\r\n        eventName = eventName.toLowerCase();\r\n\r\n        if (hexDataLength(eventName) === 32) {\r\n            return \"tx:\" + eventName;\r\n        }\r\n\r\n        if (eventName.indexOf(\":\") === -1) {\r\n            return eventName;\r\n        }\r\n\r\n    } else if (Array.isArray(eventName)) {\r\n        return \"filter:*:\" + serializeTopics(eventName);\r\n\r\n    } else if (ForkEvent.isForkEvent(eventName)) {\r\n        logger.warn(\"not implemented\");\r\n        throw new Error(\"not implemented\");\r\n\r\n    } else if (eventName && typeof(eventName) === \"object\") {\r\n        return \"filter:\" + (eventName.address || \"*\") + \":\" + serializeTopics(eventName.topics || []);\r\n    }\r\n\r\n    throw new Error(\"invalid event - \" + eventName);\r\n}\r\n\r\n//////////////////////////////\r\n// Helper Object\r\n\r\nfunction getTime() {\r\n    return (new Date()).getTime();\r\n}\r\n\r\nfunction stall(duration: number): Promise<void> {\r\n    return new Promise((resolve) => {\r\n        setTimeout(resolve, duration);\r\n    });\r\n}\r\n\r\n//////////////////////////////\r\n// Provider Object\r\n\r\n\r\n/**\r\n *  EventType\r\n *   - \"block\"\r\n *   - \"poll\"\r\n *   - \"didPoll\"\r\n *   - \"pending\"\r\n *   - \"error\"\r\n *   - \"network\"\r\n *   - filter\r\n *   - topics array\r\n *   - transaction hash\r\n */\r\n\r\nconst PollableEvents = [ \"block\", \"network\", \"pending\", \"poll\" ];\r\n\r\nexport class Event {\r\n    readonly listener: Listener;\r\n    readonly once: boolean;\r\n    readonly tag: string;\r\n\r\n    _lastBlockNumber: number\r\n    _inflight: boolean;\r\n\r\n    constructor(tag: string, listener: Listener, once: boolean) {\r\n        defineReadOnly(this, \"tag\", tag);\r\n        defineReadOnly(this, \"listener\", listener);\r\n        defineReadOnly(this, \"once\", once);\r\n\r\n        this._lastBlockNumber = -2;\r\n        this._inflight = false;\r\n    }\r\n\r\n    get event(): EventType {\r\n        switch (this.type) {\r\n            case \"tx\":\r\n               return this.hash;\r\n            case \"filter\":\r\n               return this.filter;\r\n        }\r\n        return this.tag;\r\n    }\r\n\r\n    get type(): string {\r\n        return this.tag.split(\":\")[0]\r\n    }\r\n\r\n    get hash(): string {\r\n        const comps = this.tag.split(\":\");\r\n        if (comps[0] !== \"tx\") { return null; }\r\n        return comps[1];\r\n    }\r\n\r\n    get filter(): Filter {\r\n        const comps = this.tag.split(\":\");\r\n        if (comps[0] !== \"filter\") { return null; }\r\n        const address = comps[1];\r\n\r\n        const topics = deserializeTopics(comps[2]);\r\n        const filter: Filter = { };\r\n\r\n        if (topics.length > 0) { filter.topics = topics; }\r\n        if (address && address !== \"*\") { filter.address = address; }\r\n\r\n        return filter;\r\n    }\r\n\r\n    pollable(): boolean {\r\n        return (this.tag.indexOf(\":\") >= 0 || PollableEvents.indexOf(this.tag) >= 0);\r\n    }\r\n}\r\n\r\nexport interface EnsResolver {\r\n\r\n    // Name this Resolver is associated with\r\n    readonly name: string;\r\n\r\n    // The address of the resolver\r\n    readonly address: string;\r\n\r\n    // Multichain address resolution (also normal address resolution)\r\n    // See: https://eips.ethereum.org/EIPS/eip-2304\r\n    getAddress(coinType?: 60): Promise<null | string>\r\n\r\n    // Contenthash field\r\n    // See: https://eips.ethereum.org/EIPS/eip-1577\r\n    getContentHash(): Promise<null | string>;\r\n\r\n    // Storage of text records\r\n    // See: https://eips.ethereum.org/EIPS/eip-634\r\n    getText(key: string): Promise<null | string>;\r\n};\r\n\r\nexport interface EnsProvider {\r\n    resolveName(name: string): Promise<null | string>;\r\n    lookupAddress(address: string): Promise<null | string>;\r\n    getResolver(name: string): Promise<null | EnsResolver>;\r\n}\r\n\r\ntype CoinInfo = {\r\n    symbol: string,\r\n    ilk?: string,     // General family\r\n    prefix?: string,  // Bech32 prefix\r\n    p2pkh?: number,   // Pay-to-Public-Key-Hash Version\r\n    p2sh?: number,    // Pay-to-Script-Hash Version\r\n};\r\n\r\n// https://github.com/satoshilabs/slips/blob/master/slip-0044.md\r\nconst coinInfos: { [ coinType: string ]: CoinInfo } = {\r\n    \"0\":   { symbol: \"btc\",  p2pkh: 0x00, p2sh: 0x05, prefix: \"bc\" },\r\n    \"2\":   { symbol: \"ltc\",  p2pkh: 0x30, p2sh: 0x32, prefix: \"ltc\" },\r\n    \"3\":   { symbol: \"doge\", p2pkh: 0x1e, p2sh: 0x16 },\r\n    \"60\":  { symbol: \"eth\",  ilk: \"eth\" },\r\n    \"61\":  { symbol: \"etc\",  ilk: \"eth\" },\r\n    \"700\": { symbol: \"xdai\", ilk: \"eth\" },\r\n};\r\n\r\nfunction bytes32ify(value: number): string {\r\n    return hexZeroPad(BigNumber.from(value).toHexString(), 32);\r\n}\r\n\r\n// Compute the Base58Check encoded data (checksum is first 4 bytes of sha256d)\r\nfunction base58Encode(data: Uint8Array): string {\r\n    return Base58.encode(concat([ data, hexDataSlice(sha256(sha256(data)), 0, 4) ]));\r\n}\r\n\r\nexport interface Avatar {\r\n    url: string;\r\n    linkage: Array<{ type: string, content: string }>;\r\n}\r\n\r\nconst matcherIpfs = new RegExp(\"^(ipfs):/\\/(.*)$\", \"i\");\r\nconst matchers = [\r\n    new RegExp(\"^(https):/\\/(.*)$\", \"i\"),\r\n    new RegExp(\"^(data):(.*)$\", \"i\"),\r\n    matcherIpfs,\r\n    new RegExp(\"^eip155:[0-9]+/(erc[0-9]+):(.*)$\", \"i\"),\r\n];\r\n\r\nfunction _parseString(result: string, start: number): null | string {\r\n    try {\r\n        return toUtf8String(_parseBytes(result, start));\r\n    } catch(error) { }\r\n    return null;\r\n}\r\n\r\nfunction _parseBytes(result: string, start: number): null | string {\r\n    if (result === \"0x\") { return null; }\r\n\r\n    const offset = BigNumber.from(hexDataSlice(result, start, start + 32)).toNumber();\r\n    const length = BigNumber.from(hexDataSlice(result, offset, offset + 32)).toNumber();\r\n\r\n    return hexDataSlice(result, offset + 32, offset + 32 + length);\r\n}\r\n\r\n// Trim off the ipfs:// prefix and return the default gateway URL\r\nfunction getIpfsLink(link: string): string {\r\n    if (link.match(/^ipfs:\\/\\/ipfs\\//i)) {\r\n        link = link.substring(12);\r\n    } else if (link.match(/^ipfs:\\/\\//i)) {\r\n        link = link.substring(7);\r\n    } else {\r\n        logger.throwArgumentError(\"unsupported IPFS format\", \"link\", link);\r\n    }\r\n\r\n    return `https:/\\/gateway.ipfs.io/ipfs/${ link }`;\r\n}\r\n\r\nfunction numPad(value: number): Uint8Array {\r\n    const result = arrayify(value);\r\n    if (result.length > 32) { throw new Error(\"internal; should not happen\"); }\r\n\r\n    const padded = new Uint8Array(32);\r\n    padded.set(result, 32 - result.length);\r\n    return padded;\r\n}\r\n\r\nfunction bytesPad(value: Uint8Array): Uint8Array {\r\n    if ((value.length % 32) === 0) { return value; }\r\n\r\n    const result = new Uint8Array(Math.ceil(value.length / 32) * 32);\r\n    result.set(value);\r\n    return result;\r\n}\r\n\r\n// ABI Encodes a series of (bytes, bytes, ...)\r\nfunction encodeBytes(datas: Array<BytesLike>) {\r\n    const result: Array<Uint8Array> = [ ];\r\n\r\n    let byteCount = 0;\r\n\r\n    // Add place-holders for pointers as we add items\r\n    for (let i = 0; i < datas.length; i++) {\r\n        result.push(null);\r\n        byteCount += 32;\r\n    }\r\n\r\n    for (let i = 0; i < datas.length; i++) {\r\n        const data = arrayify(datas[i]);\r\n\r\n        // Update the bytes offset\r\n        result[i] = numPad(byteCount);\r\n\r\n        // The length and padded value of data\r\n        result.push(numPad(data.length));\r\n        result.push(bytesPad(data));\r\n        byteCount += 32 + Math.ceil(data.length / 32) * 32;\r\n    }\r\n\r\n    return hexConcat(result);\r\n}\r\n\r\nexport class Resolver implements EnsResolver {\r\n    readonly provider: BaseProvider;\r\n\r\n    readonly name: string;\r\n    readonly address: string;\r\n\r\n    readonly _resolvedAddress: null | string;\r\n\r\n    // For EIP-2544 names, the ancestor that provided the resolver\r\n    _supportsEip2544: null | Promise<boolean>;\r\n\r\n    // The resolvedAddress is only for creating a ReverseLookup resolver\r\n    constructor(provider: BaseProvider, address: string, name: string, resolvedAddress?: string) {\r\n        defineReadOnly(this, \"provider\", provider);\r\n        defineReadOnly(this, \"name\", name);\r\n        defineReadOnly(this, \"address\", provider.formatter.address(address));\r\n        defineReadOnly(this, \"_resolvedAddress\", resolvedAddress);\r\n    }\r\n\r\n    supportsWildcard(): Promise<boolean> {\r\n        if (!this._supportsEip2544) {\r\n            // supportsInterface(bytes4 = selector(\"resolve(bytes,bytes)\"))\r\n            this._supportsEip2544 = this.provider.call({\r\n                to: this.address,\r\n                data: \"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000\"\r\n            }).then((result) => {\r\n                return BigNumber.from(result).eq(1);\r\n            }).catch((error) => {\r\n                if (error.code === Logger.errors.CALL_EXCEPTION) { return false; }\r\n                // Rethrow the error: link is down, etc. Let future attempts retry.\r\n                this._supportsEip2544 = null;\r\n                throw error;\r\n            });\r\n        }\r\n\r\n        return this._supportsEip2544;\r\n    }\r\n\r\n    async _fetch(selector: string, parameters?: string): Promise<null | string> {\r\n\r\n        // e.g. keccak256(\"addr(bytes32,uint256)\")\r\n        const tx = {\r\n            to: this.address,\r\n            ccipReadEnabled: true,\r\n            data: hexConcat([ selector, namehash(this.name), (parameters || \"0x\") ])\r\n        };\r\n\r\n        // Wildcard support; use EIP-2544 to resolve the request\r\n        let parseBytes = false;\r\n        if (await this.supportsWildcard()) {\r\n            parseBytes = true;\r\n\r\n            // selector(\"resolve(bytes,bytes)\")\r\n            tx.data = hexConcat([ \"0x9061b923\", encodeBytes([ dnsEncode(this.name), tx.data ]) ]);\r\n        }\r\n\r\n        try {\r\n            let result = await this.provider.call(tx);\r\n            if ((arrayify(result).length % 32) === 4) {\r\n                logger.throwError(\"resolver threw error\", Logger.errors.CALL_EXCEPTION, {\r\n                    transaction: tx, data: result\r\n                });\r\n            }\r\n            if (parseBytes) { result = _parseBytes(result, 0); }\r\n            return result;\r\n        } catch (error) {\r\n            if (error.code === Logger.errors.CALL_EXCEPTION) { return null; }\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async _fetchBytes(selector: string, parameters?: string): Promise<null | string> {\r\n        const result = await this._fetch(selector, parameters);\r\n        if (result != null) { return _parseBytes(result, 0); }\r\n        return null;\r\n    }\r\n\r\n    _getAddress(coinType: number, hexBytes: string): string {\r\n        const coinInfo = coinInfos[String(coinType)];\r\n\r\n        if (coinInfo == null) {\r\n            logger.throwError(`unsupported coin type: ${ coinType }`, Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: `getAddress(${ coinType })`\r\n            });\r\n        }\r\n\r\n        if (coinInfo.ilk === \"eth\") {\r\n            return this.provider.formatter.address(hexBytes);\r\n        }\r\n\r\n        const bytes = arrayify(hexBytes);\r\n\r\n        // P2PKH: OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\r\n        if (coinInfo.p2pkh != null) {\r\n            const p2pkh = hexBytes.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);\r\n            if (p2pkh) {\r\n                const length = parseInt(p2pkh[1], 16);\r\n                if (p2pkh[2].length === length * 2 && length >= 1 && length <= 75) {\r\n                    return base58Encode(concat([ [ coinInfo.p2pkh ], (\"0x\" + p2pkh[2]) ]));\r\n                }\r\n            }\r\n        }\r\n\r\n        // P2SH: OP_HASH160 <scriptHash> OP_EQUAL\r\n        if (coinInfo.p2sh != null) {\r\n            const p2sh = hexBytes.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);\r\n            if (p2sh) {\r\n                const length = parseInt(p2sh[1], 16);\r\n                if (p2sh[2].length === length * 2 && length >= 1 && length <= 75) {\r\n                    return base58Encode(concat([ [ coinInfo.p2sh ], (\"0x\" + p2sh[2]) ]));\r\n                }\r\n            }\r\n        }\r\n\r\n        // Bech32\r\n        if (coinInfo.prefix != null) {\r\n            const length = bytes[1];\r\n\r\n            // https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#witness-program\r\n            let version = bytes[0];\r\n            if (version === 0x00) {\r\n                if (length !== 20 && length !== 32) {\r\n                    version = -1;\r\n                }\r\n            } else {\r\n                version = -1;\r\n            }\r\n\r\n            if (version >= 0 && bytes.length === 2 + length && length >= 1 && length <= 75) {\r\n                const words = bech32.toWords(bytes.slice(2));\r\n                words.unshift(version);\r\n                return bech32.encode(coinInfo.prefix, words);\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n\r\n    async getAddress(coinType?: number): Promise<string> {\r\n        if (coinType == null) { coinType = 60; }\r\n\r\n        // If Ethereum, use the standard `addr(bytes32)`\r\n        if (coinType === 60) {\r\n            try {\r\n                // keccak256(\"addr(bytes32)\")\r\n                const result = await this._fetch(\"0x3b3b57de\");\r\n\r\n                // No address\r\n                if (result === \"0x\" || result === HashZero) { return null; }\r\n\r\n                return this.provider.formatter.callAddress(result);\r\n            } catch (error) {\r\n                if (error.code === Logger.errors.CALL_EXCEPTION) { return null; }\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        // keccak256(\"addr(bytes32,uint256\")\r\n        const hexBytes = await this._fetchBytes(\"0xf1cb7e06\", bytes32ify(coinType));\r\n\r\n        // No address\r\n        if (hexBytes == null || hexBytes === \"0x\") { return null; }\r\n\r\n        // Compute the address\r\n        const address = this._getAddress(coinType, hexBytes);\r\n\r\n        if (address == null) {\r\n            logger.throwError(`invalid or unsupported coin data`, Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: `getAddress(${ coinType })`,\r\n                coinType: coinType,\r\n                data: hexBytes\r\n            });\r\n        }\r\n\r\n        return address;\r\n    }\r\n\r\n    async getAvatar(): Promise<null | Avatar> {\r\n        const linkage: Array<{ type: string, content: string }> = [ { type: \"name\", content: this.name } ];\r\n        try {\r\n            // test data for ricmoo.eth\r\n            //const avatar = \"eip155:1/erc721:0x265385c7f4132228A0d54EB1A9e7460b91c0cC68/29233\";\r\n            const avatar = await this.getText(\"avatar\");\r\n            if (avatar == null) { return null; }\r\n\r\n            for (let i = 0; i < matchers.length; i++) {\r\n                const match = avatar.match(matchers[i]);\r\n                if (match == null) { continue; }\r\n\r\n                const scheme = match[1].toLowerCase();\r\n\r\n                switch (scheme) {\r\n                    case \"https\":\r\n                        linkage.push({ type: \"url\", content: avatar });\r\n                        return { linkage, url: avatar };\r\n\r\n                    case \"data\":\r\n                        linkage.push({ type: \"data\", content: avatar });\r\n                        return { linkage, url: avatar };\r\n\r\n                    case \"ipfs\":\r\n                        linkage.push({ type: \"ipfs\", content: avatar });\r\n                        return { linkage, url: getIpfsLink(avatar) };\r\n\r\n                    case \"erc721\":\r\n                    case \"erc1155\": {\r\n                        // Depending on the ERC type, use tokenURI(uint256) or url(uint256)\r\n                        const selector = (scheme === \"erc721\") ? \"0xc87b56dd\": \"0x0e89341c\";\r\n                        linkage.push({ type: scheme, content: avatar });\r\n\r\n                        // The owner of this name\r\n                        const owner = (this._resolvedAddress || await this.getAddress());\r\n\r\n                        const comps = (match[2] || \"\").split(\"/\");\r\n                        if (comps.length !== 2) { return null; }\r\n\r\n                        const addr = await this.provider.formatter.address(comps[0]);\r\n                        const tokenId = hexZeroPad(BigNumber.from(comps[1]).toHexString(), 32);\r\n\r\n                        // Check that this account owns the token\r\n                        if (scheme === \"erc721\") {\r\n                            // ownerOf(uint256 tokenId)\r\n                            const tokenOwner = this.provider.formatter.callAddress(await this.provider.call({\r\n                                to: addr, data: hexConcat([ \"0x6352211e\", tokenId ])\r\n                            }));\r\n                            if (owner !== tokenOwner) { return null; }\r\n                            linkage.push({ type: \"owner\", content: tokenOwner });\r\n\r\n                        } else if (scheme === \"erc1155\") {\r\n                            // balanceOf(address owner, uint256 tokenId)\r\n                            const balance = BigNumber.from(await this.provider.call({\r\n                                to: addr, data: hexConcat([ \"0x00fdd58e\", hexZeroPad(owner, 32), tokenId ])\r\n                            }));\r\n                            if (balance.isZero()) { return null; }\r\n                            linkage.push({ type: \"balance\", content: balance.toString() });\r\n                        }\r\n\r\n                        // Call the token contract for the metadata URL\r\n                        const tx = {\r\n                            to: this.provider.formatter.address(comps[0]),\r\n                            data: hexConcat([ selector, tokenId ])\r\n                        };\r\n\r\n                        let metadataUrl = _parseString(await this.provider.call(tx), 0);\r\n                        if (metadataUrl == null) { return null; }\r\n                        linkage.push({ type: \"metadata-url-base\", content: metadataUrl });\r\n\r\n                        // ERC-1155 allows a generic {id} in the URL\r\n                        if (scheme === \"erc1155\") {\r\n                            metadataUrl = metadataUrl.replace(\"{id}\", tokenId.substring(2));\r\n                            linkage.push({ type: \"metadata-url-expanded\", content: metadataUrl });\r\n                        }\r\n\r\n                        // Transform IPFS metadata links\r\n                        if (metadataUrl.match(/^ipfs:/i)) {\r\n                            metadataUrl = getIpfsLink(metadataUrl);\r\n                        }\r\n\r\n                        linkage.push({ type: \"metadata-url\", content: metadataUrl });\r\n\r\n                        // Get the token metadata\r\n                        const metadata = await fetchJson(metadataUrl);\r\n                        if (!metadata) { return null; }\r\n                        linkage.push({ type: \"metadata\", content: JSON.stringify(metadata) });\r\n\r\n                        // Pull the image URL out\r\n                        let imageUrl = metadata.image;\r\n                        if (typeof(imageUrl) !== \"string\") { return null; }\r\n\r\n                        if (imageUrl.match(/^(https:\\/\\/|data:)/i)) {\r\n                            // Allow\r\n                        } else {\r\n                            // Transform IPFS link to gateway\r\n                            const ipfs = imageUrl.match(matcherIpfs);\r\n                            if (ipfs == null) { return null; }\r\n\r\n                            linkage.push({ type: \"url-ipfs\", content: imageUrl });\r\n                            imageUrl = getIpfsLink(imageUrl);\r\n                        }\r\n\r\n                        linkage.push({ type: \"url\", content: imageUrl });\r\n\r\n                        return { linkage, url: imageUrl };\r\n                    }\r\n                }\r\n            }\r\n        } catch (error) { }\r\n\r\n        return null;\r\n    }\r\n\r\n    async getContentHash(): Promise<string> {\r\n\r\n        // keccak256(\"contenthash()\")\r\n        const hexBytes = await this._fetchBytes(\"0xbc1c58d1\");\r\n\r\n        // No contenthash\r\n        if (hexBytes == null || hexBytes === \"0x\") { return null; }\r\n\r\n        // IPFS (CID: 1, Type: DAG-PB)\r\n        const ipfs = hexBytes.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\r\n        if (ipfs) {\r\n            const length = parseInt(ipfs[3], 16);\r\n            if (ipfs[4].length === length * 2) {\r\n                return \"ipfs:/\\/\" + Base58.encode(\"0x\" + ipfs[1]);\r\n            }\r\n        }\r\n\r\n        // IPNS (CID: 1, Type: libp2p-key)\r\n        const ipns = hexBytes.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\r\n        if (ipns) {\r\n            const length = parseInt(ipns[3], 16);\r\n            if (ipns[4].length === length * 2) {\r\n                return \"ipns:/\\/\" + Base58.encode(\"0x\" + ipns[1]);\r\n            }\r\n        }\r\n\r\n        // Swarm (CID: 1, Type: swarm-manifest; hash/length hard-coded to keccak256/32)\r\n        const swarm = hexBytes.match(/^0xe40101fa011b20([0-9a-f]*)$/)\r\n        if (swarm) {\r\n            if (swarm[1].length === (32 * 2)) {\r\n                return \"bzz:/\\/\" + swarm[1]\r\n            }\r\n        }\r\n\r\n        const skynet = hexBytes.match(/^0x90b2c605([0-9a-f]*)$/);\r\n        if (skynet) {\r\n            if (skynet[1].length === (34 * 2)) {\r\n                // URL Safe base64; https://datatracker.ietf.org/doc/html/rfc4648#section-5\r\n                const urlSafe: Record<string, string> = { \"=\": \"\", \"+\": \"-\", \"/\": \"_\" };\r\n                const hash = base64Encode(\"0x\" + skynet[1]).replace(/[=+\\/]/g, (a) => (urlSafe[a]));\r\n                return \"sia:/\\/\" + hash;\r\n            }\r\n        }\r\n\r\n        return logger.throwError(`invalid or unsupported content hash data`, Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"getContentHash()\",\r\n            data: hexBytes\r\n        });\r\n    }\r\n\r\n    async getText(key: string): Promise<string> {\r\n\r\n        // The key encoded as parameter to fetchBytes\r\n        let keyBytes = toUtf8Bytes(key);\r\n\r\n        // The nodehash consumes the first slot, so the string pointer targets\r\n        // offset 64, with the length at offset 64 and data starting at offset 96\r\n        keyBytes = concat([ bytes32ify(64), bytes32ify(keyBytes.length), keyBytes ]);\r\n\r\n        // Pad to word-size (32 bytes)\r\n        if ((keyBytes.length % 32) !== 0) {\r\n            keyBytes = concat([ keyBytes, hexZeroPad(\"0x\", 32 - (key.length % 32)) ])\r\n        }\r\n\r\n        const hexBytes = await this._fetchBytes(\"0x59d1d43c\", hexlify(keyBytes));\r\n        if (hexBytes == null || hexBytes === \"0x\") { return null; }\r\n\r\n        return toUtf8String(hexBytes);\r\n    }\r\n}\r\n\r\nlet defaultFormatter: Formatter = null;\r\n\r\nlet nextPollId = 1;\r\n\r\nexport class BaseProvider extends Provider implements EnsProvider {\r\n    _networkPromise: Promise<Network>;\r\n    _network: Network;\r\n\r\n    _events: Array<Event>;\r\n\r\n    formatter: Formatter;\r\n\r\n    // To help mitigate the eventually consistent nature of the blockchain\r\n    // we keep a mapping of events we emit. If we emit an event X, we expect\r\n    // that a user should be able to query for that event in the callback,\r\n    // if the node returns null, we stall the response until we get back a\r\n    // meaningful value, since we may be hitting a re-org, or a node that\r\n    // has not indexed the event yet.\r\n    // Events:\r\n    //   - t:{hash}    - Transaction hash\r\n    //   - b:{hash}    - BlockHash\r\n    //   - block       - The most recent emitted block\r\n    _emitted: { [ eventName: string ]: number | \"pending\" };\r\n\r\n    _pollingInterval: number;\r\n    _poller: NodeJS.Timer;\r\n    _bootstrapPoll: NodeJS.Timer;\r\n\r\n    _lastBlockNumber: number;\r\n    _maxFilterBlockRange: number;\r\n\r\n    _fastBlockNumber: number;\r\n    _fastBlockNumberPromise: Promise<number>;\r\n    _fastQueryDate: number;\r\n\r\n    _maxInternalBlockNumber: number;\r\n    _internalBlockNumber: Promise<{ blockNumber: number, reqTime: number, respTime: number }>;\r\n\r\n    readonly anyNetwork: boolean;\r\n\r\n    disableCcipRead: boolean;\r\n\r\n\r\n    /**\r\n     *  ready\r\n     *\r\n     *  A Promise<Network> that resolves only once the provider is ready.\r\n     *\r\n     *  Sub-classes that call the super with a network without a chainId\r\n     *  MUST set this. Standard named networks have a known chainId.\r\n     *\r\n     */\r\n\r\n    constructor(network: Networkish | Promise<Network>) {\r\n        super();\r\n\r\n        // Events being listened to\r\n        this._events = [];\r\n\r\n        this._emitted = { block: -2 };\r\n\r\n        this.disableCcipRead = false;\r\n\r\n        this.formatter = new.target.getFormatter();\r\n\r\n        // If network is any, this Provider allows the underlying\r\n        // network to change dynamically, and we auto-detect the\r\n        // current network\r\n        defineReadOnly(this, \"anyNetwork\", (network === \"any\"));\r\n        if (this.anyNetwork) { network = this.detectNetwork(); }\r\n\r\n        if (network instanceof Promise) {\r\n            this._networkPromise = network;\r\n\r\n            // Squash any \"unhandled promise\" errors; that do not need to be handled\r\n            network.catch((error) => { });\r\n\r\n            // Trigger initial network setting (async)\r\n            this._ready().catch((error) => { });\r\n\r\n        } else {\r\n            const knownNetwork = getStatic<(network: Networkish) => Network>(new.target, \"getNetwork\")(network);\r\n            if (knownNetwork) {\r\n                defineReadOnly(this, \"_network\", knownNetwork);\r\n                this.emit(\"network\", knownNetwork, null);\r\n\r\n            } else {\r\n                logger.throwArgumentError(\"invalid network\", \"network\", network);\r\n            }\r\n        }\r\n\r\n        this._maxInternalBlockNumber = -1024;\r\n\r\n        this._lastBlockNumber = -2;\r\n        this._maxFilterBlockRange = 10;\r\n\r\n        this._pollingInterval = 4000;\r\n\r\n        this._fastQueryDate = 0;\r\n    }\r\n\r\n    async _ready(): Promise<Network> {\r\n        if (this._network == null) {\r\n            let network: Network = null;\r\n            if (this._networkPromise) {\r\n                try {\r\n                    network = await this._networkPromise;\r\n                } catch (error) { }\r\n            }\r\n\r\n            // Try the Provider's network detection (this MUST throw if it cannot)\r\n            if (network == null) {\r\n                network = await this.detectNetwork();\r\n            }\r\n\r\n            // This should never happen; every Provider sub-class should have\r\n            // suggested a network by here (or have thrown).\r\n            if (!network) {\r\n                logger.throwError(\"no network detected\", Logger.errors.UNKNOWN_ERROR, { });\r\n            }\r\n\r\n            // Possible this call stacked so do not call defineReadOnly again\r\n            if (this._network == null) {\r\n                if (this.anyNetwork) {\r\n                    this._network = network;\r\n                } else {\r\n                    defineReadOnly(this, \"_network\", network);\r\n                }\r\n                this.emit(\"network\", network, null);\r\n            }\r\n        }\r\n\r\n        return this._network;\r\n    }\r\n\r\n    // This will always return the most recently established network.\r\n    // For \"any\", this can change (a \"network\" event is emitted before\r\n    // any change is reflected); otherwise this cannot change\r\n    get ready(): Promise<Network> {\r\n        return poll(() => {\r\n            return this._ready().then((network) => {\r\n                return network;\r\n            }, (error) => {\r\n                // If the network isn't running yet, we will wait\r\n                if (error.code === Logger.errors.NETWORK_ERROR && error.event === \"noNetwork\") {\r\n                    return undefined;\r\n                }\r\n                throw error;\r\n            });\r\n        });\r\n    }\r\n\r\n    // @TODO: Remove this and just create a singleton formatter\r\n    static getFormatter(): Formatter {\r\n        if (defaultFormatter == null) {\r\n            defaultFormatter = new Formatter();\r\n        }\r\n        return defaultFormatter;\r\n    }\r\n\r\n    // @TODO: Remove this and just use getNetwork\r\n    static getNetwork(network: Networkish): Network {\r\n        return getNetwork((network == null) ? \"homestead\": network);\r\n    }\r\n\r\n    async ccipReadFetch(tx: Transaction, calldata: string, urls: Array<string>): Promise<null | string> {\r\n        if (this.disableCcipRead || urls.length === 0) { return null; }\r\n\r\n        const sender = tx.to.toLowerCase();\r\n        const data = calldata.toLowerCase();\r\n\r\n        const errorMessages: Array<string> = [ ];\r\n\r\n        for (let i = 0; i < urls.length; i++) {\r\n            const url = urls[i];\r\n\r\n            // URL expansion\r\n            const href = url.replace(\"{sender}\", sender).replace(\"{data}\", data);\r\n\r\n            // If no {data} is present, use POST; otherwise GET\r\n            const json: string | null = (url.indexOf(\"{data}\") >= 0) ? null: JSON.stringify({ data, sender });\r\n\r\n            const result = await fetchJson({ url: href, errorPassThrough: true }, json, (value, response) => {\r\n                value.status = response.statusCode;\r\n                return value;\r\n            });\r\n\r\n            if (result.data) { return result.data; }\r\n\r\n            const errorMessage = (result.message || \"unknown error\");\r\n\r\n            // 4xx indicates the result is not present; stop\r\n            if (result.status >= 400 && result.status < 500) {\r\n                return logger.throwError(`response not found during CCIP fetch: ${ errorMessage }`, Logger.errors.SERVER_ERROR, { url, errorMessage });\r\n            }\r\n\r\n            // 5xx indicates server issue; try the next url\r\n            errorMessages.push(errorMessage);\r\n        }\r\n\r\n        return logger.throwError(`error encountered during CCIP fetch: ${ errorMessages.map((m) => JSON.stringify(m)).join(\", \") }`, Logger.errors.SERVER_ERROR, {\r\n            urls, errorMessages\r\n        });\r\n    }\r\n\r\n    // Fetches the blockNumber, but will reuse any result that is less\r\n    // than maxAge old or has been requested since the last request\r\n    async _getInternalBlockNumber(maxAge: number): Promise<number> {\r\n        await this._ready();\r\n\r\n        // Allowing stale data up to maxAge old\r\n        if (maxAge > 0) {\r\n\r\n            // While there are pending internal block requests...\r\n            while (this._internalBlockNumber) {\r\n\r\n                // ...\"remember\" which fetch we started with\r\n                const internalBlockNumber = this._internalBlockNumber;\r\n\r\n                try {\r\n                    // Check the result is not too stale\r\n                    const result = await internalBlockNumber;\r\n                    if ((getTime() - result.respTime) <= maxAge) {\r\n                        return result.blockNumber;\r\n                    }\r\n\r\n                    // Too old; fetch a new value\r\n                    break;\r\n\r\n                } catch(error) {\r\n\r\n                    // The fetch rejected; if we are the first to get the\r\n                    // rejection, drop through so we replace it with a new\r\n                    // fetch; all others blocked will then get that fetch\r\n                    // which won't match the one they \"remembered\" and loop\r\n                    if (this._internalBlockNumber === internalBlockNumber) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const reqTime = getTime();\r\n\r\n        const checkInternalBlockNumber = resolveProperties({\r\n            blockNumber: this.perform(\"getBlockNumber\", { }),\r\n            networkError: this.getNetwork().then((network) => (null), (error) => (error))\r\n        }).then(({ blockNumber, networkError }) => {\r\n            if (networkError) {\r\n                // Unremember this bad internal block number\r\n                if (this._internalBlockNumber === checkInternalBlockNumber) {\r\n                    this._internalBlockNumber = null;\r\n                }\r\n                throw networkError;\r\n            }\r\n\r\n            const respTime = getTime();\r\n\r\n            blockNumber = BigNumber.from(blockNumber).toNumber();\r\n            if (blockNumber < this._maxInternalBlockNumber) { blockNumber = this._maxInternalBlockNumber; }\r\n\r\n            this._maxInternalBlockNumber = blockNumber;\r\n            this._setFastBlockNumber(blockNumber); // @TODO: Still need this?\r\n            return { blockNumber, reqTime, respTime };\r\n        });\r\n\r\n        this._internalBlockNumber = checkInternalBlockNumber;\r\n\r\n        // Swallow unhandled exceptions; if needed they are handled else where\r\n        checkInternalBlockNumber.catch((error) => {\r\n            // Don't null the dead (rejected) fetch, if it has already been updated\r\n            if (this._internalBlockNumber === checkInternalBlockNumber) {\r\n                this._internalBlockNumber = null;\r\n            }\r\n        });\r\n\r\n        return (await checkInternalBlockNumber).blockNumber;\r\n    }\r\n\r\n    async poll(): Promise<void> {\r\n        const pollId = nextPollId++;\r\n\r\n        // Track all running promises, so we can trigger a post-poll once they are complete\r\n        const runners: Array<Promise<void>> = [];\r\n\r\n        let blockNumber: number = null;\r\n        try {\r\n            blockNumber = await this._getInternalBlockNumber(100 + this.pollingInterval / 2);\r\n        } catch (error) {\r\n            this.emit(\"error\", error);\r\n            return;\r\n        }\r\n        this._setFastBlockNumber(blockNumber);\r\n\r\n        // Emit a poll event after we have the latest (fast) block number\r\n        this.emit(\"poll\", pollId, blockNumber);\r\n\r\n        // If the block has not changed, meh.\r\n        if (blockNumber === this._lastBlockNumber) {\r\n            this.emit(\"didPoll\", pollId);\r\n            return;\r\n        }\r\n\r\n        // First polling cycle, trigger a \"block\" events\r\n        if (this._emitted.block === -2) {\r\n            this._emitted.block = blockNumber - 1;\r\n        }\r\n\r\n        if (Math.abs((<number>(this._emitted.block)) - blockNumber) > 1000) {\r\n            logger.warn(`network block skew detected; skipping block events (emitted=${ this._emitted.block } blockNumber${ blockNumber })`);\r\n            this.emit(\"error\", logger.makeError(\"network block skew detected\", Logger.errors.NETWORK_ERROR, {\r\n                blockNumber: blockNumber,\r\n                event: \"blockSkew\",\r\n                previousBlockNumber: this._emitted.block\r\n            }));\r\n            this.emit(\"block\", blockNumber);\r\n\r\n        } else {\r\n            // Notify all listener for each block that has passed\r\n            for (let i = (<number>this._emitted.block) + 1; i <= blockNumber; i++) {\r\n                this.emit(\"block\", i);\r\n            }\r\n        }\r\n\r\n        // The emitted block was updated, check for obsolete events\r\n        if ((<number>this._emitted.block) !== blockNumber) {\r\n            this._emitted.block = blockNumber;\r\n\r\n            Object.keys(this._emitted).forEach((key) => {\r\n                // The block event does not expire\r\n                if (key === \"block\") { return; }\r\n\r\n                // The block we were at when we emitted this event\r\n                const eventBlockNumber = this._emitted[key];\r\n\r\n                // We cannot garbage collect pending transactions or blocks here\r\n                // They should be garbage collected by the Provider when setting\r\n                // \"pending\" events\r\n                if (eventBlockNumber === \"pending\") { return; }\r\n\r\n                // Evict any transaction hashes or block hashes over 12 blocks\r\n                // old, since they should not return null anyways\r\n                if (blockNumber - eventBlockNumber > 12) {\r\n                    delete this._emitted[key];\r\n                }\r\n            });\r\n        }\r\n\r\n        // First polling cycle\r\n        if (this._lastBlockNumber === -2) {\r\n            this._lastBlockNumber = blockNumber - 1;\r\n        }\r\n        // Find all transaction hashes we are waiting on\r\n        this._events.forEach((event) => {\r\n            switch (event.type) {\r\n                case \"tx\": {\r\n                    const hash = event.hash;\r\n                    let runner = this.getTransactionReceipt(hash).then((receipt) => {\r\n                        if (!receipt || receipt.blockNumber == null) { return null; }\r\n                        this._emitted[\"t:\" + hash] = receipt.blockNumber;\r\n                        this.emit(hash, receipt);\r\n                        return null;\r\n                    }).catch((error: Error) => { this.emit(\"error\", error); });\r\n\r\n                    runners.push(runner);\r\n\r\n                    break;\r\n                }\r\n\r\n                case \"filter\": {\r\n                    // We only allow a single getLogs to be in-flight at a time\r\n                    if (!event._inflight) {\r\n                        event._inflight = true;\r\n\r\n                        // This is the first filter for this event, so we want to\r\n                        // restrict events to events that happened no earlier than now\r\n                        if (event._lastBlockNumber === -2) {\r\n                            event._lastBlockNumber = blockNumber - 1;\r\n                        }\r\n\r\n                        // Filter from the last *known* event; due to load-balancing\r\n                        // and some nodes returning updated block numbers before\r\n                        // indexing events, a logs result with 0 entries cannot be\r\n                        // trusted and we must retry a range which includes it again\r\n                        const filter = event.filter;\r\n                        filter.fromBlock = event._lastBlockNumber + 1;\r\n                        filter.toBlock = blockNumber;\r\n\r\n                        // Prevent fitler ranges from growing too wild, since it is quite\r\n                        // likely there just haven't been any events to move the lastBlockNumber.\r\n                        const minFromBlock = filter.toBlock - this._maxFilterBlockRange;\r\n                        if (minFromBlock > filter.fromBlock) { filter.fromBlock = minFromBlock; }\r\n\r\n                        if (filter.fromBlock < 0) { filter.fromBlock = 0; }\r\n\r\n                        const runner = this.getLogs(filter).then((logs) => {\r\n                            // Allow the next getLogs\r\n                            event._inflight = false;\r\n\r\n                            if (logs.length === 0) { return; }\r\n\r\n                            logs.forEach((log: Log) => {\r\n                                // Only when we get an event for a given block number\r\n                                // can we trust the events are indexed\r\n                                if (log.blockNumber > event._lastBlockNumber) {\r\n                                    event._lastBlockNumber = log.blockNumber;\r\n                                }\r\n\r\n                                // Make sure we stall requests to fetch blocks and txs\r\n                                this._emitted[\"b:\" + log.blockHash] = log.blockNumber;\r\n                                this._emitted[\"t:\" + log.transactionHash] = log.blockNumber;\r\n\r\n                                this.emit(filter, log);\r\n                            });\r\n                        }).catch((error: Error) => {\r\n                            this.emit(\"error\", error);\r\n\r\n                            // Allow another getLogs (the range was not updated)\r\n                            event._inflight = false;\r\n                        });\r\n                        runners.push(runner);\r\n                    }\r\n\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n\r\n        this._lastBlockNumber = blockNumber;\r\n\r\n        // Once all events for this loop have been processed, emit \"didPoll\"\r\n        Promise.all(runners).then(() => {\r\n            this.emit(\"didPoll\", pollId);\r\n        }).catch((error) => { this.emit(\"error\", error); });\r\n\r\n        return;\r\n    }\r\n\r\n    // Deprecated; do not use this\r\n    resetEventsBlock(blockNumber: number): void {\r\n        this._lastBlockNumber = blockNumber - 1;\r\n        if (this.polling) { this.poll(); }\r\n    }\r\n\r\n    get network(): Network {\r\n        return this._network;\r\n    }\r\n\r\n    // This method should query the network if the underlying network\r\n    // can change, such as when connected to a JSON-RPC backend\r\n    async detectNetwork(): Promise<Network> {\r\n        return logger.throwError(\"provider does not support network detection\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"provider.detectNetwork\"\r\n        });\r\n    }\r\n\r\n    async getNetwork(): Promise<Network> {\r\n        const network = await this._ready();\r\n\r\n        // Make sure we are still connected to the same network; this is\r\n        // only an external call for backends which can have the underlying\r\n        // network change spontaneously\r\n        const currentNetwork = await this.detectNetwork();\r\n        if (network.chainId !== currentNetwork.chainId) {\r\n\r\n            // We are allowing network changes, things can get complex fast;\r\n            // make sure you know what you are doing if you use \"any\"\r\n            if (this.anyNetwork) {\r\n                this._network = currentNetwork;\r\n\r\n                // Reset all internal block number guards and caches\r\n                this._lastBlockNumber = -2;\r\n                this._fastBlockNumber = null;\r\n                this._fastBlockNumberPromise = null;\r\n                this._fastQueryDate = 0;\r\n                this._emitted.block = -2;\r\n                this._maxInternalBlockNumber = -1024;\r\n                this._internalBlockNumber = null;\r\n\r\n                // The \"network\" event MUST happen before this method resolves\r\n                // so any events have a chance to unregister, so we stall an\r\n                // additional event loop before returning from /this/ call\r\n                this.emit(\"network\", currentNetwork, network);\r\n                await stall(0);\r\n\r\n                return this._network;\r\n            }\r\n\r\n            const error = logger.makeError(\"underlying network changed\", Logger.errors.NETWORK_ERROR, {\r\n                event: \"changed\",\r\n                network: network,\r\n                detectedNetwork: currentNetwork\r\n            });\r\n\r\n            this.emit(\"error\", error);\r\n            throw error;\r\n        }\r\n\r\n        return network;\r\n    }\r\n\r\n    get blockNumber(): number {\r\n        this._getInternalBlockNumber(100 + this.pollingInterval / 2).then((blockNumber) => {\r\n            this._setFastBlockNumber(blockNumber);\r\n        }, (error) => { });\r\n\r\n        return (this._fastBlockNumber != null) ? this._fastBlockNumber: -1;\r\n    }\r\n\r\n    get polling(): boolean {\r\n        return (this._poller != null);\r\n    }\r\n\r\n    set polling(value: boolean) {\r\n        if (value && !this._poller) {\r\n            this._poller = setInterval(() => { this.poll(); }, this.pollingInterval);\r\n\r\n            if (!this._bootstrapPoll) {\r\n                this._bootstrapPoll = setTimeout(() => {\r\n                    this.poll();\r\n\r\n                    // We block additional polls until the polling interval\r\n                    // is done, to prevent overwhelming the poll function\r\n                    this._bootstrapPoll = setTimeout(() => {\r\n                        // If polling was disabled, something may require a poke\r\n                        // since starting the bootstrap poll and it was disabled\r\n                        if (!this._poller) { this.poll(); }\r\n\r\n                        // Clear out the bootstrap so we can do another\r\n                        this._bootstrapPoll = null;\r\n                    }, this.pollingInterval);\r\n                }, 0);\r\n            }\r\n\r\n        } else if (!value && this._poller) {\r\n            clearInterval(this._poller);\r\n            this._poller = null;\r\n        }\r\n    }\r\n\r\n    get pollingInterval(): number {\r\n        return this._pollingInterval;\r\n    }\r\n\r\n    set pollingInterval(value: number) {\r\n        if (typeof(value) !== \"number\" || value <= 0 || parseInt(String(value)) != value) {\r\n            throw new Error(\"invalid polling interval\");\r\n        }\r\n\r\n        this._pollingInterval = value;\r\n\r\n        if (this._poller) {\r\n            clearInterval(this._poller);\r\n            this._poller = setInterval(() => { this.poll(); }, this._pollingInterval);\r\n        }\r\n    }\r\n\r\n    _getFastBlockNumber(): Promise<number> {\r\n        const now = getTime();\r\n\r\n        // Stale block number, request a newer value\r\n        if ((now - this._fastQueryDate) > 2 * this._pollingInterval) {\r\n            this._fastQueryDate = now;\r\n            this._fastBlockNumberPromise = this.getBlockNumber().then((blockNumber) => {\r\n                if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\r\n                    this._fastBlockNumber = blockNumber;\r\n                }\r\n                return this._fastBlockNumber;\r\n            });\r\n        }\r\n\r\n        return this._fastBlockNumberPromise;\r\n    }\r\n\r\n    _setFastBlockNumber(blockNumber: number): void {\r\n        // Older block, maybe a stale request\r\n        if (this._fastBlockNumber != null && blockNumber < this._fastBlockNumber) { return; }\r\n\r\n        // Update the time we updated the blocknumber\r\n        this._fastQueryDate = getTime();\r\n\r\n        // Newer block number, use  it\r\n        if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\r\n            this._fastBlockNumber = blockNumber;\r\n            this._fastBlockNumberPromise = Promise.resolve(blockNumber);\r\n        }\r\n    }\r\n\r\n    async waitForTransaction(transactionHash: string, confirmations?: number, timeout?: number): Promise<TransactionReceipt> {\r\n        return this._waitForTransaction(transactionHash, (confirmations == null) ? 1: confirmations, timeout || 0, null);\r\n    }\r\n\r\n    async _waitForTransaction(transactionHash: string, confirmations: number, timeout: number, replaceable: { data: string, from: string, nonce: number, to: string, value: BigNumber, startBlock: number }): Promise<TransactionReceipt> {\r\n        const receipt = await this.getTransactionReceipt(transactionHash);\r\n\r\n        // Receipt is already good\r\n        if ((receipt ? receipt.confirmations: 0) >= confirmations) { return receipt; }\r\n\r\n        // Poll until the receipt is good...\r\n        return new Promise((resolve, reject) => {\r\n            const cancelFuncs: Array<() => void> = [];\r\n\r\n            let done = false;\r\n            const alreadyDone = function() {\r\n                if (done) { return true; }\r\n                done = true;\r\n                cancelFuncs.forEach((func) => { func(); });\r\n                return false;\r\n            };\r\n\r\n            const minedHandler = (receipt: TransactionReceipt) => {\r\n                if (receipt.confirmations < confirmations) { return; }\r\n                if (alreadyDone()) { return; }\r\n                resolve(receipt);\r\n            }\r\n            this.on(transactionHash, minedHandler);\r\n            cancelFuncs.push(() => { this.removeListener(transactionHash, minedHandler); });\r\n\r\n            if (replaceable) {\r\n                let lastBlockNumber = replaceable.startBlock;\r\n                let scannedBlock: number = null;\r\n                const replaceHandler = async (blockNumber: number) => {\r\n                    if (done) { return; }\r\n\r\n                    // Wait 1 second; this is only used in the case of a fault, so\r\n                    // we will trade off a little bit of latency for more consistent\r\n                    // results and fewer JSON-RPC calls\r\n                    await stall(1000);\r\n\r\n                    this.getTransactionCount(replaceable.from).then(async (nonce) => {\r\n                        if (done) { return; }\r\n\r\n                        if (nonce <= replaceable.nonce) {\r\n                            lastBlockNumber = blockNumber;\r\n\r\n                        } else {\r\n                            // First check if the transaction was mined\r\n                            {\r\n                                const mined = await this.getTransaction(transactionHash);\r\n                                if (mined && mined.blockNumber != null) { return; }\r\n                            }\r\n\r\n                            // First time scanning. We start a little earlier for some\r\n                            // wiggle room here to handle the eventually consistent nature\r\n                            // of blockchain (e.g. the getTransactionCount was for a\r\n                            // different block)\r\n                            if (scannedBlock == null) {\r\n                                scannedBlock = lastBlockNumber - 3;\r\n                                if (scannedBlock < replaceable.startBlock) {\r\n                                    scannedBlock = replaceable.startBlock;\r\n                                }\r\n                            }\r\n\r\n                            while (scannedBlock <= blockNumber) {\r\n                                if (done) { return; }\r\n\r\n                                const block = await this.getBlockWithTransactions(scannedBlock);\r\n                                for (let ti = 0; ti < block.transactions.length; ti++) {\r\n                                    const tx = block.transactions[ti];\r\n\r\n                                    // Successfully mined!\r\n                                    if (tx.hash === transactionHash) { return; }\r\n\r\n                                    // Matches our transaction from and nonce; its a replacement\r\n                                    if (tx.from === replaceable.from && tx.nonce === replaceable.nonce) {\r\n                                        if (done) { return; }\r\n\r\n                                        // Get the receipt of the replacement\r\n                                        const receipt = await this.waitForTransaction(tx.hash, confirmations);\r\n\r\n                                        // Already resolved or rejected (prolly a timeout)\r\n                                        if (alreadyDone()) { return; }\r\n\r\n                                        // The reason we were replaced\r\n                                        let reason = \"replaced\";\r\n                                        if (tx.data === replaceable.data && tx.to === replaceable.to && tx.value.eq(replaceable.value)) {\r\n                                            reason = \"repriced\";\r\n                                        } else  if (tx.data === \"0x\" && tx.from === tx.to && tx.value.isZero()) {\r\n                                            reason = \"cancelled\"\r\n                                        }\r\n\r\n                                        // Explain why we were replaced\r\n                                        reject(logger.makeError(\"transaction was replaced\", Logger.errors.TRANSACTION_REPLACED, {\r\n                                            cancelled: (reason === \"replaced\" || reason === \"cancelled\"),\r\n                                            reason,\r\n                                            replacement: this._wrapTransaction(tx),\r\n                                            hash: transactionHash,\r\n                                            receipt\r\n                                        }));\r\n\r\n                                        return;\r\n                                    }\r\n                                }\r\n                                scannedBlock++;\r\n                            }\r\n                        }\r\n\r\n                        if (done) { return; }\r\n                        this.once(\"block\", replaceHandler);\r\n\r\n                    }, (error) => {\r\n                        if (done) { return; }\r\n                        this.once(\"block\", replaceHandler);\r\n                    });\r\n                };\r\n\r\n                if (done) { return; }\r\n                this.once(\"block\", replaceHandler);\r\n\r\n                cancelFuncs.push(() => {\r\n                    this.removeListener(\"block\", replaceHandler);\r\n                });\r\n            }\r\n\r\n            if (typeof(timeout) === \"number\" && timeout > 0) {\r\n                const timer = setTimeout(() => {\r\n                    if (alreadyDone()) { return; }\r\n                    reject(logger.makeError(\"timeout exceeded\", Logger.errors.TIMEOUT, { timeout: timeout }));\r\n                }, timeout);\r\n                if (timer.unref) { timer.unref(); }\r\n\r\n                cancelFuncs.push(() => { clearTimeout(timer); });\r\n            }\r\n        });\r\n    }\r\n\r\n    async getBlockNumber(): Promise<number> {\r\n        return this._getInternalBlockNumber(0);\r\n    }\r\n\r\n    async getGasPrice(): Promise<BigNumber> {\r\n        await this.getNetwork();\r\n\r\n        const result = await this.perform(\"getGasPrice\", { });\r\n        try {\r\n            return BigNumber.from(result);\r\n        } catch (error) {\r\n            return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\r\n                method: \"getGasPrice\",\r\n                result, error\r\n            });\r\n        }\r\n    }\r\n\r\n    async getBalance(addressOrName: string | Promise<string>, blockTag?: BlockTag | Promise<BlockTag>): Promise<BigNumber> {\r\n        await this.getNetwork();\r\n        const params = await resolveProperties({\r\n            address: this._getAddress(addressOrName),\r\n            blockTag: this._getBlockTag(blockTag)\r\n        });\r\n\r\n        const result = await this.perform(\"getBalance\", params);\r\n        try {\r\n            return BigNumber.from(result);\r\n        } catch (error) {\r\n            return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\r\n                method: \"getBalance\",\r\n                params, result, error\r\n            });\r\n        }\r\n    }\r\n\r\n    async getTransactionCount(addressOrName: string | Promise<string>, blockTag?: BlockTag | Promise<BlockTag>): Promise<number> {\r\n        await this.getNetwork();\r\n        const params = await resolveProperties({\r\n            address: this._getAddress(addressOrName),\r\n            blockTag: this._getBlockTag(blockTag)\r\n        });\r\n\r\n        const result = await this.perform(\"getTransactionCount\", params);\r\n        try {\r\n            return BigNumber.from(result).toNumber();\r\n        } catch (error) {\r\n            return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\r\n                method: \"getTransactionCount\",\r\n                params, result, error\r\n            });\r\n        }\r\n    }\r\n\r\n    async getCode(addressOrName: string | Promise<string>, blockTag?: BlockTag | Promise<BlockTag>): Promise<string> {\r\n        await this.getNetwork();\r\n        const params = await resolveProperties({\r\n            address: this._getAddress(addressOrName),\r\n            blockTag: this._getBlockTag(blockTag)\r\n        });\r\n\r\n        const result = await this.perform(\"getCode\", params);\r\n        try {\r\n            return hexlify(result);\r\n        } catch (error) {\r\n            return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\r\n                method: \"getCode\",\r\n                params, result, error\r\n            });\r\n        }\r\n    }\r\n\r\n    async getStorageAt(addressOrName: string | Promise<string>, position: BigNumberish | Promise<BigNumberish>, blockTag?: BlockTag | Promise<BlockTag>): Promise<string> {\r\n        await this.getNetwork();\r\n        const params = await resolveProperties({\r\n            address: this._getAddress(addressOrName),\r\n            blockTag: this._getBlockTag(blockTag),\r\n            position: Promise.resolve(position).then((p) => hexValue(p))\r\n        });\r\n        const result = await this.perform(\"getStorageAt\", params);\r\n        try {\r\n            return hexlify(result);\r\n        } catch (error) {\r\n            return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\r\n                method: \"getStorageAt\",\r\n                params, result, error\r\n            });\r\n        }\r\n    }\r\n\r\n    // This should be called by any subclass wrapping a TransactionResponse\r\n    _wrapTransaction(tx: Transaction, hash?: string, startBlock?: number): TransactionResponse {\r\n        if (hash != null && hexDataLength(hash) !== 32) { throw new Error(\"invalid response - sendTransaction\"); }\r\n\r\n        const result = <TransactionResponse>tx;\r\n\r\n        // Check the hash we expect is the same as the hash the server reported\r\n        if (hash != null && tx.hash !== hash) {\r\n            logger.throwError(\"Transaction hash mismatch from Provider.sendTransaction.\", Logger.errors.UNKNOWN_ERROR, { expectedHash: tx.hash, returnedHash: hash });\r\n        }\r\n\r\n        result.wait = async (confirms?: number, timeout?: number) => {\r\n            if (confirms == null) { confirms = 1; }\r\n            if (timeout == null) { timeout = 0; }\r\n\r\n            // Get the details to detect replacement\r\n            let replacement = undefined;\r\n            if (confirms !== 0 && startBlock != null) {\r\n                replacement = {\r\n                    data: tx.data,\r\n                    from: tx.from,\r\n                    nonce: tx.nonce,\r\n                    to: tx.to,\r\n                    value: tx.value,\r\n                    startBlock\r\n                };\r\n            }\r\n\r\n            const receipt = await this._waitForTransaction(tx.hash, confirms, timeout, replacement);\r\n            if (receipt == null && confirms === 0) { return null; }\r\n\r\n            // No longer pending, allow the polling loop to garbage collect this\r\n            this._emitted[\"t:\" + tx.hash] = receipt.blockNumber;\r\n\r\n            if (receipt.status === 0) {\r\n                logger.throwError(\"transaction failed\", Logger.errors.CALL_EXCEPTION, {\r\n                    transactionHash: tx.hash,\r\n                    transaction: tx,\r\n                    receipt: receipt\r\n                });\r\n            }\r\n            return receipt;\r\n        };\r\n\r\n        return result;\r\n    }\r\n\r\n    async sendTransaction(signedTransaction: string | Promise<string>): Promise<TransactionResponse> {\r\n        await this.getNetwork();\r\n        const hexTx = await Promise.resolve(signedTransaction).then(t => hexlify(t));\r\n        const tx = this.formatter.transaction(signedTransaction);\r\n        if (tx.confirmations == null) { tx.confirmations = 0; }\r\n        const blockNumber = await this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\r\n        try {\r\n            const hash = await this.perform(\"sendTransaction\", { signedTransaction: hexTx });\r\n            return this._wrapTransaction(tx, hash, blockNumber);\r\n        } catch (error) {\r\n            (<any>error).transaction = tx;\r\n            (<any>error).transactionHash = tx.hash;\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async _getTransactionRequest(transaction: Deferrable<TransactionRequest>): Promise<Transaction> {\r\n        const values: any = await transaction;\r\n\r\n        const tx: any = { };\r\n\r\n        [\"from\", \"to\"].forEach((key) => {\r\n            if (values[key] == null) { return; }\r\n            tx[key] = Promise.resolve(values[key]).then((v) => (v ? this._getAddress(v): null))\r\n        });\r\n\r\n        [\"gasLimit\", \"gasPrice\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"value\"].forEach((key) => {\r\n            if (values[key] == null) { return; }\r\n            tx[key] = Promise.resolve(values[key]).then((v) => (v ? BigNumber.from(v): null));\r\n        });\r\n\r\n        [\"type\"].forEach((key) => {\r\n            if (values[key] == null) { return; }\r\n            tx[key] = Promise.resolve(values[key]).then((v) => ((v != null) ? v: null));\r\n        });\r\n\r\n        if (values.accessList) {\r\n            tx.accessList = this.formatter.accessList(values.accessList);\r\n        }\r\n\r\n        [\"data\"].forEach((key) => {\r\n            if (values[key] == null) { return; }\r\n            tx[key] = Promise.resolve(values[key]).then((v) => (v ? hexlify(v): null));\r\n        });\r\n\r\n        return this.formatter.transactionRequest(await resolveProperties(tx));\r\n    }\r\n\r\n    async _getFilter(filter: Filter | FilterByBlockHash | Promise<Filter | FilterByBlockHash>): Promise<Filter | FilterByBlockHash> {\r\n        filter = await filter;\r\n\r\n        const result: any = { };\r\n\r\n        if (filter.address != null) {\r\n            result.address = this._getAddress(filter.address);\r\n        }\r\n\r\n        [\"blockHash\", \"topics\"].forEach((key) => {\r\n            if ((<any>filter)[key] == null) { return; }\r\n            result[key] = (<any>filter)[key];\r\n        });\r\n\r\n        [\"fromBlock\", \"toBlock\"].forEach((key) => {\r\n            if ((<any>filter)[key] == null) { return; }\r\n            result[key] = this._getBlockTag((<any>filter)[key]);\r\n        });\r\n\r\n        return this.formatter.filter(await resolveProperties(result));\r\n    }\r\n\r\n    async _call(transaction: TransactionRequest, blockTag: BlockTag, attempt: number): Promise<string> {\r\n        if (attempt >= MAX_CCIP_REDIRECTS) {\r\n            logger.throwError(\"CCIP read exceeded maximum redirections\", Logger.errors.SERVER_ERROR, {\r\n                redirects: attempt, transaction\r\n            });\r\n        }\r\n\r\n        const txSender = transaction.to;\r\n\r\n        const result = await this.perform(\"call\", { transaction, blockTag });\r\n\r\n        // CCIP Read request via OffchainLookup(address,string[],bytes,bytes4,bytes)\r\n        if (attempt >= 0 && blockTag === \"latest\" && txSender != null && result.substring(0, 10) === \"0x556f1830\" && (hexDataLength(result) % 32 === 4)) {\r\n            try {\r\n                const data = hexDataSlice(result, 4);\r\n\r\n                // Check the sender of the OffchainLookup matches the transaction\r\n                const sender = hexDataSlice(data, 0, 32);\r\n                if (!BigNumber.from(sender).eq(txSender)) {\r\n                    logger.throwError(\"CCIP Read sender did not match\", Logger.errors.CALL_EXCEPTION, {\r\n                        name: \"OffchainLookup\",\r\n                        signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\r\n                        transaction, data: result\r\n                    });\r\n                }\r\n\r\n                // Read the URLs from the response\r\n                const urls: Array<string> = [];\r\n                const urlsOffset = BigNumber.from(hexDataSlice(data, 32, 64)).toNumber();\r\n                const urlsLength = BigNumber.from(hexDataSlice(data, urlsOffset, urlsOffset + 32)).toNumber();\r\n                const urlsData = hexDataSlice(data, urlsOffset + 32);\r\n                for (let u = 0; u < urlsLength; u++) {\r\n                    const url = _parseString(urlsData, u * 32);\r\n                    if (url == null) {\r\n                        logger.throwError(\"CCIP Read contained corrupt URL string\", Logger.errors.CALL_EXCEPTION, {\r\n                            name: \"OffchainLookup\",\r\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\r\n                            transaction, data: result\r\n                        });\r\n                    }\r\n                    urls.push(url);\r\n                }\r\n\r\n                // Get the CCIP calldata to forward\r\n                const calldata = _parseBytes(data, 64);\r\n\r\n                // Get the callbackSelector (bytes4)\r\n                if (!BigNumber.from(hexDataSlice(data, 100, 128)).isZero()) {\r\n                    logger.throwError(\"CCIP Read callback selector included junk\", Logger.errors.CALL_EXCEPTION, {\r\n                        name: \"OffchainLookup\",\r\n                        signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\r\n                        transaction, data: result\r\n                    });\r\n                }\r\n                const callbackSelector = hexDataSlice(data, 96, 100);\r\n\r\n                // Get the extra data to send back to the contract as context\r\n                const extraData = _parseBytes(data, 128);\r\n\r\n                const ccipResult = await this.ccipReadFetch(<Transaction>transaction, calldata, urls);\r\n                if (ccipResult == null) {\r\n                    logger.throwError(\"CCIP Read disabled or provided no URLs\", Logger.errors.CALL_EXCEPTION, {\r\n                        name: \"OffchainLookup\",\r\n                        signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\r\n                        transaction, data: result\r\n                    });\r\n                }\r\n\r\n                const tx = {\r\n                    to: txSender,\r\n                    data: hexConcat([ callbackSelector, encodeBytes([ ccipResult, extraData ]) ])\r\n                };\r\n\r\n                return this._call(tx, blockTag, attempt + 1);\r\n\r\n            } catch (error) {\r\n                if (error.code === Logger.errors.SERVER_ERROR) { throw error; }\r\n            }\r\n        }\r\n\r\n        try {\r\n            return hexlify(result);\r\n        } catch (error) {\r\n            return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\r\n                method: \"call\",\r\n                params: { transaction, blockTag }, result, error\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    async call(transaction: Deferrable<TransactionRequest>, blockTag?: BlockTag | Promise<BlockTag>): Promise<string> {\r\n        await this.getNetwork();\r\n        const resolved = await resolveProperties({\r\n            transaction: this._getTransactionRequest(transaction),\r\n            blockTag: this._getBlockTag(blockTag),\r\n            ccipReadEnabled: Promise.resolve(transaction.ccipReadEnabled)\r\n        });\r\n        return this._call(resolved.transaction, resolved.blockTag, resolved.ccipReadEnabled ? 0: -1);\r\n    }\r\n\r\n    async estimateGas(transaction: Deferrable<TransactionRequest>): Promise<BigNumber> {\r\n        await this.getNetwork();\r\n        const params = await resolveProperties({\r\n            transaction: this._getTransactionRequest(transaction)\r\n        });\r\n\r\n        const result = await this.perform(\"estimateGas\", params);\r\n        try {\r\n            return BigNumber.from(result);\r\n        } catch (error) {\r\n            return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\r\n                method: \"estimateGas\",\r\n                params, result, error\r\n            });\r\n        }\r\n    }\r\n\r\n    async _getAddress(addressOrName: string | Promise<string>): Promise<string> {\r\n        addressOrName = await addressOrName;\r\n        if (typeof(addressOrName) !== \"string\") {\r\n            logger.throwArgumentError(\"invalid address or ENS name\", \"name\", addressOrName);\r\n        }\r\n\r\n        const address = await this.resolveName(addressOrName);\r\n        if (address == null) {\r\n            logger.throwError(\"ENS name not configured\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: `resolveName(${ JSON.stringify(addressOrName) })`\r\n            });\r\n        }\r\n        return address;\r\n    }\r\n\r\n    async _getBlock(blockHashOrBlockTag: BlockTag | string | Promise<BlockTag | string>, includeTransactions?: boolean): Promise<Block | BlockWithTransactions> {\r\n        await this.getNetwork();\r\n\r\n        blockHashOrBlockTag = await blockHashOrBlockTag;\r\n\r\n        // If blockTag is a number (not \"latest\", etc), this is the block number\r\n        let blockNumber = -128;\r\n\r\n        const params: { [key: string]: any } = {\r\n            includeTransactions: !!includeTransactions\r\n        };\r\n\r\n        if (isHexString(blockHashOrBlockTag, 32)) {\r\n            params.blockHash = blockHashOrBlockTag;\r\n        } else {\r\n            try {\r\n                params.blockTag = await this._getBlockTag(blockHashOrBlockTag);\r\n                if (isHexString(params.blockTag)) {\r\n                    blockNumber = parseInt(params.blockTag.substring(2), 16);\r\n                }\r\n            } catch (error) {\r\n                logger.throwArgumentError(\"invalid block hash or block tag\", \"blockHashOrBlockTag\", blockHashOrBlockTag);\r\n            }\r\n        }\r\n\r\n        return poll(async () => {\r\n            const block = await this.perform(\"getBlock\", params);\r\n\r\n            // Block was not found\r\n            if (block == null) {\r\n\r\n                // For blockhashes, if we didn't say it existed, that blockhash may\r\n                // not exist. If we did see it though, perhaps from a log, we know\r\n                // it exists, and this node is just not caught up yet.\r\n                if (params.blockHash != null) {\r\n                    if (this._emitted[\"b:\" + params.blockHash] == null) { return null; }\r\n                }\r\n\r\n                // For block tags, if we are asking for a future block, we return null\r\n                if (params.blockTag != null) {\r\n                    if (blockNumber > this._emitted.block) { return null; }\r\n                }\r\n\r\n                // Retry on the next block\r\n                return undefined;\r\n            }\r\n\r\n            // Add transactions\r\n            if (includeTransactions) {\r\n                let blockNumber: number = null;\r\n                for (let i = 0; i < block.transactions.length; i++) {\r\n                    const tx = block.transactions[i];\r\n                    if (tx.blockNumber == null) {\r\n                        tx.confirmations = 0;\r\n\r\n                    } else if (tx.confirmations == null) {\r\n                        if (blockNumber == null) {\r\n                            blockNumber = await this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\r\n                        }\r\n\r\n                        // Add the confirmations using the fast block number (pessimistic)\r\n                        let confirmations = (blockNumber - tx.blockNumber) + 1;\r\n                        if (confirmations <= 0) { confirmations = 1; }\r\n                        tx.confirmations = confirmations;\r\n                    }\r\n                }\r\n\r\n                const blockWithTxs: any = this.formatter.blockWithTransactions(block);\r\n                blockWithTxs.transactions = blockWithTxs.transactions.map((tx: TransactionResponse) => this._wrapTransaction(tx));\r\n                return blockWithTxs;\r\n            }\r\n\r\n            return this.formatter.block(block);\r\n\r\n        }, { oncePoll: this });\r\n    }\r\n\r\n    getBlock(blockHashOrBlockTag: BlockTag | string | Promise<BlockTag | string>): Promise<Block> {\r\n        return <Promise<Block>>(this._getBlock(blockHashOrBlockTag, false));\r\n    }\r\n\r\n    getBlockWithTransactions(blockHashOrBlockTag: BlockTag | string | Promise<BlockTag | string>): Promise<BlockWithTransactions> {\r\n        return <Promise<BlockWithTransactions>>(this._getBlock(blockHashOrBlockTag, true));\r\n    }\r\n\r\n    async getTransaction(transactionHash: string | Promise<string>): Promise<TransactionResponse> {\r\n        await this.getNetwork();\r\n        transactionHash = await transactionHash;\r\n\r\n        const params = { transactionHash: this.formatter.hash(transactionHash, true) };\r\n\r\n        return poll(async () => {\r\n            const result = await this.perform(\"getTransaction\", params);\r\n\r\n            if (result == null) {\r\n                if (this._emitted[\"t:\" + transactionHash] == null) {\r\n                    return null;\r\n                }\r\n                return undefined;\r\n            }\r\n\r\n            const tx = this.formatter.transactionResponse(result);\r\n\r\n            if (tx.blockNumber == null) {\r\n                tx.confirmations = 0;\r\n\r\n            } else if (tx.confirmations == null) {\r\n                const blockNumber = await this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\r\n\r\n                // Add the confirmations using the fast block number (pessimistic)\r\n                let confirmations = (blockNumber - tx.blockNumber) + 1;\r\n                if (confirmations <= 0) { confirmations = 1; }\r\n                tx.confirmations = confirmations;\r\n            }\r\n\r\n            return this._wrapTransaction(tx);\r\n        }, { oncePoll: this });\r\n    }\r\n\r\n    async getTransactionReceipt(transactionHash: string | Promise<string>): Promise<TransactionReceipt> {\r\n        await this.getNetwork();\r\n\r\n        transactionHash = await transactionHash;\r\n\r\n        const params = { transactionHash: this.formatter.hash(transactionHash, true) };\r\n\r\n        return poll(async () => {\r\n            const result = await this.perform(\"getTransactionReceipt\", params);\r\n\r\n            if (result == null) {\r\n                if (this._emitted[\"t:\" + transactionHash] == null) {\r\n                    return null;\r\n                }\r\n                return undefined;\r\n            }\r\n\r\n            // \"geth-etc\" returns receipts before they are ready\r\n            if (result.blockHash == null) { return undefined; }\r\n\r\n            const receipt = this.formatter.receipt(result);\r\n\r\n            if (receipt.blockNumber == null) {\r\n                receipt.confirmations = 0;\r\n\r\n            } else if (receipt.confirmations == null) {\r\n                const blockNumber = await this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\r\n\r\n                // Add the confirmations using the fast block number (pessimistic)\r\n                let confirmations = (blockNumber - receipt.blockNumber) + 1;\r\n                if (confirmations <= 0) { confirmations = 1; }\r\n                receipt.confirmations = confirmations;\r\n            }\r\n\r\n            return receipt;\r\n        }, { oncePoll: this });\r\n    }\r\n\r\n    async getLogs(filter: Filter | FilterByBlockHash | Promise<Filter | FilterByBlockHash>): Promise<Array<Log>> {\r\n        await this.getNetwork();\r\n        const params = await resolveProperties({ filter: this._getFilter(filter) });\r\n        const logs: Array<Log> = await this.perform(\"getLogs\", params);\r\n        logs.forEach((log) => {\r\n            if (log.removed == null) { log.removed = false; }\r\n        });\r\n        return Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(logs);\r\n    }\r\n\r\n    async getEtherPrice(): Promise<number> {\r\n        await this.getNetwork();\r\n        return this.perform(\"getEtherPrice\", { });\r\n    }\r\n\r\n    async _getBlockTag(blockTag: BlockTag | Promise<BlockTag>): Promise<BlockTag> {\r\n        blockTag = await blockTag;\r\n\r\n        if (typeof(blockTag) === \"number\" && blockTag < 0) {\r\n            if (blockTag % 1) {\r\n                logger.throwArgumentError(\"invalid BlockTag\", \"blockTag\", blockTag);\r\n            }\r\n\r\n            let blockNumber = await this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\r\n            blockNumber += blockTag;\r\n            if (blockNumber < 0) { blockNumber = 0; }\r\n            return this.formatter.blockTag(blockNumber)\r\n        }\r\n\r\n        return this.formatter.blockTag(blockTag);\r\n    }\r\n\r\n\r\n    async getResolver(name: string): Promise<null | Resolver> {\r\n        let currentName = name;\r\n        while (true) {\r\n            if (currentName === \"\" || currentName === \".\") { return null; }\r\n\r\n            // Optimization since the eth node cannot change and does\r\n            // not have a wildcard resolver\r\n            if (name !== \"eth\" && currentName === \"eth\") { return null; }\r\n\r\n            // Check the current node for a resolver\r\n            const addr = await this._getResolver(currentName, \"getResolver\");\r\n\r\n            // Found a resolver!\r\n            if (addr != null) {\r\n                const resolver = new Resolver(this, addr, name);\r\n\r\n                // Legacy resolver found, using EIP-2544 so it isn't safe to use\r\n                if (currentName !== name && !(await resolver.supportsWildcard())) { return null; }\r\n\r\n                return resolver;\r\n            }\r\n\r\n            // Get the parent node\r\n            currentName = currentName.split(\".\").slice(1).join(\".\");\r\n        }\r\n\r\n    }\r\n\r\n    async _getResolver(name: string, operation?: string): Promise<string> {\r\n        if (operation == null) { operation = \"ENS\"; }\r\n\r\n        const network = await this.getNetwork();\r\n\r\n        // No ENS...\r\n        if (!network.ensAddress) {\r\n            logger.throwError(\r\n                \"network does not support ENS\",\r\n                Logger.errors.UNSUPPORTED_OPERATION,\r\n                { operation, network: network.name }\r\n            );\r\n        }\r\n\r\n        try {\r\n            // keccak256(\"resolver(bytes32)\")\r\n            const addrData = await this.call({\r\n                to: network.ensAddress,\r\n                data: (\"0x0178b8bf\" + namehash(name).substring(2))\r\n            });\r\n            return this.formatter.callAddress(addrData);\r\n        } catch (error) {\r\n            // ENS registry cannot throw errors on resolver(bytes32)\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    async resolveName(name: string | Promise<string>): Promise<null | string> {\r\n        name = await name;\r\n\r\n        // If it is already an address, nothing to resolve\r\n        try {\r\n            return Promise.resolve(this.formatter.address(name));\r\n        } catch (error) {\r\n            // If is is a hexstring, the address is bad (See #694)\r\n            if (isHexString(name)) { throw error; }\r\n        }\r\n\r\n        if (typeof(name) !== \"string\") {\r\n            logger.throwArgumentError(\"invalid ENS name\", \"name\", name);\r\n        }\r\n\r\n        // Get the addr from the resolver\r\n        const resolver = await this.getResolver(name);\r\n        if (!resolver) { return null; }\r\n\r\n        return await resolver.getAddress();\r\n    }\r\n\r\n    async lookupAddress(address: string | Promise<string>): Promise<null | string> {\r\n        address = await address;\r\n        address = this.formatter.address(address);\r\n\r\n        const node = address.substring(2).toLowerCase() + \".addr.reverse\";\r\n\r\n        const resolverAddr = await this._getResolver(node, \"lookupAddress\");\r\n        if (resolverAddr == null) { return null; }\r\n\r\n        // keccak(\"name(bytes32)\")\r\n        const name = _parseString(await this.call({\r\n            to: resolverAddr,\r\n            data: (\"0x691f3431\" + namehash(node).substring(2))\r\n        }), 0);\r\n\r\n        const addr = await this.resolveName(name);\r\n        if (addr != address) { return null; }\r\n\r\n        return name;\r\n    }\r\n\r\n    async getAvatar(nameOrAddress: string): Promise<null | string> {\r\n        let resolver: Resolver = null;\r\n        if (isHexString(nameOrAddress)) {\r\n            // Address; reverse lookup\r\n            const address = this.formatter.address(nameOrAddress);\r\n\r\n            const node = address.substring(2).toLowerCase() + \".addr.reverse\";\r\n\r\n            const resolverAddress = await this._getResolver(node, \"getAvatar\");\r\n            if (!resolverAddress) { return null; }\r\n\r\n            // Try resolving the avatar against the addr.reverse resolver\r\n            resolver = new Resolver(this, resolverAddress, node);\r\n            try {\r\n                const avatar = await resolver.getAvatar();\r\n                if (avatar) { return avatar.url; }\r\n            } catch (error) {\r\n                if (error.code !== Logger.errors.CALL_EXCEPTION) { throw error; }\r\n            }\r\n\r\n            // Try getting the name and performing forward lookup; allowing wildcards\r\n            try {\r\n                // keccak(\"name(bytes32)\")\r\n                const name = _parseString(await this.call({\r\n                    to: resolverAddress,\r\n                    data: (\"0x691f3431\" + namehash(node).substring(2))\r\n                }), 0);\r\n                resolver = await this.getResolver(name);\r\n            } catch (error) {\r\n                if (error.code !== Logger.errors.CALL_EXCEPTION) { throw error; }\r\n                return null;\r\n            }\r\n\r\n        } else {\r\n            // ENS name; forward lookup with wildcard\r\n            resolver = await this.getResolver(nameOrAddress);\r\n            if (!resolver) { return null; }\r\n        }\r\n\r\n        const avatar = await resolver.getAvatar();\r\n        if (avatar == null) { return null; }\r\n\r\n        return avatar.url;\r\n    }\r\n\r\n    perform(method: string, params: any): Promise<any> {\r\n        return logger.throwError(method + \" not implemented\", Logger.errors.NOT_IMPLEMENTED, { operation: method });\r\n    }\r\n\r\n    _startEvent(event: Event): void {\r\n        this.polling = (this._events.filter((e) => e.pollable()).length > 0);\r\n    }\r\n\r\n    _stopEvent(event: Event): void {\r\n        this.polling = (this._events.filter((e) => e.pollable()).length > 0);\r\n    }\r\n\r\n    _addEventListener(eventName: EventType, listener: Listener, once: boolean): this {\r\n        const event = new Event(getEventTag(eventName), listener, once)\r\n        this._events.push(event);\r\n        this._startEvent(event);\r\n\r\n        return this;\r\n    }\r\n\r\n    on(eventName: EventType, listener: Listener): this {\r\n        return this._addEventListener(eventName, listener, false);\r\n    }\r\n\r\n    once(eventName: EventType, listener: Listener): this {\r\n        return this._addEventListener(eventName, listener, true);\r\n    }\r\n\r\n\r\n    emit(eventName: EventType, ...args: Array<any>): boolean {\r\n        let result = false;\r\n\r\n        let stopped: Array<Event> = [ ];\r\n\r\n        let eventTag = getEventTag(eventName);\r\n        this._events = this._events.filter((event) => {\r\n            if (event.tag !== eventTag) { return true; }\r\n\r\n            setTimeout(() => {\r\n                event.listener.apply(this, args);\r\n            }, 0);\r\n\r\n            result = true;\r\n\r\n            if (event.once) {\r\n                stopped.push(event);\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        });\r\n\r\n        stopped.forEach((event) => { this._stopEvent(event); });\r\n\r\n        return result;\r\n    }\r\n\r\n    listenerCount(eventName?: EventType): number {\r\n        if (!eventName) { return this._events.length; }\r\n\r\n        let eventTag = getEventTag(eventName);\r\n        return this._events.filter((event) => {\r\n            return (event.tag === eventTag);\r\n        }).length;\r\n    }\r\n\r\n    listeners(eventName?: EventType): Array<Listener> {\r\n        if (eventName == null) {\r\n            return this._events.map((event) => event.listener);\r\n        }\r\n\r\n        let eventTag = getEventTag(eventName);\r\n        return this._events\r\n            .filter((event) => (event.tag === eventTag))\r\n            .map((event) => event.listener);\r\n    }\r\n\r\n    off(eventName: EventType, listener?: Listener): this {\r\n        if (listener == null) {\r\n            return this.removeAllListeners(eventName);\r\n        }\r\n\r\n        const stopped: Array<Event> = [ ];\r\n\r\n        let found = false;\r\n\r\n        let eventTag = getEventTag(eventName);\r\n        this._events = this._events.filter((event) => {\r\n            if (event.tag !== eventTag || event.listener != listener) { return true; }\r\n            if (found) { return true; }\r\n            found = true;\r\n            stopped.push(event);\r\n            return false;\r\n        });\r\n\r\n        stopped.forEach((event) => { this._stopEvent(event); });\r\n\r\n        return this;\r\n    }\r\n\r\n    removeAllListeners(eventName?: EventType): this {\r\n        let stopped: Array<Event> = [ ];\r\n        if (eventName == null) {\r\n            stopped = this._events;\r\n\r\n            this._events = [ ];\r\n        } else {\r\n            const eventTag = getEventTag(eventName);\r\n            this._events = this._events.filter((event) => {\r\n                if (event.tag !== eventTag) { return true; }\r\n                stopped.push(event);\r\n                return false;\r\n            });\r\n        }\r\n\r\n        stopped.forEach((event) => { this._stopEvent(event); });\r\n\r\n        return this;\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\n// See: https://github.com/ethereum/wiki/wiki/JSON-RPC\r\n\r\nimport { Provider, TransactionRequest, TransactionResponse } from \"@ethersproject/abstract-provider\";\r\nimport { Signer, TypedDataDomain, TypedDataField, TypedDataSigner } from \"@ethersproject/abstract-signer\";\r\nimport { BigNumber } from \"@ethersproject/bignumber\";\r\nimport { Bytes, hexlify, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\r\nimport { _TypedDataEncoder } from \"@ethersproject/hash\";\r\nimport { Network, Networkish } from \"@ethersproject/networks\";\r\nimport { checkProperties, deepCopy, Deferrable, defineReadOnly, getStatic, resolveProperties, shallowCopy } from \"@ethersproject/properties\";\r\nimport { toUtf8Bytes } from \"@ethersproject/strings\";\r\nimport { AccessList, accessListify } from \"@ethersproject/transactions\";\r\nimport { ConnectionInfo, fetchJson, poll } from \"@ethersproject/web\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { BaseProvider, Event } from \"./base-provider\";\r\n\r\n\r\nconst errorGas = [ \"call\", \"estimateGas\" ];\r\n\r\nfunction spelunk(value: any, requireData: boolean): null | { message: string, data: null | string } {\r\n    if (value == null) { return null; }\r\n\r\n    // These *are* the droids we're looking for.\r\n    if (typeof(value.message) === \"string\" && value.message.match(\"reverted\")) {\r\n        const data = isHexString(value.data) ? value.data: null;\r\n        if (!requireData || data) {\r\n            return { message: value.message, data };\r\n        }\r\n    }\r\n\r\n    // Spelunk further...\r\n    if (typeof(value) === \"object\") {\r\n        for (const key in value) {\r\n            const result = spelunk(value[key], requireData);\r\n            if (result) { return result; }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // Might be a JSON string we can further descend...\r\n    if (typeof(value) === \"string\") {\r\n        try {\r\n            return spelunk(JSON.parse(value), requireData);\r\n        } catch (error) { }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction checkError(method: string, error: any, params: any): any {\r\n\r\n    const transaction = params.transaction || params.signedTransaction;\r\n\r\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\r\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\r\n    if (method === \"call\") {\r\n        const result = spelunk(error, true);\r\n        if (result) { return result.data; }\r\n\r\n        // Nothing descriptive..\r\n        logger.throwError(\"missing revert data in call exception; Transaction reverted without a reason string\", Logger.errors.CALL_EXCEPTION, {\r\n            data: \"0x\", transaction, error\r\n        });\r\n    }\r\n\r\n    if (method === \"estimateGas\") {\r\n        // Try to find something, with a preference on SERVER_ERROR body\r\n        let result = spelunk(error.body, false);\r\n        if (result == null) { result = spelunk(error, false); }\r\n\r\n        // Found \"reverted\", this is a CALL_EXCEPTION\r\n        if (result) {\r\n            logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\r\n                reason: result.message, method, transaction, error\r\n            });\r\n        }\r\n    }\r\n\r\n    // @TODO: Should we spelunk for message too?\r\n\r\n    let message = error.message;\r\n    if (error.code === Logger.errors.SERVER_ERROR && error.error && typeof(error.error.message) === \"string\") {\r\n        message = error.error.message;\r\n    } else if (typeof(error.body) === \"string\") {\r\n        message = error.body;\r\n    } else if (typeof(error.responseText) === \"string\") {\r\n        message = error.responseText;\r\n    }\r\n    message = (message || \"\").toLowerCase();\r\n\r\n    // \"insufficient funds for gas * price + value + cost(data)\"\r\n    if (message.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)) {\r\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", Logger.errors.INSUFFICIENT_FUNDS, {\r\n            error, method, transaction\r\n        });\r\n    }\r\n\r\n    // \"nonce too low\"\r\n    if (message.match(/nonce (is )?too low/i)) {\r\n        logger.throwError(\"nonce has already been used\", Logger.errors.NONCE_EXPIRED, {\r\n            error, method, transaction\r\n        });\r\n    }\r\n\r\n    // \"replacement transaction underpriced\"\r\n    if (message.match(/replacement transaction underpriced|transaction gas price.*too low/i)) {\r\n        logger.throwError(\"replacement fee too low\", Logger.errors.REPLACEMENT_UNDERPRICED, {\r\n            error, method, transaction\r\n        });\r\n    }\r\n\r\n    // \"replacement transaction underpriced\"\r\n    if (message.match(/only replay-protected/i)) {\r\n        logger.throwError(\"legacy pre-eip-155 transactions not supported\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            error, method, transaction\r\n        });\r\n    }\r\n\r\n    if (errorGas.indexOf(method) >= 0 && message.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)) {\r\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\r\n            error, method, transaction\r\n        });\r\n    }\r\n\r\n    throw error;\r\n}\r\n\r\nfunction timer(timeout: number): Promise<any> {\r\n    return new Promise(function(resolve) {\r\n        setTimeout(resolve, timeout);\r\n    });\r\n}\r\n\r\nfunction getResult(payload: { error?: { code?: number, data?: any, message?: string }, result?: any }): any {\r\n    if (payload.error) {\r\n        // @TODO: not any\r\n        const error: any = new Error(payload.error.message);\r\n        error.code = payload.error.code;\r\n        error.data = payload.error.data;\r\n        throw error;\r\n    }\r\n\r\n    return payload.result;\r\n}\r\n\r\nfunction getLowerCase(value: string): string {\r\n    if (value) { return value.toLowerCase(); }\r\n    return value;\r\n}\r\n\r\nconst _constructorGuard = {};\r\n\r\nexport class JsonRpcSigner extends Signer implements TypedDataSigner {\r\n    readonly provider: JsonRpcProvider;\r\n    _index: number;\r\n    _address: string;\r\n\r\n    constructor(constructorGuard: any, provider: JsonRpcProvider, addressOrIndex?: string | number) {\r\n        super();\r\n\r\n        if (constructorGuard !== _constructorGuard) {\r\n            throw new Error(\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\");\r\n        }\r\n\r\n        defineReadOnly(this, \"provider\", provider);\r\n\r\n        if (addressOrIndex == null) { addressOrIndex = 0; }\r\n\r\n        if (typeof(addressOrIndex) === \"string\") {\r\n            defineReadOnly(this, \"_address\", this.provider.formatter.address(addressOrIndex));\r\n            defineReadOnly(this, \"_index\", null);\r\n\r\n        } else if (typeof(addressOrIndex) === \"number\") {\r\n            defineReadOnly(this, \"_index\", addressOrIndex);\r\n            defineReadOnly(this, \"_address\", null);\r\n\r\n        } else {\r\n            logger.throwArgumentError(\"invalid address or index\", \"addressOrIndex\", addressOrIndex);\r\n        }\r\n    }\r\n\r\n    connect(provider: Provider): JsonRpcSigner {\r\n        return logger.throwError(\"cannot alter JSON-RPC Signer connection\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"connect\"\r\n        });\r\n    }\r\n\r\n    connectUnchecked(): JsonRpcSigner {\r\n        return new UncheckedJsonRpcSigner(_constructorGuard, this.provider, this._address || this._index);\r\n    }\r\n\r\n    getAddress(): Promise<string> {\r\n        if (this._address) {\r\n            return Promise.resolve(this._address);\r\n        }\r\n\r\n        return this.provider.send(\"eth_accounts\", []).then((accounts) => {\r\n            if (accounts.length <= this._index) {\r\n                logger.throwError(\"unknown account #\" + this._index, Logger.errors.UNSUPPORTED_OPERATION, {\r\n                    operation: \"getAddress\"\r\n                });\r\n            }\r\n            return this.provider.formatter.address(accounts[this._index])\r\n        });\r\n    }\r\n\r\n    sendUncheckedTransaction(transaction: Deferrable<TransactionRequest>): Promise<string> {\r\n        transaction = shallowCopy(transaction);\r\n\r\n        const fromAddress = this.getAddress().then((address) => {\r\n            if (address) { address = address.toLowerCase(); }\r\n            return address;\r\n        });\r\n\r\n        // The JSON-RPC for eth_sendTransaction uses 90000 gas; if the user\r\n        // wishes to use this, it is easy to specify explicitly, otherwise\r\n        // we look it up for them.\r\n        if (transaction.gasLimit == null) {\r\n            const estimate = shallowCopy(transaction);\r\n            estimate.from = fromAddress;\r\n            transaction.gasLimit = this.provider.estimateGas(estimate);\r\n        }\r\n\r\n        if (transaction.to != null) {\r\n            transaction.to = Promise.resolve(transaction.to).then(async (to) => {\r\n                if (to == null) { return null; }\r\n                const address = await this.provider.resolveName(to);\r\n                if (address == null) {\r\n                    logger.throwArgumentError(\"provided ENS name resolves to null\", \"tx.to\", to);\r\n                }\r\n                return address;\r\n            });\r\n        }\r\n\r\n        return resolveProperties({\r\n            tx: resolveProperties(transaction),\r\n            sender: fromAddress\r\n        }).then(({ tx, sender }) => {\r\n\r\n            if (tx.from != null) {\r\n                if (tx.from.toLowerCase() !== sender) {\r\n                    logger.throwArgumentError(\"from address mismatch\", \"transaction\", transaction);\r\n                }\r\n            } else {\r\n                tx.from = sender;\r\n            }\r\n\r\n            const hexTx = (<any>this.provider.constructor).hexlifyTransaction(tx, { from: true });\r\n\r\n            return this.provider.send(\"eth_sendTransaction\", [ hexTx ]).then((hash) => {\r\n                return hash;\r\n            }, (error) => {\r\n                if (typeof(error.message) === \"string\" && error.message.match(/user denied/i)) {\r\n                    logger.throwError(\"user rejected transaction\", Logger.errors.ACTION_REJECTED, {\r\n                        action: \"sendTransaction\",\r\n                        transaction: tx\r\n                    });\r\n                }\r\n\r\n                return checkError(\"sendTransaction\", error, hexTx);\r\n            });\r\n        });\r\n    }\r\n\r\n    signTransaction(transaction: Deferrable<TransactionRequest>): Promise<string> {\r\n        return logger.throwError(\"signing transactions is unsupported\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"signTransaction\"\r\n        });\r\n    }\r\n\r\n    async sendTransaction(transaction: Deferrable<TransactionRequest>): Promise<TransactionResponse> {\r\n        // This cannot be mined any earlier than any recent block\r\n        const blockNumber = await this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval);\r\n\r\n        // Send the transaction\r\n        const hash = await this.sendUncheckedTransaction(transaction);\r\n\r\n        try {\r\n            // Unfortunately, JSON-RPC only provides and opaque transaction hash\r\n            // for a response, and we need the actual transaction, so we poll\r\n            // for it; it should show up very quickly\r\n            return await poll(async () => {\r\n                const tx = await this.provider.getTransaction(hash);\r\n                if (tx === null) { return undefined; }\r\n                return this.provider._wrapTransaction(tx, hash, blockNumber);\r\n            }, { oncePoll: this.provider });\r\n        } catch (error) {\r\n            (<any>error).transactionHash = hash;\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async signMessage(message: Bytes | string): Promise<string> {\r\n        const data = ((typeof(message) === \"string\") ? toUtf8Bytes(message): message);\r\n        const address = await this.getAddress();\r\n        try {\r\n            return await this.provider.send(\"personal_sign\", [ hexlify(data), address.toLowerCase() ]);\r\n        } catch (error) {\r\n            if (typeof(error.message) === \"string\" && error.message.match(/user denied/i)) {\r\n                logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\r\n                    action: \"signMessage\",\r\n                    from: address,\r\n                    messageData: message\r\n                });\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async _legacySignMessage(message: Bytes | string): Promise<string> {\r\n        const data = ((typeof(message) === \"string\") ? toUtf8Bytes(message): message);\r\n        const address = await this.getAddress();\r\n\r\n        try {\r\n            // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\r\n            return await this.provider.send(\"eth_sign\", [ address.toLowerCase(), hexlify(data) ]);\r\n        } catch (error) {\r\n            if (typeof(error.message) === \"string\" && error.message.match(/user denied/i)) {\r\n                logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\r\n                    action: \"_legacySignMessage\",\r\n                    from: address,\r\n                    messageData: message\r\n                });\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async _signTypedData(domain: TypedDataDomain, types: Record<string, Array<TypedDataField>>, value: Record<string, any>): Promise<string> {\r\n        // Populate any ENS names (in-place)\r\n        const populated = await _TypedDataEncoder.resolveNames(domain, types, value, (name: string) => {\r\n            return this.provider.resolveName(name);\r\n        });\r\n\r\n        const address = await this.getAddress();\r\n\r\n        try {\r\n            return await this.provider.send(\"eth_signTypedData_v4\", [\r\n                address.toLowerCase(),\r\n                JSON.stringify(_TypedDataEncoder.getPayload(populated.domain, types, populated.value))\r\n            ]);\r\n        } catch (error) {\r\n            if (typeof(error.message) === \"string\" && error.message.match(/user denied/i)) {\r\n                logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\r\n                    action: \"_signTypedData\",\r\n                    from: address,\r\n                    messageData: { domain: populated.domain, types, value: populated.value }\r\n                });\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async unlock(password: string): Promise<boolean> {\r\n        const provider = this.provider;\r\n\r\n        const address = await this.getAddress();\r\n\r\n        return provider.send(\"personal_unlockAccount\", [ address.toLowerCase(), password, null ]);\r\n    }\r\n}\r\n\r\nclass UncheckedJsonRpcSigner extends JsonRpcSigner {\r\n    sendTransaction(transaction: Deferrable<TransactionRequest>): Promise<TransactionResponse> {\r\n        return this.sendUncheckedTransaction(transaction).then((hash) => {\r\n            return <TransactionResponse>{\r\n                hash: hash,\r\n                nonce: null,\r\n                gasLimit: null,\r\n                gasPrice: null,\r\n                data: null,\r\n                value: null,\r\n                chainId: null,\r\n                confirmations: 0,\r\n                from: null,\r\n                wait: (confirmations?: number) => { return this.provider.waitForTransaction(hash, confirmations); }\r\n            };\r\n        });\r\n    }\r\n}\r\n\r\nconst allowedTransactionKeys: { [ key: string ]: boolean } = {\r\n    chainId: true, data: true, gasLimit: true, gasPrice:true, nonce: true, to: true, value: true,\r\n    type: true, accessList: true,\r\n    maxFeePerGas: true, maxPriorityFeePerGas: true\r\n}\r\n\r\nexport class JsonRpcProvider extends BaseProvider {\r\n    readonly connection: ConnectionInfo;\r\n\r\n    _pendingFilter: Promise<number>;\r\n    _nextId: number;\r\n\r\n    // During any given event loop, the results for a given call will\r\n    // all be the same, so we can dedup the calls to save requests and\r\n    // bandwidth. @TODO: Try out generalizing this against send?\r\n    _eventLoopCache: Record<string, Promise<any>>;\r\n    get _cache(): Record<string, Promise<any>> {\r\n        if (this._eventLoopCache == null) {\r\n            this._eventLoopCache = { };\r\n        }\r\n        return this._eventLoopCache;\r\n    }\r\n\r\n    constructor(url?: ConnectionInfo | string, network?: Networkish) {\r\n        let networkOrReady: Networkish | Promise<Network> = network;\r\n\r\n        // The network is unknown, query the JSON-RPC for it\r\n        if (networkOrReady == null) {\r\n            networkOrReady = new Promise((resolve, reject) => {\r\n                setTimeout(() => {\r\n                    this.detectNetwork().then((network) => {\r\n                        resolve(network);\r\n                    }, (error) => {\r\n                        reject(error);\r\n                    });\r\n                }, 0);\r\n            });\r\n        }\r\n\r\n        super(networkOrReady);\r\n\r\n        // Default URL\r\n        if (!url) { url = getStatic<() => string>(this.constructor, \"defaultUrl\")(); }\r\n\r\n        if (typeof(url) === \"string\") {\r\n            defineReadOnly(this, \"connection\",Object.freeze({\r\n                url: url\r\n            }));\r\n        } else {\r\n            defineReadOnly(this, \"connection\", Object.freeze(shallowCopy(url)));\r\n        }\r\n\r\n        this._nextId = 42;\r\n    }\r\n\r\n    static defaultUrl(): string {\r\n        return \"http:/\\/localhost:8545\";\r\n    }\r\n\r\n    detectNetwork(): Promise<Network> {\r\n        if (!this._cache[\"detectNetwork\"]) {\r\n            this._cache[\"detectNetwork\"] = this._uncachedDetectNetwork();\r\n\r\n            // Clear this cache at the beginning of the next event loop\r\n            setTimeout(() => {\r\n                this._cache[\"detectNetwork\"] = null;\r\n            }, 0);\r\n        }\r\n        return this._cache[\"detectNetwork\"];\r\n    }\r\n\r\n    async _uncachedDetectNetwork(): Promise<Network> {\r\n        await timer(0);\r\n\r\n        let chainId = null;\r\n        try {\r\n            chainId = await this.send(\"eth_chainId\", [ ]);\r\n        } catch (error) {\r\n            try {\r\n                chainId = await this.send(\"net_version\", [ ]);\r\n            } catch (error) { }\r\n        }\r\n\r\n        if (chainId != null) {\r\n            const getNetwork = getStatic<(network: Networkish) => Network>(this.constructor, \"getNetwork\");\r\n            try {\r\n                return getNetwork(BigNumber.from(chainId).toNumber());\r\n            } catch (error) {\r\n                return logger.throwError(\"could not detect network\", Logger.errors.NETWORK_ERROR, {\r\n                    chainId: chainId,\r\n                    event: \"invalidNetwork\",\r\n                    serverError: error\r\n                });\r\n            }\r\n        }\r\n\r\n        return logger.throwError(\"could not detect network\", Logger.errors.NETWORK_ERROR, {\r\n            event: \"noNetwork\"\r\n        });\r\n    }\r\n\r\n    getSigner(addressOrIndex?: string | number): JsonRpcSigner {\r\n        return new JsonRpcSigner(_constructorGuard, this, addressOrIndex);\r\n    }\r\n\r\n    getUncheckedSigner(addressOrIndex?: string | number): UncheckedJsonRpcSigner {\r\n        return this.getSigner(addressOrIndex).connectUnchecked();\r\n    }\r\n\r\n    listAccounts(): Promise<Array<string>> {\r\n        return this.send(\"eth_accounts\", []).then((accounts: Array<string>) => {\r\n            return accounts.map((a) => this.formatter.address(a));\r\n        });\r\n    }\r\n\r\n    send(method: string, params: Array<any>): Promise<any> {\r\n        const request = {\r\n            method: method,\r\n            params: params,\r\n            id: (this._nextId++),\r\n            jsonrpc: \"2.0\"\r\n        };\r\n\r\n        this.emit(\"debug\", {\r\n            action: \"request\",\r\n            request: deepCopy(request),\r\n            provider: this\r\n        });\r\n\r\n        // We can expand this in the future to any call, but for now these\r\n        // are the biggest wins and do not require any serializing parameters.\r\n        const cache = ([ \"eth_chainId\", \"eth_blockNumber\" ].indexOf(method) >= 0);\r\n        if (cache && this._cache[method]) {\r\n            return this._cache[method];\r\n        }\r\n\r\n        const result = fetchJson(this.connection, JSON.stringify(request), getResult).then((result) => {\r\n            this.emit(\"debug\", {\r\n                action: \"response\",\r\n                request: request,\r\n                response: result,\r\n                provider: this\r\n            });\r\n\r\n            return result;\r\n\r\n        }, (error) => {\r\n            this.emit(\"debug\", {\r\n                action: \"response\",\r\n                error: error,\r\n                request: request,\r\n                provider: this\r\n            });\r\n\r\n            throw error;\r\n        });\r\n\r\n        // Cache the fetch, but clear it on the next event loop\r\n        if (cache) {\r\n            this._cache[method] = result;\r\n            setTimeout(() => {\r\n                this._cache[method] = null;\r\n            }, 0);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    prepareRequest(method: string, params: any): [ string, Array<any> ] {\r\n        switch (method) {\r\n            case \"getBlockNumber\":\r\n                return [ \"eth_blockNumber\", [] ];\r\n\r\n            case \"getGasPrice\":\r\n                return [ \"eth_gasPrice\", [] ];\r\n\r\n            case \"getBalance\":\r\n                return [ \"eth_getBalance\", [ getLowerCase(params.address), params.blockTag ] ];\r\n\r\n            case \"getTransactionCount\":\r\n                return [ \"eth_getTransactionCount\", [ getLowerCase(params.address), params.blockTag ] ];\r\n\r\n            case \"getCode\":\r\n                return [ \"eth_getCode\", [ getLowerCase(params.address), params.blockTag ] ];\r\n\r\n            case \"getStorageAt\":\r\n                return [ \"eth_getStorageAt\", [ getLowerCase(params.address), hexZeroPad(params.position, 32), params.blockTag ] ];\r\n\r\n            case \"sendTransaction\":\r\n                return [ \"eth_sendRawTransaction\", [ params.signedTransaction ] ]\r\n\r\n            case \"getBlock\":\r\n                if (params.blockTag) {\r\n                    return [ \"eth_getBlockByNumber\", [ params.blockTag, !!params.includeTransactions ] ];\r\n                } else if (params.blockHash) {\r\n                    return [ \"eth_getBlockByHash\", [ params.blockHash, !!params.includeTransactions ] ];\r\n                }\r\n                return null;\r\n\r\n            case \"getTransaction\":\r\n                return [ \"eth_getTransactionByHash\", [ params.transactionHash ] ];\r\n\r\n            case \"getTransactionReceipt\":\r\n                return [ \"eth_getTransactionReceipt\", [ params.transactionHash ] ];\r\n\r\n            case \"call\": {\r\n                const hexlifyTransaction = getStatic<(t: TransactionRequest, a?: { [key: string]: boolean }) => { [key: string]: string }>(this.constructor, \"hexlifyTransaction\");\r\n                return [ \"eth_call\", [ hexlifyTransaction(params.transaction, { from: true }), params.blockTag ] ];\r\n            }\r\n\r\n            case \"estimateGas\": {\r\n                const hexlifyTransaction = getStatic<(t: TransactionRequest, a?: { [key: string]: boolean }) => { [key: string]: string }>(this.constructor, \"hexlifyTransaction\");\r\n                return [ \"eth_estimateGas\", [ hexlifyTransaction(params.transaction, { from: true }) ] ];\r\n            }\r\n\r\n            case \"getLogs\":\r\n                if (params.filter && params.filter.address != null) {\r\n                    params.filter.address = getLowerCase(params.filter.address);\r\n                }\r\n                return [ \"eth_getLogs\", [ params.filter ] ];\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    async perform(method: string, params: any): Promise<any> {\r\n        // Legacy networks do not like the type field being passed along (which\r\n        // is fair), so we delete type if it is 0 and a non-EIP-1559 network\r\n        if (method === \"call\" || method === \"estimateGas\") {\r\n            const tx = params.transaction;\r\n            if (tx && tx.type != null && BigNumber.from(tx.type).isZero()) {\r\n                // If there are no EIP-1559 properties, it might be non-EIP-1559\r\n                if (tx.maxFeePerGas == null && tx.maxPriorityFeePerGas == null) {\r\n                    const feeData = await this.getFeeData();\r\n                    if (feeData.maxFeePerGas == null && feeData.maxPriorityFeePerGas == null) {\r\n                        // Network doesn't know about EIP-1559 (and hence type)\r\n                        params = shallowCopy(params);\r\n                        params.transaction = shallowCopy(tx);\r\n                        delete params.transaction.type;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const args = this.prepareRequest(method,  params);\r\n\r\n        if (args == null) {\r\n            logger.throwError(method + \" not implemented\", Logger.errors.NOT_IMPLEMENTED, { operation: method });\r\n        }\r\n        try {\r\n            return await this.send(args[0], args[1])\r\n        } catch (error) {\r\n            return checkError(method, error, params);\r\n        }\r\n    }\r\n\r\n    _startEvent(event: Event): void {\r\n        if (event.tag === \"pending\") { this._startPending(); }\r\n        super._startEvent(event);\r\n    }\r\n\r\n    _startPending(): void {\r\n        if (this._pendingFilter != null) { return; }\r\n        const self = this;\r\n\r\n        const pendingFilter: Promise<number> = this.send(\"eth_newPendingTransactionFilter\", []);\r\n        this._pendingFilter = pendingFilter;\r\n\r\n        pendingFilter.then(function(filterId) {\r\n            function poll() {\r\n                self.send(\"eth_getFilterChanges\", [ filterId ]).then(function(hashes: Array<string>) {\r\n                    if (self._pendingFilter != pendingFilter) { return null; }\r\n\r\n                    let seq = Promise.resolve();\r\n                    hashes.forEach(function(hash) {\r\n                        // @TODO: This should be garbage collected at some point... How? When?\r\n                        self._emitted[\"t:\" + hash.toLowerCase()] = \"pending\";\r\n                        seq = seq.then(function() {\r\n                            return self.getTransaction(hash).then(function(tx) {\r\n                                self.emit(\"pending\", tx);\r\n                                return null;\r\n                            });\r\n                        });\r\n                    });\r\n\r\n                    return seq.then(function() {\r\n                        return timer(1000);\r\n                    });\r\n                }).then(function() {\r\n                    if (self._pendingFilter != pendingFilter) {\r\n                        self.send(\"eth_uninstallFilter\", [ filterId ]);\r\n                        return;\r\n                    }\r\n                    setTimeout(function() { poll(); }, 0);\r\n\r\n                    return null;\r\n                }).catch((error: Error) => { });\r\n            }\r\n            poll();\r\n\r\n            return filterId;\r\n        }).catch((error: Error) => { });\r\n    }\r\n\r\n    _stopEvent(event: Event): void {\r\n        if (event.tag === \"pending\" && this.listenerCount(\"pending\") === 0) {\r\n            this._pendingFilter = null;\r\n        }\r\n        super._stopEvent(event);\r\n    }\r\n\r\n    // Convert an ethers.js transaction into a JSON-RPC transaction\r\n    //  - gasLimit => gas\r\n    //  - All values hexlified\r\n    //  - All numeric values zero-striped\r\n    //  - All addresses are lowercased\r\n    // NOTE: This allows a TransactionRequest, but all values should be resolved\r\n    //       before this is called\r\n    // @TODO: This will likely be removed in future versions and prepareRequest\r\n    //        will be the preferred method for this.\r\n    static hexlifyTransaction(transaction: TransactionRequest, allowExtra?: { [key: string]: boolean }): { [key: string]: string | AccessList } {\r\n        // Check only allowed properties are given\r\n        const allowed = shallowCopy(allowedTransactionKeys);\r\n        if (allowExtra) {\r\n            for (const key in allowExtra) {\r\n                if (allowExtra[key]) { allowed[key] = true; }\r\n            }\r\n        }\r\n\r\n        checkProperties(transaction, allowed);\r\n\r\n        const result: { [key: string]: string | AccessList } = {};\r\n\r\n        // JSON-RPC now requires numeric values to be \"quantity\" values\r\n        [\"chainId\", \"gasLimit\", \"gasPrice\", \"type\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"nonce\", \"value\"].forEach(function(key) {\r\n            if ((<any>transaction)[key] == null) { return; }\r\n            const value = hexValue(BigNumber.from((<any>transaction)[key]));\r\n            if (key === \"gasLimit\") { key = \"gas\"; }\r\n            result[key] = value;\r\n        });\r\n\r\n        [\"from\", \"to\", \"data\"].forEach(function(key) {\r\n            if ((<any>transaction)[key] == null) { return; }\r\n            result[key] = hexlify((<any>transaction)[key]);\r\n        });\r\n\r\n        if ((<any>transaction).accessList) {\r\n            result[\"accessList\"] = accessListify((<any>transaction).accessList);\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\n\r\nlet WS: any = null;\r\n\r\ntry {\r\n    WS = (WebSocket as any);\r\n    if (WS == null) { throw new Error(\"inject please\"); }\r\n} catch (error) {\r\n    const logger = new Logger(version);\r\n    WS = function() {\r\n        logger.throwError(\"WebSockets not supported in this environment\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"new WebSocket()\"\r\n        });\r\n    }\r\n}\r\n//export default WS;\r\n//module.exports = WS;\r\nexport { WS as WebSocket };\r\n", "\"use strict\";\r\n\r\nimport { BigNumber } from \"@ethersproject/bignumber\";\r\nimport { Network, Networkish } from \"@ethersproject/networks\";\r\nimport { defineReadOnly } from \"@ethersproject/properties\";\r\n\r\nimport { Event } from \"./base-provider\";\r\nimport { JsonRpcProvider } from \"./json-rpc-provider\";\r\nimport { WebSocket } from \"./ws\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n/**\r\n *  Notes:\r\n *\r\n *  This provider differs a bit from the polling providers. One main\r\n *  difference is how it handles consistency. The polling providers\r\n *  will stall responses to ensure a consistent state, while this\r\n *  WebSocket provider assumes the connected backend will manage this.\r\n *\r\n *  For example, if a polling provider emits an event which indicates\r\n *  the event occurred in blockhash XXX, a call to fetch that block by\r\n *  its hash XXX, if not present will retry until it is present. This\r\n *  can occur when querying a pool of nodes that are mildly out of sync\r\n *  with each other.\r\n */\r\n\r\nlet NextId = 1;\r\n\r\nexport type InflightRequest = {\r\n     callback: (error: Error, result: any) => void;\r\n     payload: string;\r\n};\r\n\r\nexport type Subscription = {\r\n    tag: string;\r\n    processFunc: (payload: any) => void;\r\n};\r\n\r\nexport interface WebSocketLike {\r\n    onopen: ((...args: Array<any>) => any) | null;\r\n    onmessage: ((...args: Array<any>) => any) | null;\r\n    onerror: ((...args: Array<any>) => any) | null;\r\n\r\n    readyState: number;\r\n\r\n    send(payload: any): void;\r\n    close(code?: number, reason?: string): void;\r\n}\r\n\r\n// For more info about the Real-time Event API see:\r\n//   https://geth.ethereum.org/docs/rpc/pubsub\r\n\r\nexport class WebSocketProvider extends JsonRpcProvider {\r\n    readonly _websocket: any;\r\n    readonly _requests: { [ name: string ]: InflightRequest };\r\n    readonly _detectNetwork: Promise<Network>;\r\n\r\n    // Maps event tag to subscription ID (we dedupe identical events)\r\n    readonly _subIds: { [ tag: string ]: Promise<string> };\r\n\r\n    // Maps Subscription ID to Subscription\r\n    readonly _subs: { [ name: string ]: Subscription };\r\n\r\n    _wsReady: boolean;\r\n\r\n    constructor(url: string | WebSocketLike, network?: Networkish) {\r\n\r\n        // This will be added in the future; please open an issue to expedite\r\n        if (network === \"any\") {\r\n            logger.throwError(\"WebSocketProvider does not support 'any' network yet\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"network:any\"\r\n            });\r\n        }\r\n\r\n        if (typeof(url) === \"string\") {\r\n            super(url, network);\r\n        } else {\r\n            super(\"_websocket\", network);\r\n        }\r\n\r\n        this._pollingInterval = -1;\r\n\r\n        this._wsReady = false;\r\n\r\n        if (typeof(url) === \"string\") {\r\n            defineReadOnly(this, \"_websocket\", new WebSocket(this.connection.url));\r\n        } else {\r\n            defineReadOnly(this, \"_websocket\", url);\r\n        }\r\n\r\n        defineReadOnly(this, \"_requests\", { });\r\n        defineReadOnly(this, \"_subs\", { });\r\n        defineReadOnly(this, \"_subIds\", { });\r\n        defineReadOnly(this, \"_detectNetwork\", super.detectNetwork());\r\n\r\n        // Stall sending requests until the socket is open...\r\n        this.websocket.onopen = () => {\r\n            this._wsReady = true;\r\n            Object.keys(this._requests).forEach((id) => {\r\n                this.websocket.send(this._requests[id].payload);\r\n            });\r\n        };\r\n\r\n        this.websocket.onmessage = (messageEvent: { data: string }) => {\r\n            const data = messageEvent.data;\r\n            const result = JSON.parse(data);\r\n            if (result.id != null) {\r\n                const id = String(result.id);\r\n                const request = this._requests[id];\r\n                delete this._requests[id];\r\n\r\n                if (result.result !== undefined) {\r\n                    request.callback(null, result.result);\r\n\r\n                    this.emit(\"debug\", {\r\n                        action: \"response\",\r\n                        request: JSON.parse(request.payload),\r\n                        response: result.result,\r\n                        provider: this\r\n                    });\r\n\r\n                } else {\r\n                    let error: Error = null;\r\n                    if (result.error) {\r\n                        error = new Error(result.error.message || \"unknown error\");\r\n                        defineReadOnly(<any>error, \"code\", result.error.code || null);\r\n                        defineReadOnly(<any>error, \"response\", data);\r\n                    } else {\r\n                        error = new Error(\"unknown error\");\r\n                    }\r\n\r\n                    request.callback(error, undefined);\r\n\r\n                    this.emit(\"debug\", {\r\n                        action: \"response\",\r\n                        error: error,\r\n                        request: JSON.parse(request.payload),\r\n                        provider: this\r\n                    });\r\n\r\n                }\r\n\r\n            } else if (result.method === \"eth_subscription\") {\r\n                // Subscription...\r\n                const sub = this._subs[result.params.subscription];\r\n                if (sub) {\r\n                    //this.emit.apply(this,                  );\r\n                    sub.processFunc(result.params.result)\r\n                }\r\n\r\n            } else {\r\n                console.warn(\"this should not happen\");\r\n            }\r\n        };\r\n\r\n        // This Provider does not actually poll, but we want to trigger\r\n        // poll events for things that depend on them (like stalling for\r\n        // block and transaction lookups)\r\n        const fauxPoll = setInterval(() => {\r\n            this.emit(\"poll\");\r\n        }, 1000);\r\n        if (fauxPoll.unref) { fauxPoll.unref(); }\r\n    }\r\n\r\n    // Cannot narrow the type of _websocket, as that is not backwards compatible\r\n    // so we add a getter and let the WebSocket be a public API.\r\n    get websocket(): WebSocketLike { return this._websocket; }\r\n\r\n    detectNetwork(): Promise<Network> {\r\n        return this._detectNetwork;\r\n    }\r\n\r\n    get pollingInterval(): number {\r\n        return 0;\r\n    }\r\n\r\n    resetEventsBlock(blockNumber: number): void {\r\n        logger.throwError(\"cannot reset events block on WebSocketProvider\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"resetEventBlock\"\r\n        });\r\n    }\r\n\r\n    set pollingInterval(value: number) {\r\n        logger.throwError(\"cannot set polling interval on WebSocketProvider\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"setPollingInterval\"\r\n        });\r\n    }\r\n\r\n    async poll(): Promise<void> {\r\n        return null;\r\n    }\r\n\r\n    set polling(value: boolean) {\r\n        if (!value) { return; }\r\n\r\n        logger.throwError(\"cannot set polling on WebSocketProvider\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n            operation: \"setPolling\"\r\n        });\r\n    }\r\n\r\n    send(method: string, params?: Array<any>): Promise<any> {\r\n        const rid = NextId++;\r\n\r\n        return new Promise((resolve, reject) => {\r\n            function callback(error: Error, result: any) {\r\n                if (error) { return reject(error); }\r\n                return resolve(result);\r\n            }\r\n\r\n            const payload = JSON.stringify({\r\n                method: method,\r\n                params: params,\r\n                id: rid,\r\n                jsonrpc: \"2.0\"\r\n            });\r\n\r\n            this.emit(\"debug\", {\r\n                action: \"request\",\r\n                request: JSON.parse(payload),\r\n                provider: this\r\n            });\r\n\r\n            this._requests[String(rid)] = { callback, payload };\r\n\r\n            if (this._wsReady) { this.websocket.send(payload); }\r\n        });\r\n    }\r\n\r\n    static defaultUrl(): string {\r\n        return \"ws:/\\/localhost:8546\";\r\n    }\r\n\r\n    async _subscribe(tag: string, param: Array<any>, processFunc: (result: any) => void): Promise<void> {\r\n        let subIdPromise = this._subIds[tag];\r\n        if (subIdPromise == null) {\r\n            subIdPromise = Promise.all(param).then((param) => {\r\n                return this.send(\"eth_subscribe\", param);\r\n            });\r\n            this._subIds[tag] = subIdPromise;\r\n        }\r\n        const subId = await subIdPromise;\r\n        this._subs[subId] = { tag, processFunc };\r\n    }\r\n\r\n    _startEvent(event: Event): void {\r\n        switch (event.type) {\r\n            case \"block\":\r\n                this._subscribe(\"block\", [ \"newHeads\" ], (result: any) => {\r\n                    const blockNumber = BigNumber.from(result.number).toNumber();\r\n                    this._emitted.block = blockNumber;\r\n                    this.emit(\"block\", blockNumber);\r\n                });\r\n                break;\r\n\r\n            case \"pending\":\r\n                this._subscribe(\"pending\", [ \"newPendingTransactions\" ], (result: any) => {\r\n                    this.emit(\"pending\", result);\r\n                });\r\n                break;\r\n\r\n            case \"filter\":\r\n                this._subscribe(event.tag, [ \"logs\", this._getFilter(event.filter) ], (result: any) => {\r\n                    if (result.removed == null) { result.removed = false; }\r\n                    this.emit(event.filter, this.formatter.filterLog(result));\r\n                });\r\n                break;\r\n\r\n            case \"tx\": {\r\n                const emitReceipt = (event: Event) => {\r\n                    const hash = event.hash;\r\n                    this.getTransactionReceipt(hash).then((receipt) => {\r\n                        if (!receipt) { return; }\r\n                        this.emit(hash, receipt);\r\n                    });\r\n                };\r\n\r\n                // In case it is already mined\r\n                emitReceipt(event);\r\n\r\n                // To keep things simple, we start up a single newHeads subscription\r\n                // to keep an eye out for transactions we are watching for.\r\n                // Starting a subscription for an event (i.e. \"tx\") that is already\r\n                // running is (basically) a nop.\r\n                this._subscribe(\"tx\", [ \"newHeads\" ], (result: any) => {\r\n                    this._events.filter((e) => (e.type === \"tx\")).forEach(emitReceipt);\r\n                });\r\n                break;\r\n            }\r\n\r\n            // Nothing is needed\r\n            case \"debug\":\r\n            case \"poll\":\r\n            case \"willPoll\":\r\n            case \"didPoll\":\r\n            case \"error\":\r\n                break;\r\n\r\n            default:\r\n                console.log(\"unhandled:\", event);\r\n                break;\r\n        }\r\n    }\r\n\r\n    _stopEvent(event: Event): void {\r\n        let tag = event.tag;\r\n\r\n        if (event.type === \"tx\") {\r\n            // There are remaining transaction event listeners\r\n            if (this._events.filter((e) => (e.type === \"tx\")).length) {\r\n                return;\r\n            }\r\n            tag = \"tx\";\r\n        } else if (this.listenerCount(event.event)) {\r\n            // There are remaining event listeners\r\n            return;\r\n        }\r\n\r\n        const subId = this._subIds[tag];\r\n        if (!subId) { return; }\r\n\r\n       delete this._subIds[tag];\r\n       subId.then((subId) => {\r\n            if (!this._subs[subId]) { return; }\r\n            delete this._subs[subId];\r\n            this.send(\"eth_unsubscribe\", [ subId ]);\r\n        });\r\n    }\r\n\r\n    async destroy(): Promise<void> {\r\n        // Wait until we have connected before trying to disconnect\r\n        if (this.websocket.readyState === WebSocket.CONNECTING) {\r\n            await (new Promise((resolve) => {\r\n                this.websocket.onopen = function() {\r\n                    resolve(true);\r\n                };\r\n\r\n                this.websocket.onerror = function() {\r\n                    resolve(false);\r\n                };\r\n            }));\r\n        }\r\n\r\n        // Hangup\r\n        // See: https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\r\n        this.websocket.close(1000);\r\n    }\r\n}\r\n", "\r\n\"use strict\";\r\n\r\nimport { Network, Networkish } from \"@ethersproject/networks\";\r\nimport { defineReadOnly, getStatic } from \"@ethersproject/properties\";\r\nimport { ConnectionInfo } from \"@ethersproject/web\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { CommunityResourcable } from \"./formatter\";\r\nimport { JsonRpcProvider, JsonRpcSigner } from \"./json-rpc-provider\";\r\n\r\ntype getUrlFunc = (network: Network, apiKey: string) => string | ConnectionInfo;\r\n\r\n// A StaticJsonRpcProvider is useful when you *know* for certain that\r\n// the backend will never change, as it never calls eth_chainId to\r\n// verify its backend. However, if the backend does change, the effects\r\n// are undefined and may include:\r\n// - inconsistent results\r\n// - locking up the UI\r\n// - block skew warnings\r\n// - wrong results\r\n// If the network is not explicit (i.e. auto-detection is expected), the\r\n// node MUST be running and available to respond to requests BEFORE this\r\n// is instantiated.\r\nexport class StaticJsonRpcProvider extends JsonRpcProvider {\r\n    async detectNetwork(): Promise<Network> {\r\n        let network = this.network;\r\n        if (network == null) {\r\n            network = await super.detectNetwork();\r\n\r\n            if (!network) {\r\n                logger.throwError(\"no network detected\", Logger.errors.UNKNOWN_ERROR, { });\r\n            }\r\n\r\n            // If still not set, set it\r\n            if (this._network == null) {\r\n                // A static network does not support \"any\"\r\n                defineReadOnly(this, \"_network\", network);\r\n\r\n                this.emit(\"network\", network, null);\r\n            }\r\n        }\r\n        return network;\r\n    }\r\n}\r\n\r\nexport abstract class UrlJsonRpcProvider extends StaticJsonRpcProvider implements CommunityResourcable {\r\n    readonly apiKey: any;\r\n\r\n    constructor(network?: Networkish, apiKey?: any) {\r\n        logger.checkAbstract(new.target, UrlJsonRpcProvider);\r\n\r\n        // Normalize the Network and API Key\r\n        network = getStatic<(network: Networkish) => Network>(new.target, \"getNetwork\")(network);\r\n        apiKey = getStatic<(apiKey: string) => string>(new.target, \"getApiKey\")(apiKey);\r\n\r\n        const connection = getStatic<getUrlFunc>(new.target, \"getUrl\")(network, apiKey);\r\n\r\n        super(connection, network);\r\n\r\n        if (typeof(apiKey) === \"string\") {\r\n            defineReadOnly(this, \"apiKey\", apiKey);\r\n        } else if (apiKey != null) {\r\n            Object.keys(apiKey).forEach((key) => {\r\n                defineReadOnly<any, any>(this, key, apiKey[key]);\r\n            });\r\n        }\r\n    }\r\n\r\n    _startPending(): void {\r\n        logger.warn(\"WARNING: API provider does not support pending filters\");\r\n    }\r\n\r\n    isCommunityResource(): boolean {\r\n        return false;\r\n    }\r\n\r\n    getSigner(address?: string): JsonRpcSigner {\r\n        return logger.throwError(\r\n            \"API provider does not support signing\",\r\n            Logger.errors.UNSUPPORTED_OPERATION,\r\n            { operation: \"getSigner\" }\r\n        );\r\n    }\r\n\r\n    listAccounts(): Promise<Array<string>> {\r\n        return Promise.resolve([]);\r\n    }\r\n\r\n    // Return a defaultApiKey if null, otherwise validate the API key\r\n    static getApiKey(apiKey: any): any {\r\n        return apiKey;\r\n    }\r\n\r\n    // Returns the url or connection for the given network and API key. The\r\n    // API key will have been sanitized by the getApiKey first, so any validation\r\n    // or transformations can be done there.\r\n    static getUrl(network: Network, apiKey: any): string | ConnectionInfo {\r\n        return logger.throwError(\"not implemented; sub-classes must override getUrl\", Logger.errors.NOT_IMPLEMENTED, {\r\n            operation: \"getUrl\"\r\n        });\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nimport { Network, Networkish } from \"@ethersproject/networks\";\r\nimport { defineReadOnly } from \"@ethersproject/properties\";\r\nimport { ConnectionInfo } from \"@ethersproject/web\";\r\n\r\nimport { CommunityResourcable, showThrottleMessage } from \"./formatter\";\r\nimport { WebSocketProvider } from \"./websocket-provider\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\r\n\r\n// This key was provided to ethers.js by Alchemy to be used by the\r\n// default provider, but it is recommended that for your own\r\n// production environments, that you acquire your own API key at:\r\n//   https://dashboard.alchemyapi.io\r\n\r\nconst defaultApiKey = \"_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC\"\r\n\r\nexport class AlchemyWebSocketProvider extends WebSocketProvider implements CommunityResourcable {\r\n    readonly apiKey: string;\r\n\r\n    constructor(network?: Networkish, apiKey?: any) {\r\n        const provider = new AlchemyProvider(network, apiKey);\r\n\r\n        const url = provider.connection.url.replace(/^http/i, \"ws\")\r\n                                           .replace(\".alchemyapi.\", \".ws.alchemyapi.\");\r\n\r\n        super(url, provider.network);\r\n        defineReadOnly(this, \"apiKey\", provider.apiKey);\r\n    }\r\n\r\n    isCommunityResource(): boolean {\r\n        return (this.apiKey === defaultApiKey);\r\n    }\r\n}\r\n\r\nexport class AlchemyProvider extends UrlJsonRpcProvider {\r\n\r\n    static getWebSocketProvider(network?: Networkish, apiKey?: any): AlchemyWebSocketProvider {\r\n        return new AlchemyWebSocketProvider(network, apiKey);\r\n    }\r\n\r\n    static getApiKey(apiKey: any): any {\r\n        if (apiKey == null) { return defaultApiKey; }\r\n        if (apiKey && typeof(apiKey) !== \"string\") {\r\n            logger.throwArgumentError(\"invalid apiKey\", \"apiKey\", apiKey);\r\n        }\r\n        return apiKey;\r\n    }\r\n\r\n    static getUrl(network: Network, apiKey: string): ConnectionInfo {\r\n        let host = null;\r\n        switch (network.name) {\r\n            case \"homestead\":\r\n                host = \"eth-mainnet.alchemyapi.io/v2/\";\r\n                break;\r\n            case \"goerli\":\r\n                host = \"eth-goerli.g.alchemy.com/v2/\";\r\n                break;\r\n            case \"matic\":\r\n                host = \"polygon-mainnet.g.alchemy.com/v2/\";\r\n                break;\r\n            case \"maticmum\":\r\n                host = \"polygon-mumbai.g.alchemy.com/v2/\";\r\n                break;\r\n            case \"arbitrum\":\r\n                host = \"arb-mainnet.g.alchemy.com/v2/\";\r\n                break;\r\n            case \"arbitrum-goerli\":\r\n                host = \"arb-goerli.g.alchemy.com/v2/\";\r\n                break;\r\n            case \"optimism\":\r\n                host = \"opt-mainnet.g.alchemy.com/v2/\";\r\n                break;\r\n            case \"optimism-goerli\":\r\n                host = \"opt-goerli.g.alchemy.com/v2/\"\r\n                break;\r\n            default:\r\n               logger.throwArgumentError(\"unsupported network\", \"network\", arguments[0]);\r\n        }\r\n\r\n        return {\r\n            allowGzip: true,\r\n            url: (\"https:/\" + \"/\" + host + apiKey),\r\n            throttleCallback: (attempt: number, url: string) => {\r\n                if (apiKey === defaultApiKey) {\r\n                    showThrottleMessage();\r\n                }\r\n                return Promise.resolve(true);\r\n            }\r\n        };\r\n    }\r\n\r\n    isCommunityResource(): boolean {\r\n        return (this.apiKey === defaultApiKey);\r\n    }\r\n}\r\n", "\r\nimport { Network } from \"@ethersproject/networks\";\r\n\r\nimport { showThrottleMessage } from \"./formatter\";\r\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\r\n\r\nimport type { ConnectionInfo } from \"@ethersproject/web\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n\r\nconst defaultApiKey = \"9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972\";\r\n\r\nfunction getHost(name: string): string {\r\n    switch (name) {\r\n        case \"homestead\":\r\n            return \"rpc.ankr.com/eth/\";\r\n        case \"ropsten\":\r\n            return \"rpc.ankr.com/eth_ropsten/\";\r\n        case \"rinkeby\":\r\n            return \"rpc.ankr.com/eth_rinkeby/\";\r\n        case \"goerli\":\r\n            return \"rpc.ankr.com/eth_goerli/\";\r\n\r\n        case \"matic\":\r\n            return \"rpc.ankr.com/polygon/\";\r\n\r\n        case \"arbitrum\":\r\n            return \"rpc.ankr.com/arbitrum/\";\r\n    }\r\n    return logger.throwArgumentError(\"unsupported network\", \"name\", name);\r\n}\r\n\r\nexport class AnkrProvider extends UrlJsonRpcProvider {\r\n    readonly apiKey: string;\r\n\r\n    isCommunityResource(): boolean {\r\n        return (this.apiKey === defaultApiKey);\r\n    }\r\n\r\n    static getApiKey(apiKey: any): any {\r\n        if (apiKey == null) { return defaultApiKey; }\r\n        return apiKey;\r\n    }\r\n\r\n    static getUrl(network: Network, apiKey: any): ConnectionInfo {\r\n        if (apiKey == null) { apiKey = defaultApiKey; }\r\n        const connection: ConnectionInfo = {\r\n            allowGzip: true,\r\n            url: (\"https:/\\/\" + getHost(network.name) + apiKey),\r\n            throttleCallback: (attempt: number, url: string) => {\r\n                if (apiKey.apiKey === defaultApiKey) {\r\n                    showThrottleMessage();\r\n                }\r\n                return Promise.resolve(true);\r\n            }\r\n        };\r\n\r\n        if (apiKey.projectSecret != null) {\r\n            connection.user = \"\";\r\n            connection.password = apiKey.projectSecret\r\n        }\r\n\r\n        return connection;\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nimport { Network } from \"@ethersproject/networks\";\r\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nexport class CloudflareProvider extends UrlJsonRpcProvider {\r\n\r\n    static getApiKey(apiKey: any): any {\r\n        if (apiKey != null) {\r\n            logger.throwArgumentError(\"apiKey not supported for cloudflare\", \"apiKey\", apiKey);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static getUrl(network: Network, apiKey?: any): string {\r\n        let host = null;\r\n        switch (network.name) {\r\n            case \"homestead\":\r\n                host = \"https://cloudflare-eth.com/\";\r\n                break;\r\n            default:\r\n               logger.throwArgumentError(\"unsupported network\", \"network\", arguments[0]);\r\n        }\r\n\r\n        return host;\r\n    }\r\n\r\n    async perform(method: string, params: any): Promise<any> {\r\n        // The Cloudflare provider does not support eth_blockNumber,\r\n        // so we get the latest block and pull it from that\r\n        if (method === \"getBlockNumber\") {\r\n            const block = await super.perform(\"getBlock\", { blockTag: \"latest\" });\r\n            return block.number;\r\n        }\r\n\r\n        return super.perform(method, params);\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nimport { BlockTag, TransactionRequest, TransactionResponse } from \"@ethersproject/abstract-provider\";\r\nimport { hexlify, hexValue, isHexString } from \"@ethersproject/bytes\";\r\nimport { Network, Networkish } from \"@ethersproject/networks\";\r\nimport { deepCopy, defineReadOnly } from \"@ethersproject/properties\";\r\nimport { accessListify } from \"@ethersproject/transactions\";\r\nimport { ConnectionInfo, fetchJson } from \"@ethersproject/web\";\r\n\r\nimport { showThrottleMessage } from \"./formatter\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { BaseProvider } from \"./base-provider\";\r\n\r\n\r\n// The transaction has already been sanitized by the calls in Provider\r\nfunction getTransactionPostData(transaction: TransactionRequest): Record<string, string> {\r\n    const result: Record<string, string> = { };\r\n    for (let key in transaction) {\r\n        if ((<any>transaction)[key] == null) { continue; }\r\n        let value = (<any>transaction)[key];\r\n        if (key === \"type\" && value === 0) { continue; }\r\n\r\n        // Quantity-types require no leading zero, unless 0\r\n        if ((<any>{ type: true, gasLimit: true, gasPrice: true, maxFeePerGs: true, maxPriorityFeePerGas: true, nonce: true, value: true })[key]) {\r\n            value = hexValue(hexlify(value));\r\n        } else if (key === \"accessList\") {\r\n            value = \"[\" + accessListify(value).map((set) => {\r\n                return `{address:\"${ set.address }\",storageKeys:[\"${ set.storageKeys.join('\",\"') }\"]}`;\r\n            }).join(\",\") + \"]\";\r\n        } else {\r\n            value = hexlify(value);\r\n        }\r\n        result[key] = value;\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction getResult(result: { status?: number, message?: string, result?: any }): any {\r\n    // getLogs, getHistory have weird success responses\r\n    if (result.status == 0 && (result.message === \"No records found\" || result.message === \"No transactions found\")) {\r\n        return result.result;\r\n    }\r\n\r\n    if (result.status != 1 || typeof(result.message) !== \"string\" || !result.message.match(/^OK/)) {\r\n        const error: any = new Error(\"invalid response\");\r\n        error.result = JSON.stringify(result);\r\n        if ((result.result || \"\").toLowerCase().indexOf(\"rate limit\") >= 0) {\r\n            error.throttleRetry = true;\r\n        }\r\n        throw error;\r\n    }\r\n\r\n    return result.result;\r\n}\r\n\r\nfunction getJsonResult(result: { jsonrpc: string, result?: any, error?: { code?: number, data?: any, message?: string} } ): any {\r\n    // This response indicates we are being throttled\r\n    if (result && (<any>result).status == 0 && (<any>result).message == \"NOTOK\" && (result.result || \"\").toLowerCase().indexOf(\"rate limit\") >= 0) {\r\n        const error: any = new Error(\"throttled response\");\r\n        error.result = JSON.stringify(result);\r\n        error.throttleRetry = true;\r\n        throw error;\r\n    }\r\n\r\n    if (result.jsonrpc != \"2.0\") {\r\n        // @TODO: not any\r\n        const error: any = new Error(\"invalid response\");\r\n        error.result = JSON.stringify(result);\r\n        throw error;\r\n    }\r\n\r\n    if (result.error) {\r\n        // @TODO: not any\r\n        const error: any = new Error(result.error.message || \"unknown error\");\r\n        if (result.error.code) { error.code = result.error.code; }\r\n        if (result.error.data) { error.data = result.error.data; }\r\n        throw error;\r\n    }\r\n\r\n    return result.result;\r\n}\r\n\r\n// The blockTag was normalized as a string by the Provider pre-perform operations\r\nfunction checkLogTag(blockTag: string): number | \"latest\" {\r\n    if (blockTag === \"pending\") { throw new Error(\"pending not supported\"); }\r\n    if (blockTag === \"latest\") { return blockTag; }\r\n\r\n    return parseInt(blockTag.substring(2), 16);\r\n}\r\n\r\n\r\nfunction checkError(method: string, error: any, transaction: any): any {\r\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\r\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\r\n    if (method === \"call\" && error.code === Logger.errors.SERVER_ERROR) {\r\n        const e = error.error;\r\n\r\n        // Etherscan keeps changing their string\r\n        if (e && (e.message.match(/reverted/i) || e.message.match(/VM execution error/i))) {\r\n            // Etherscan prefixes the data like \"Reverted 0x1234\"\r\n            let data = e.data;\r\n            if (data) { data = \"0x\" + data.replace(/^.*0x/i, \"\"); }\r\n\r\n            if (isHexString(data)) { return data; }\r\n\r\n            logger.throwError(\"missing revert data in call exception\", Logger.errors.CALL_EXCEPTION, {\r\n                error, data: \"0x\"\r\n            });\r\n        }\r\n    }\r\n\r\n    // Get the message from any nested error structure\r\n    let message = error.message;\r\n    if (error.code === Logger.errors.SERVER_ERROR) {\r\n        if (error.error && typeof(error.error.message) === \"string\") {\r\n            message = error.error.message;\r\n        } else if (typeof(error.body) === \"string\") {\r\n            message = error.body;\r\n        } else if (typeof(error.responseText) === \"string\") {\r\n            message = error.responseText;\r\n        }\r\n    }\r\n    message = (message || \"\").toLowerCase();\r\n\r\n    // \"Insufficient funds. The account you tried to send transaction from does not have enough funds. Required 21464000000000 and got: 0\"\r\n    if (message.match(/insufficient funds/)) {\r\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", Logger.errors.INSUFFICIENT_FUNDS, {\r\n           error, method, transaction\r\n        });\r\n    }\r\n\r\n    // \"Transaction with the same hash was already imported.\"\r\n    if (message.match(/same hash was already imported|transaction nonce is too low|nonce too low/)) {\r\n        logger.throwError(\"nonce has already been used\", Logger.errors.NONCE_EXPIRED, {\r\n           error, method, transaction\r\n        });\r\n    }\r\n\r\n    // \"Transaction gas price is too low. There is another transaction with same nonce in the queue. Try increasing the gas price or incrementing the nonce.\"\r\n    if (message.match(/another transaction with same nonce/)) {\r\n         logger.throwError(\"replacement fee too low\", Logger.errors.REPLACEMENT_UNDERPRICED, {\r\n            error, method, transaction\r\n         });\r\n    }\r\n\r\n    if (message.match(/execution failed due to an exception|execution reverted/)) {\r\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\r\n            error, method, transaction\r\n        });\r\n    }\r\n\r\n    throw error;\r\n}\r\n\r\nexport class EtherscanProvider extends BaseProvider{\r\n    readonly baseUrl: string;\r\n    readonly apiKey: string | null;\r\n\r\n    constructor(network?: Networkish, apiKey?: string) {\r\n        super(network);\r\n\r\n        defineReadOnly(this, \"baseUrl\", this.getBaseUrl());\r\n        defineReadOnly(this, \"apiKey\", apiKey || null);\r\n    }\r\n\r\n    getBaseUrl(): string {\r\n        switch(this.network ? this.network.name: \"invalid\") {\r\n            case \"homestead\":\r\n                return \"https:/\\/api.etherscan.io\";\r\n            case \"goerli\":\r\n                return \"https:/\\/api-goerli.etherscan.io\";\r\n            case \"sepolia\":\r\n                return \"https:/\\/api-sepolia.etherscan.io\";\r\n            case \"matic\":\r\n                return \"https:/\\/api.polygonscan.com\";\r\n            case \"maticmum\":\r\n                return \"https:/\\/api-testnet.polygonscan.com\";\r\n            case \"arbitrum\":\r\n                return \"https:/\\/api.arbiscan.io\";\r\n            case \"arbitrum-goerli\":\r\n                return \"https:/\\/api-goerli.arbiscan.io\";\r\n            case \"optimism\":\r\n                return \"https:/\\/api-optimistic.etherscan.io\";\r\n            case \"optimism-goerli\":\r\n                return \"https:/\\/api-goerli-optimistic.etherscan.io\";\r\n            default:\r\n        }\r\n\r\n        return logger.throwArgumentError(\"unsupported network\", \"network\", this.network.name);\r\n    }\r\n\r\n    getUrl(module: string, params: Record<string, string>): string {\r\n        const query = Object.keys(params).reduce((accum, key) => {\r\n            const value = params[key];\r\n            if (value != null) {\r\n                accum += `&${ key }=${ value }`\r\n            }\r\n            return accum\r\n        }, \"\");\r\n        const apiKey = ((this.apiKey) ? `&apikey=${ this.apiKey }`: \"\");\r\n        return `${ this.baseUrl }/api?module=${ module }${ query }${ apiKey }`;\r\n    }\r\n\r\n    getPostUrl(): string {\r\n        return `${ this.baseUrl }/api`;\r\n    }\r\n\r\n    getPostData(module: string, params: Record<string, any>): Record<string, any> {\r\n        params.module = module;\r\n        params.apikey = this.apiKey;\r\n        return params;\r\n    }\r\n\r\n    async fetch(module: string, params: Record<string, any>, post?: boolean): Promise<any> {\r\n        const url = (post ? this.getPostUrl(): this.getUrl(module, params));\r\n        const payload = (post ? this.getPostData(module, params): null);\r\n        const procFunc = (module === \"proxy\") ? getJsonResult: getResult;\r\n\r\n        this.emit(\"debug\", {\r\n            action: \"request\",\r\n            request: url,\r\n            provider: this\r\n        });\r\n\r\n        const connection: ConnectionInfo = {\r\n            url: url,\r\n            throttleSlotInterval: 1000,\r\n            throttleCallback: (attempt: number, url: string) => {\r\n                if (this.isCommunityResource()) {\r\n                    showThrottleMessage();\r\n                }\r\n                return Promise.resolve(true);\r\n            }\r\n        };\r\n\r\n        let payloadStr: string = null;\r\n        if (payload) {\r\n            connection.headers = { \"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\" };\r\n            payloadStr = Object.keys(payload).map((key) => {\r\n                return `${ key }=${ payload[key] }`\r\n            }).join(\"&\");\r\n        }\r\n\r\n        const result = await fetchJson(connection, payloadStr, procFunc || getJsonResult);\r\n\r\n        this.emit(\"debug\", {\r\n            action: \"response\",\r\n            request: url,\r\n            response: deepCopy(result),\r\n            provider: this\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    async detectNetwork(): Promise<Network> {\r\n        return this.network;\r\n    }\r\n\r\n    async perform(method: string, params: any): Promise<any> {\r\n\r\n        switch (method) {\r\n            case \"getBlockNumber\":\r\n                return this.fetch(\"proxy\", { action: \"eth_blockNumber\" });\r\n\r\n            case \"getGasPrice\":\r\n                return this.fetch(\"proxy\", { action: \"eth_gasPrice\" });\r\n\r\n            case \"getBalance\":\r\n                // Returns base-10 result\r\n                return this.fetch(\"account\", {\r\n                    action: \"balance\",\r\n                    address: params.address,\r\n                    tag: params.blockTag\r\n                });\r\n\r\n            case \"getTransactionCount\":\r\n                return this.fetch(\"proxy\", {\r\n                    action: \"eth_getTransactionCount\",\r\n                    address: params.address,\r\n                    tag: params.blockTag\r\n                });\r\n\r\n            case \"getCode\":\r\n                return this.fetch(\"proxy\", {\r\n                    action: \"eth_getCode\",\r\n                    address: params.address,\r\n                    tag: params.blockTag\r\n                });\r\n\r\n            case \"getStorageAt\":\r\n                return this.fetch(\"proxy\", {\r\n                    action: \"eth_getStorageAt\",\r\n                    address: params.address,\r\n                    position: params.position,\r\n                    tag: params.blockTag\r\n                });\r\n\r\n            case \"sendTransaction\":\r\n                return this.fetch(\"proxy\", {\r\n                    action: \"eth_sendRawTransaction\",\r\n                    hex: params.signedTransaction\r\n                }, true).catch((error) => {\r\n                    return checkError(\"sendTransaction\", error, params.signedTransaction);\r\n                });\r\n\r\n            case \"getBlock\":\r\n                if (params.blockTag) {\r\n                    return this.fetch(\"proxy\", {\r\n                        action: \"eth_getBlockByNumber\",\r\n                        tag: params.blockTag,\r\n                        boolean: (params.includeTransactions ? \"true\": \"false\")\r\n                    });\r\n                }\r\n                throw new Error(\"getBlock by blockHash not implemented\");\r\n\r\n            case \"getTransaction\":\r\n                return this.fetch(\"proxy\", {\r\n                    action: \"eth_getTransactionByHash\",\r\n                    txhash: params.transactionHash\r\n                });\r\n\r\n            case \"getTransactionReceipt\":\r\n                return this.fetch(\"proxy\", {\r\n                    action: \"eth_getTransactionReceipt\",\r\n                    txhash: params.transactionHash\r\n                });\r\n\r\n            case \"call\": {\r\n                if (params.blockTag !== \"latest\") {\r\n                    throw new Error(\"EtherscanProvider does not support blockTag for call\");\r\n                }\r\n\r\n                const postData = getTransactionPostData(params.transaction);\r\n                postData.module = \"proxy\";\r\n                postData.action = \"eth_call\";\r\n\r\n                try {\r\n                    return await this.fetch(\"proxy\", postData, true);\r\n                } catch (error) {\r\n                    return checkError(\"call\", error, params.transaction);\r\n                }\r\n            }\r\n\r\n            case \"estimateGas\": {\r\n                const postData = getTransactionPostData(params.transaction);\r\n                postData.module = \"proxy\";\r\n                postData.action = \"eth_estimateGas\";\r\n\r\n                try {\r\n                    return await this.fetch(\"proxy\", postData, true);\r\n                } catch (error) {\r\n                    return checkError(\"estimateGas\", error, params.transaction);\r\n                }\r\n            }\r\n\r\n            case \"getLogs\": {\r\n                const args: Record<string, any> = { action: \"getLogs\" }\r\n\r\n                if (params.filter.fromBlock) {\r\n                    args.fromBlock = checkLogTag(params.filter.fromBlock);\r\n                }\r\n\r\n                if (params.filter.toBlock) {\r\n                    args.toBlock = checkLogTag(params.filter.toBlock);\r\n                }\r\n\r\n                if (params.filter.address) {\r\n                    args.address = params.filter.address;\r\n                }\r\n\r\n                // @TODO: We can handle slightly more complicated logs using the logs API\r\n                if (params.filter.topics && params.filter.topics.length > 0) {\r\n                    if (params.filter.topics.length > 1) {\r\n                        logger.throwError(\"unsupported topic count\", Logger.errors.UNSUPPORTED_OPERATION, { topics: params.filter.topics });\r\n                    }\r\n\r\n                    if (params.filter.topics.length === 1) {\r\n                        const topic0 = params.filter.topics[0];\r\n                        if (typeof(topic0) !== \"string\" || topic0.length !== 66) {\r\n                            logger.throwError(\"unsupported topic format\", Logger.errors.UNSUPPORTED_OPERATION, { topic0: topic0 });\r\n                        }\r\n                        args.topic0 = topic0;\r\n                    }\r\n                }\r\n\r\n                const logs: Array<any> = await this.fetch(\"logs\", args);\r\n\r\n                // Cache txHash => blockHash\r\n                let blocks: { [tag: string]: string } = {};\r\n\r\n                // Add any missing blockHash to the logs\r\n                for (let i = 0; i < logs.length; i++) {\r\n                    const log = logs[i];\r\n                    if (log.blockHash != null) { continue; }\r\n                    if (blocks[log.blockNumber] == null) {\r\n                        const block = await this.getBlock(log.blockNumber);\r\n                        if (block) {\r\n                            blocks[log.blockNumber] = block.hash;\r\n                        }\r\n                    }\r\n                    log.blockHash = blocks[log.blockNumber];\r\n                }\r\n\r\n                return logs;\r\n            }\r\n\r\n            case \"getEtherPrice\":\r\n                if (this.network.name !== \"homestead\") { return 0.0; }\r\n                return parseFloat((await this.fetch(\"stats\", { action: \"ethprice\" })).ethusd);\r\n\r\n            default:\r\n                break;\r\n         }\r\n\r\n        return super.perform(method, params);\r\n    }\r\n\r\n    // Note: The `page` page parameter only allows pagination within the\r\n    //       10,000 window available without a page and offset parameter\r\n    //       Error: Result window is too large, PageNo x Offset size must\r\n    //              be less than or equal to 10000\r\n    async getHistory(addressOrName: string | Promise<string>, startBlock?: BlockTag, endBlock?: BlockTag): Promise<Array<TransactionResponse>> {\r\n        const params = {\r\n            action: \"txlist\",\r\n            address: (await this.resolveName(addressOrName)),\r\n            startblock: ((startBlock == null) ? 0: startBlock),\r\n            endblock: ((endBlock == null) ? 99999999: endBlock),\r\n            sort: \"asc\"\r\n        };\r\n\r\n        const result = await this.fetch(\"account\", params);\r\n\r\n        return result.map((tx: any) => {\r\n            [\"contractAddress\", \"to\"].forEach(function(key) {\r\n                if (tx[key] == \"\") { delete tx[key]; }\r\n            });\r\n            if (tx.creates == null && tx.contractAddress != null) {\r\n                tx.creates = tx.contractAddress;\r\n            }\r\n            const item = this.formatter.transactionResponse(tx);\r\n            if (tx.timeStamp) { item.timestamp = parseInt(tx.timeStamp); }\r\n            return item;\r\n        });\r\n    }\r\n\r\n    isCommunityResource(): boolean {\r\n        return (this.apiKey == null);\r\n    }\r\n}\r\n", "export const version = \"random/5.7.0\";\r\n", "\"use strict\";\r\n\r\nimport { arrayify } from \"@ethersproject/bytes\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n// Debugging line for testing browser lib in node\r\n//const window = { crypto: { getRandomValues: () => { } } };\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis\r\nfunction getGlobal(): any {\r\n  if (typeof self !== 'undefined') { return self; }\r\n  if (typeof window !== 'undefined') { return window; }\r\n  if (typeof global !== 'undefined') { return global; }\r\n  throw new Error('unable to locate global object');\r\n};\r\n\r\nconst anyGlobal = getGlobal();\r\n\r\nlet crypto: any = anyGlobal.crypto || anyGlobal.msCrypto;\r\nif (!crypto || !crypto.getRandomValues) {\r\n\r\n    logger.warn(\"WARNING: Missing strong random number source\");\r\n\r\n    crypto = {\r\n        getRandomValues: function(buffer: Uint8Array): Uint8Array {\r\n            return logger.throwError(\"no secure random source avaialble\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"crypto.getRandomValues\"\r\n            });\r\n        }\r\n    };\r\n}\r\n\r\nexport function randomBytes(length: number): Uint8Array {\r\n    if (length <= 0 || length > 1024 || (length % 1) || length != length) {\r\n        logger.throwArgumentError(\"invalid length\", \"length\", length);\r\n    }\r\n\r\n    const result = new Uint8Array(length);\r\n    crypto.getRandomValues(result);\r\n    return arrayify(result);\r\n};\r\n", "\"use strict\";\r\n\r\nexport function shuffled(array: Array<any>): Array<any> {\r\n    array = array.slice();\r\n\r\n    for (let i = array.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        const tmp = array[i];\r\n        array[i] = array[j];\r\n        array[j] = tmp;\r\n    }\r\n\r\n    return array;\r\n}\r\n", "\"use strict\";\r\n\r\nexport { randomBytes } from \"./random\";\r\nexport { shuffled } from \"./shuffle\";\r\n", "\"use strict\";\r\n\r\nimport { Block, BlockWithTransactions, Provider } from \"@ethersproject/abstract-provider\";\r\nimport { BigNumber } from \"@ethersproject/bignumber\";\r\nimport { isHexString } from \"@ethersproject/bytes\";\r\nimport { Network } from \"@ethersproject/networks\";\r\nimport { deepCopy, defineReadOnly, shallowCopy } from \"@ethersproject/properties\";\r\nimport { shuffled } from \"@ethersproject/random\";\r\nimport { poll } from \"@ethersproject/web\";\r\n\r\nimport { BaseProvider } from \"./base-provider\";\r\nimport { isCommunityResource } from \"./formatter\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nfunction now() { return (new Date()).getTime(); }\r\n\r\n// Returns to network as long as all agree, or null if any is null.\r\n// Throws an error if any two networks do not match.\r\nfunction checkNetworks(networks: Array<Network>): Network {\r\n    let result = null;\r\n\r\n    for (let i = 0; i < networks.length; i++) {\r\n        const network = networks[i];\r\n\r\n        // Null! We do not know our network; bail.\r\n        if (network == null) { return null; }\r\n\r\n        if (result) {\r\n            // Make sure the network matches the previous networks\r\n            if (!(result.name === network.name && result.chainId === network.chainId &&\r\n                ((result.ensAddress === network.ensAddress) || (result.ensAddress == null && network.ensAddress == null)))) {\r\n\r\n                logger.throwArgumentError(\"provider mismatch\", \"networks\", networks);\r\n           }\r\n        } else {\r\n            result = network;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction median(values: Array<number>, maxDelta?: number): number {\r\n    values = values.slice().sort();\r\n    const middle = Math.floor(values.length / 2);\r\n\r\n    // Odd length; take the middle\r\n    if (values.length % 2) {\r\n        return values[middle];\r\n    }\r\n\r\n    // Even length; take the average of the two middle\r\n    const a = values[middle - 1], b = values[middle];\r\n\r\n    if (maxDelta != null && Math.abs(a - b) > maxDelta) {\r\n        return null;\r\n    }\r\n\r\n    return (a + b) / 2;\r\n}\r\n\r\nfunction serialize(value: any): string {\r\n    if (value === null) {\r\n        return \"null\";\r\n    } else if (typeof(value) === \"number\" || typeof(value) === \"boolean\") {\r\n        return JSON.stringify(value);\r\n    } else if (typeof(value) === \"string\") {\r\n        return value;\r\n    } else if (BigNumber.isBigNumber(value)) {\r\n        return value.toString();\r\n    } else if (Array.isArray(value)) {\r\n        return JSON.stringify(value.map((i) => serialize(i)));\r\n    } else if (typeof(value) === \"object\") {\r\n        const keys = Object.keys(value);\r\n        keys.sort();\r\n        return \"{\" + keys.map((key) => {\r\n            let v = value[key];\r\n            if (typeof(v) === \"function\") {\r\n                v = \"[function]\";\r\n            } else {\r\n                v = serialize(v);\r\n            }\r\n            return JSON.stringify(key) + \":\" + v;\r\n        }).join(\",\") + \"}\";\r\n    }\r\n\r\n    throw new Error(\"unknown value type: \" + typeof(value));\r\n}\r\n\r\n// Next request ID to use for emitting debug info\r\nlet nextRid = 1;\r\n\r\n\r\nexport interface FallbackProviderConfig {\r\n    // The Provider\r\n    provider: Provider;\r\n\r\n    // The priority to favour this Provider; lower values are used first (higher priority)\r\n    priority?: number;\r\n\r\n    // Timeout before also triggering the next provider; this does not stop\r\n    // this provider and if its result comes back before a quorum is reached\r\n    // it will be incorporated into the vote\r\n    // - lower values will cause more network traffic but may result in a\r\n    //   faster result.\r\n    stallTimeout?: number;\r\n\r\n    // How much this provider contributes to the quorum; sometimes a specific\r\n    // provider may be more reliable or trustworthy than others, but usually\r\n    // this should be left as the default\r\n    weight?: number;\r\n};\r\n\r\n// A Staller is used to provide a delay to give a Provider a chance to response\r\n// before asking the next Provider to try.\r\ntype Staller = {\r\n    wait: (func: () => void) => Promise<void>\r\n    getPromise: () => Promise<void>,\r\n    cancel: () => void\r\n};\r\n\r\nfunction stall(duration: number): Staller {\r\n    let cancel: () => void = null;\r\n\r\n    let timer: NodeJS.Timer = null;\r\n    let promise = <Promise<void>>(new Promise((resolve) => {\r\n        cancel = function() {\r\n            if (timer) {\r\n                clearTimeout(timer);\r\n                timer = null;\r\n            }\r\n            resolve();\r\n        }\r\n        timer = setTimeout(cancel, duration);\r\n    }));\r\n\r\n    const wait = (func: () => void) => {\r\n        promise = promise.then(func);\r\n        return promise;\r\n    }\r\n\r\n    function getPromise(): Promise<void> {\r\n        return promise;\r\n    }\r\n\r\n    return { cancel, getPromise, wait };\r\n}\r\n\r\nconst ForwardErrors = [\r\n    Logger.errors.CALL_EXCEPTION,\r\n    Logger.errors.INSUFFICIENT_FUNDS,\r\n    Logger.errors.NONCE_EXPIRED,\r\n    Logger.errors.REPLACEMENT_UNDERPRICED,\r\n    Logger.errors.UNPREDICTABLE_GAS_LIMIT\r\n];\r\n\r\nconst ForwardProperties = [\r\n    \"address\",\r\n    \"args\",\r\n    \"errorArgs\",\r\n    \"errorSignature\",\r\n    \"method\",\r\n    \"transaction\",\r\n];\r\n\r\n\r\n// @TODO: Make this an object with staller and cancel built-in\r\ninterface RunningConfig extends FallbackProviderConfig {\r\n    start?: number;\r\n    done?: boolean;\r\n    cancelled?: boolean;\r\n    runner?: Promise<any>;\r\n    staller?: Staller;\r\n    result?: any;\r\n    error?: Error;\r\n};\r\n\r\nfunction exposeDebugConfig(config: RunningConfig, now?: number): any {\r\n    const result: any = {\r\n        weight: config.weight\r\n    };\r\n    Object.defineProperty(result, \"provider\", { get: () => config.provider });\r\n    if (config.start) { result.start = config.start; }\r\n    if (now) { result.duration = (now - config.start); }\r\n    if (config.done) {\r\n        if (config.error) {\r\n            result.error = config.error;\r\n        } else {\r\n            result.result = config.result || null;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction normalizedTally(normalize: (value: any) => string, quorum: number): (configs: Array<RunningConfig>) => any {\r\n    return function(configs: Array<RunningConfig>): any {\r\n\r\n        // Count the votes for each result\r\n        const tally: { [ key: string]: { count: number, result: any } } = { };\r\n        configs.forEach((c) => {\r\n            const value = normalize(c.result);\r\n            if (!tally[value]) { tally[value] = { count: 0, result: c.result }; }\r\n            tally[value].count++;\r\n        });\r\n\r\n        // Check for a quorum on any given result\r\n        const keys = Object.keys(tally);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            const check = tally[keys[i]];\r\n            if (check.count >= quorum) {\r\n                return check.result;\r\n            }\r\n        }\r\n\r\n        // No quroum\r\n        return undefined;\r\n    }\r\n}\r\nfunction getProcessFunc(provider: FallbackProvider, method: string, params: { [ key: string ]: any }): (configs: Array<RunningConfig>) => any {\r\n\r\n    let normalize = serialize;\r\n\r\n    switch (method) {\r\n        case \"getBlockNumber\":\r\n            // Return the median value, unless there is (median + 1) is also\r\n            // present, in which case that is probably true and the median\r\n            // is going to be stale soon. In the event of a malicious node,\r\n            // the lie will be true soon enough.\r\n            return function(configs: Array<RunningConfig>): number {\r\n                const values = configs.map((c) => c.result);\r\n\r\n                // Get the median block number\r\n                let blockNumber = median(configs.map((c) => c.result), 2);\r\n                if (blockNumber == null) { return undefined; }\r\n\r\n                blockNumber = Math.ceil(blockNumber);\r\n\r\n                // If the next block height is present, its prolly safe to use\r\n                if (values.indexOf(blockNumber + 1) >= 0) { blockNumber++; }\r\n\r\n                // Don't ever roll back the blockNumber\r\n                if (blockNumber >= provider._highestBlockNumber) {\r\n                    provider._highestBlockNumber = blockNumber;\r\n                }\r\n\r\n                return provider._highestBlockNumber;\r\n            };\r\n\r\n        case \"getGasPrice\":\r\n            // Return the middle (round index up) value, similar to median\r\n            // but do not average even entries and choose the higher.\r\n            // Malicious actors must compromise 50% of the nodes to lie.\r\n            return function(configs: Array<RunningConfig>): BigNumber {\r\n                const values = configs.map((c) => c.result);\r\n                values.sort();\r\n                return values[Math.floor(values.length / 2)];\r\n            }\r\n\r\n        case \"getEtherPrice\":\r\n            // Returns the median price. Malicious actors must compromise at\r\n            // least 50% of the nodes to lie (in a meaningful way).\r\n            return function(configs: Array<RunningConfig>): number {\r\n                return median(configs.map((c) => c.result));\r\n            }\r\n\r\n        // No additional normalizing required; serialize is enough\r\n        case \"getBalance\":\r\n        case \"getTransactionCount\":\r\n        case \"getCode\":\r\n        case \"getStorageAt\":\r\n        case \"call\":\r\n        case \"estimateGas\":\r\n        case \"getLogs\":\r\n            break;\r\n\r\n        // We drop the confirmations from transactions as it is approximate\r\n        case \"getTransaction\":\r\n        case \"getTransactionReceipt\":\r\n            normalize = function(tx: any): string {\r\n                if (tx == null) { return null; }\r\n\r\n                tx = shallowCopy(tx);\r\n                tx.confirmations = -1;\r\n                return serialize(tx);\r\n            }\r\n            break;\r\n\r\n        // We drop the confirmations from transactions as it is approximate\r\n        case \"getBlock\":\r\n            // We drop the confirmations from transactions as it is approximate\r\n            if (params.includeTransactions) {\r\n                normalize = function(block: BlockWithTransactions): string {\r\n                    if (block == null) { return null; }\r\n\r\n                    block = shallowCopy(block);\r\n                    block.transactions = block.transactions.map((tx) => {\r\n                        tx = shallowCopy(tx);\r\n                        tx.confirmations = -1;\r\n                        return tx;\r\n                    });\r\n                    return serialize(block);\r\n                };\r\n            } else {\r\n                normalize = function(block: Block): string {\r\n                    if (block == null) { return null; }\r\n                    return serialize(block);\r\n                }\r\n            }\r\n            break;\r\n\r\n        default:\r\n            throw new Error(\"unknown method: \" + method);\r\n    }\r\n\r\n    // Return the result if and only if the expected quorum is\r\n    // satisfied and agreed upon for the final result.\r\n    return normalizedTally(normalize, provider.quorum);\r\n\r\n}\r\n\r\n// If we are doing a blockTag query, we need to make sure the backend is\r\n// caught up to the FallbackProvider, before sending a request to it.\r\nasync function waitForSync(config: RunningConfig, blockNumber: number): Promise<BaseProvider> {\r\n    const provider = <BaseProvider>(config.provider);\r\n\r\n    if ((provider.blockNumber != null && provider.blockNumber >= blockNumber) || blockNumber === -1) {\r\n        return provider;\r\n    }\r\n\r\n    return poll(() => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(function() {\r\n\r\n                // We are synced\r\n                if (provider.blockNumber >= blockNumber) { return resolve(provider); }\r\n\r\n                // We're done; just quit\r\n                if (config.cancelled) { return resolve(null); }\r\n\r\n                // Try again, next block\r\n                return resolve(undefined);\r\n            }, 0);\r\n        });\r\n    }, { oncePoll: provider });\r\n}\r\n\r\nasync function getRunner(config: RunningConfig, currentBlockNumber: number, method: string, params: { [ key: string]: any }): Promise<any> {\r\n    let provider = config.provider;\r\n\r\n    switch (method) {\r\n        case \"getBlockNumber\":\r\n        case \"getGasPrice\":\r\n            return provider[method]();\r\n        case \"getEtherPrice\":\r\n            if ((<any>provider).getEtherPrice) {\r\n                return (<any>provider).getEtherPrice();\r\n            }\r\n            break;\r\n        case \"getBalance\":\r\n        case \"getTransactionCount\":\r\n        case \"getCode\":\r\n            if (params.blockTag && isHexString(params.blockTag)) {\r\n                provider = await waitForSync(config, currentBlockNumber)\r\n            }\r\n            return provider[method](params.address, params.blockTag || \"latest\");\r\n        case \"getStorageAt\":\r\n            if (params.blockTag && isHexString(params.blockTag)) {\r\n                provider = await waitForSync(config, currentBlockNumber)\r\n            }\r\n            return provider.getStorageAt(params.address, params.position, params.blockTag || \"latest\");\r\n        case \"getBlock\":\r\n            if (params.blockTag && isHexString(params.blockTag)) {\r\n                provider = await waitForSync(config, currentBlockNumber)\r\n            }\r\n            return provider[(params.includeTransactions ? \"getBlockWithTransactions\": \"getBlock\")](params.blockTag || params.blockHash);\r\n        case \"call\":\r\n        case \"estimateGas\":\r\n            if (params.blockTag && isHexString(params.blockTag)) {\r\n                provider = await waitForSync(config, currentBlockNumber)\r\n            }\r\n            if (method === \"call\" && params.blockTag) {\r\n                return provider[method](params.transaction, params.blockTag);\r\n            }\r\n            return provider[method](params.transaction);\r\n        case \"getTransaction\":\r\n        case \"getTransactionReceipt\":\r\n            return provider[method](params.transactionHash);\r\n        case \"getLogs\": {\r\n            let filter = params.filter;\r\n            if ((filter.fromBlock && isHexString(filter.fromBlock)) || (filter.toBlock && isHexString(filter.toBlock))) {\r\n                provider = await waitForSync(config, currentBlockNumber)\r\n            }\r\n            return provider.getLogs(filter);\r\n        }\r\n    }\r\n\r\n    return logger.throwError(\"unknown method error\", Logger.errors.UNKNOWN_ERROR, {\r\n        method: method,\r\n        params: params\r\n    });\r\n}\r\n\r\nexport class FallbackProvider extends BaseProvider {\r\n    readonly providerConfigs: ReadonlyArray<FallbackProviderConfig>;\r\n    readonly quorum: number;\r\n\r\n    // Due to the highly asyncronous nature of the blockchain, we need\r\n    // to make sure we never unroll the blockNumber due to our random\r\n    // sample of backends\r\n    _highestBlockNumber: number;\r\n\r\n    constructor(providers: Array<Provider | FallbackProviderConfig>, quorum?: number) {\r\n        if (providers.length === 0) {\r\n            logger.throwArgumentError(\"missing providers\", \"providers\", providers);\r\n        }\r\n\r\n        const providerConfigs: Array<FallbackProviderConfig> = providers.map((configOrProvider, index) => {\r\n            if (Provider.isProvider(configOrProvider)) {\r\n                const stallTimeout = isCommunityResource(configOrProvider) ? 2000: 750;\r\n                const priority = 1;\r\n                return Object.freeze({ provider: configOrProvider, weight: 1, stallTimeout, priority });\r\n            }\r\n\r\n            const config: FallbackProviderConfig = shallowCopy(configOrProvider);\r\n\r\n            if (config.priority == null) { config.priority = 1; }\r\n            if (config.stallTimeout == null) {\r\n                config.stallTimeout = isCommunityResource(configOrProvider) ? 2000: 750;\r\n            }\r\n            if (config.weight == null) { config.weight = 1; }\r\n\r\n            const weight = config.weight;\r\n            if (weight % 1 || weight > 512 || weight < 1) {\r\n                logger.throwArgumentError(\"invalid weight; must be integer in [1, 512]\", `providers[${ index }].weight`, weight);\r\n            }\r\n\r\n            return Object.freeze(config);\r\n        });\r\n\r\n        const total = providerConfigs.reduce((accum, c) => (accum + c.weight), 0);\r\n\r\n        if (quorum == null) {\r\n            quorum = total / 2;\r\n        } else if (quorum > total) {\r\n            logger.throwArgumentError(\"quorum will always fail; larger than total weight\", \"quorum\", quorum);\r\n        }\r\n\r\n        // Are all providers' networks are known\r\n        let networkOrReady: Network | Promise<Network> = checkNetworks(providerConfigs.map((c) => (<any>(c.provider)).network));\r\n\r\n        // Not all networks are known; we must stall\r\n        if (networkOrReady == null) {\r\n            networkOrReady = new Promise((resolve, reject) => {\r\n                setTimeout(() => {\r\n                    this.detectNetwork().then(resolve, reject);\r\n                }, 0);\r\n            });\r\n        }\r\n\r\n        super(networkOrReady);\r\n\r\n        // Preserve a copy, so we do not get mutated\r\n        defineReadOnly(this, \"providerConfigs\", Object.freeze(providerConfigs));\r\n        defineReadOnly(this, \"quorum\", quorum);\r\n\r\n        this._highestBlockNumber = -1;\r\n    }\r\n\r\n    async detectNetwork(): Promise<Network> {\r\n        const networks = await Promise.all(this.providerConfigs.map((c) => c.provider.getNetwork()));\r\n        return checkNetworks(networks);\r\n    }\r\n\r\n    async perform(method: string, params: { [name: string]: any }): Promise<any> {\r\n        // Sending transactions is special; always broadcast it to all backends\r\n        if (method === \"sendTransaction\") {\r\n            const results: Array<string | Error> = await Promise.all(this.providerConfigs.map((c) => {\r\n                return c.provider.sendTransaction(params.signedTransaction).then((result) => {\r\n                    return result.hash;\r\n                }, (error) => {\r\n                    return error;\r\n                });\r\n            }));\r\n\r\n            // Any success is good enough (other errors are likely \"already seen\" errors\r\n            for (let i = 0; i < results.length; i++) {\r\n                const result = results[i];\r\n                if (typeof(result) === \"string\") { return result; }\r\n            }\r\n\r\n            // They were all an error; pick the first error\r\n            throw results[0];\r\n        }\r\n\r\n        // We need to make sure we are in sync with our backends, so we need\r\n        // to know this before we can make a lot of calls\r\n        if (this._highestBlockNumber === -1 && method !== \"getBlockNumber\") {\r\n            await this.getBlockNumber();\r\n        }\r\n\r\n        const processFunc = getProcessFunc(this, method, params);\r\n\r\n        // Shuffle the providers and then sort them by their priority; we\r\n        // shallowCopy them since we will store the result in them too\r\n        const configs: Array<RunningConfig> = shuffled(this.providerConfigs.map(shallowCopy));\r\n        configs.sort((a, b) => (a.priority - b.priority));\r\n\r\n        const currentBlockNumber = this._highestBlockNumber;\r\n\r\n        let i = 0;\r\n        let first = true;\r\n        while (true) {\r\n            const t0 = now();\r\n\r\n            // Compute the inflight weight (exclude anything past)\r\n            let inflightWeight = configs.filter((c) => (c.runner && ((t0 - c.start) < c.stallTimeout)))\r\n                                        .reduce((accum, c) => (accum + c.weight), 0);\r\n\r\n            // Start running enough to meet quorum\r\n            while (inflightWeight < this.quorum && i < configs.length) {\r\n                const config = configs[i++];\r\n\r\n                const rid = nextRid++;\r\n\r\n                config.start = now();\r\n                config.staller = stall(config.stallTimeout);\r\n                config.staller.wait(() => { config.staller = null; });\r\n\r\n                config.runner = getRunner(config, currentBlockNumber, method, params).then((result) => {\r\n                    config.done = true;\r\n                    config.result = result;\r\n\r\n                    if (this.listenerCount(\"debug\")) {\r\n                        this.emit(\"debug\", {\r\n                            action: \"request\",\r\n                            rid: rid,\r\n                            backend: exposeDebugConfig(config, now()),\r\n                            request: { method: method, params: deepCopy(params) },\r\n                            provider: this\r\n                        });\r\n                     }\r\n\r\n                }, (error) => {\r\n                    config.done = true;\r\n                    config.error = error;\r\n\r\n                    if (this.listenerCount(\"debug\")) {\r\n                        this.emit(\"debug\", {\r\n                            action: \"request\",\r\n                            rid: rid,\r\n                            backend: exposeDebugConfig(config, now()),\r\n                            request: { method: method, params: deepCopy(params) },\r\n                            provider: this\r\n                        });\r\n                    }\r\n                });\r\n\r\n                if (this.listenerCount(\"debug\")) {\r\n                    this.emit(\"debug\", {\r\n                        action: \"request\",\r\n                        rid: rid,\r\n                        backend: exposeDebugConfig(config, null),\r\n                        request: { method: method, params: deepCopy(params) },\r\n                        provider: this\r\n                    });\r\n                }\r\n\r\n                inflightWeight += config.weight;\r\n            }\r\n\r\n            // Wait for anything meaningful to finish or stall out\r\n            const waiting: Array<Promise<any>> = [ ];\r\n            configs.forEach((c) => {\r\n                if (c.done || !c.runner) { return; }\r\n                waiting.push(c.runner);\r\n                if (c.staller) { waiting.push(c.staller.getPromise()); }\r\n            });\r\n\r\n            if (waiting.length) { await Promise.race(waiting); }\r\n\r\n            // Check the quorum and process the results; the process function\r\n            // may additionally decide the quorum is not met\r\n            const results = configs.filter((c) => (c.done && c.error == null));\r\n            if (results.length >= this.quorum) {\r\n                const result = processFunc(results);\r\n                if (result !== undefined) {\r\n                    // Shut down any stallers\r\n                    configs.forEach(c => {\r\n                        if (c.staller) { c.staller.cancel(); }\r\n                        c.cancelled = true;\r\n                    });\r\n                    return result;\r\n                }\r\n                if (!first) { await stall(100).getPromise(); }\r\n                first = false;\r\n            }\r\n\r\n            // No result, check for errors that should be forwarded\r\n            const errors = configs.reduce((accum, c) => {\r\n                if (!c.done || c.error == null) { return accum; }\r\n\r\n                const code = (<any>(c.error)).code;\r\n                if (ForwardErrors.indexOf(code) >= 0) {\r\n                    if (!accum[code]) { accum[code] = { error: c.error, weight: 0 }; }\r\n                    accum[code].weight += c.weight;\r\n                }\r\n\r\n                return accum;\r\n            }, <{ [ code: string ]: { error: Error, weight: number } }>({ }));\r\n\r\n            Object.keys(errors).forEach((errorCode: string) => {\r\n                const tally = errors[errorCode];\r\n                if (tally.weight < this.quorum) { return; }\r\n\r\n                // Shut down any stallers\r\n                configs.forEach(c => {\r\n                    if (c.staller) { c.staller.cancel(); }\r\n                    c.cancelled = true;\r\n                });\r\n\r\n                const e = <any>(tally.error);\r\n\r\n                const props: { [ name: string ]: any } = { };\r\n                ForwardProperties.forEach((name) => {\r\n                    if (e[name] == null) { return; }\r\n                    props[name] = e[name];\r\n                });\r\n\r\n                logger.throwError(e.reason || e.message, <any>errorCode, props);\r\n            });\r\n\r\n            // All configs have run to completion; we will never get more data\r\n            if (configs.filter((c) => !c.done).length === 0) { break; }\r\n        }\r\n\r\n        // Shut down any stallers; shouldn't be any\r\n        configs.forEach(c => {\r\n            if (c.staller) { c.staller.cancel(); }\r\n            c.cancelled = true;\r\n        });\r\n\r\n        return logger.throwError(\"failed to meet quorum\", Logger.errors.SERVER_ERROR, {\r\n            method: method,\r\n            params: params,\r\n            //results: configs.map((c) => c.result),\r\n            //errors: configs.map((c) => c.error),\r\n            results: configs.map((c) => exposeDebugConfig(c)),\r\n            provider: this\r\n        });\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nconst IpcProvider: any = null;\r\n\r\nexport {\r\n    IpcProvider\r\n};\r\n", "\"use strict\";\r\n\r\nimport { Network, Networkish } from \"@ethersproject/networks\";\r\nimport { defineReadOnly } from \"@ethersproject/properties\";\r\nimport { ConnectionInfo } from \"@ethersproject/web\";\r\n\r\nimport { WebSocketProvider } from \"./websocket-provider\";\r\nimport { CommunityResourcable, showThrottleMessage } from \"./formatter\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\r\n\r\n\r\nconst defaultProjectId = \"84842078b09946638c03157f83405213\"\r\n\r\nexport class InfuraWebSocketProvider extends WebSocketProvider implements CommunityResourcable {\r\n    readonly apiKey: string;\r\n    readonly projectId: string;\r\n    readonly projectSecret: string;\r\n\r\n    constructor(network?: Networkish, apiKey?: any) {\r\n        const provider = new InfuraProvider(network, apiKey);\r\n        const connection = provider.connection;\r\n        if (connection.password) {\r\n            logger.throwError(\"INFURA WebSocket project secrets unsupported\", Logger.errors.UNSUPPORTED_OPERATION, {\r\n                operation: \"InfuraProvider.getWebSocketProvider()\"\r\n            });\r\n        }\r\n\r\n        const url = connection.url.replace(/^http/i, \"ws\").replace(\"/v3/\", \"/ws/v3/\");\r\n        super(url, network);\r\n\r\n        defineReadOnly(this, \"apiKey\", provider.projectId);\r\n        defineReadOnly(this, \"projectId\", provider.projectId);\r\n        defineReadOnly(this, \"projectSecret\", provider.projectSecret);\r\n    }\r\n\r\n    isCommunityResource(): boolean {\r\n        return (this.projectId === defaultProjectId);\r\n    }\r\n}\r\n\r\nexport class InfuraProvider extends UrlJsonRpcProvider {\r\n    readonly projectId: string;\r\n    readonly projectSecret: string;\r\n\r\n    static getWebSocketProvider(network?: Networkish, apiKey?: any): InfuraWebSocketProvider {\r\n        return new InfuraWebSocketProvider(network, apiKey);\r\n    }\r\n\r\n    static getApiKey(apiKey: any): any {\r\n        const apiKeyObj: { apiKey: string, projectId: string, projectSecret: string } = {\r\n            apiKey: defaultProjectId,\r\n            projectId: defaultProjectId,\r\n            projectSecret: null\r\n        };\r\n\r\n        if (apiKey == null) { return apiKeyObj; }\r\n\r\n        if (typeof(apiKey) === \"string\") {\r\n            apiKeyObj.projectId = apiKey;\r\n\r\n        } else if (apiKey.projectSecret != null) {\r\n            logger.assertArgument((typeof(apiKey.projectId) === \"string\"),\r\n                \"projectSecret requires a projectId\", \"projectId\", apiKey.projectId);\r\n            logger.assertArgument((typeof(apiKey.projectSecret) === \"string\"),\r\n                \"invalid projectSecret\", \"projectSecret\", \"[REDACTED]\");\r\n\r\n            apiKeyObj.projectId = apiKey.projectId;\r\n            apiKeyObj.projectSecret = apiKey.projectSecret;\r\n\r\n        } else if (apiKey.projectId) {\r\n            apiKeyObj.projectId = apiKey.projectId;\r\n        }\r\n\r\n        apiKeyObj.apiKey = apiKeyObj.projectId;\r\n\r\n        return apiKeyObj;\r\n    }\r\n\r\n    static getUrl(network: Network, apiKey: any): ConnectionInfo {\r\n        let host: string = null;\r\n        switch(network ? network.name: \"unknown\") {\r\n            case \"homestead\":\r\n                host = \"mainnet.infura.io\";\r\n                break;\r\n            case \"goerli\":\r\n                host = \"goerli.infura.io\";\r\n                break;\r\n            case \"sepolia\":\r\n                host = \"sepolia.infura.io\";\r\n                break;\r\n            case \"matic\":\r\n                host = \"polygon-mainnet.infura.io\";\r\n                break;\r\n            case \"maticmum\":\r\n                host = \"polygon-mumbai.infura.io\";\r\n                break;\r\n            case \"optimism\":\r\n                host = \"optimism-mainnet.infura.io\";\r\n                break;\r\n            case \"optimism-goerli\":\r\n                host = \"optimism-goerli.infura.io\";\r\n                break;\r\n            case \"arbitrum\":\r\n                host = \"arbitrum-mainnet.infura.io\";\r\n                break;\r\n            case \"arbitrum-goerli\":\r\n                host = \"arbitrum-goerli.infura.io\";\r\n                break;\r\n            default:\r\n                logger.throwError(\"unsupported network\", Logger.errors.INVALID_ARGUMENT, {\r\n                    argument: \"network\",\r\n                    value: network\r\n                });\r\n        }\r\n\r\n        const connection: ConnectionInfo = {\r\n            allowGzip: true,\r\n            url: (\"https:/\" + \"/\" + host + \"/v3/\" + apiKey.projectId),\r\n            throttleCallback: (attempt: number, url: string) => {\r\n                if (apiKey.projectId === defaultProjectId) {\r\n                    showThrottleMessage();\r\n                }\r\n                return Promise.resolve(true);\r\n            }\r\n        };\r\n\r\n        if (apiKey.projectSecret != null) {\r\n            connection.user = \"\";\r\n            connection.password = apiKey.projectSecret\r\n        }\r\n\r\n        return connection;\r\n    }\r\n\r\n    isCommunityResource(): boolean {\r\n        return (this.projectId === defaultProjectId);\r\n    }\r\n}\r\n", "\r\nimport { deepCopy } from \"@ethersproject/properties\";\r\nimport { fetchJson } from \"@ethersproject/web\";\r\n\r\nimport { JsonRpcProvider } from \"./json-rpc-provider\";\r\n\r\n// Experimental\r\n\r\nexport class JsonRpcBatchProvider extends JsonRpcProvider {\r\n    _pendingBatchAggregator: NodeJS.Timer;\r\n    _pendingBatch: Array<{\r\n        request: { method: string, params: Array<any>, id: number, jsonrpc: \"2.0\" },\r\n        resolve: (result: any) => void,\r\n        reject: (error: Error) => void\r\n    }>;\r\n\r\n    send(method: string, params: Array<any>): Promise<any> {\r\n        const request = {\r\n            method: method,\r\n            params: params,\r\n            id: (this._nextId++),\r\n            jsonrpc: \"2.0\"\r\n        };\r\n\r\n        if (this._pendingBatch == null) {\r\n            this._pendingBatch = [ ];\r\n        }\r\n\r\n        const inflightRequest: any = { request, resolve: null, reject: null };\r\n\r\n        const promise = new Promise((resolve, reject) => {\r\n            inflightRequest.resolve = resolve;\r\n            inflightRequest.reject = reject;\r\n        });\r\n\r\n        this._pendingBatch.push(inflightRequest);\r\n\r\n        if (!this._pendingBatchAggregator) {\r\n            // Schedule batch for next event loop + short duration\r\n            this._pendingBatchAggregator = setTimeout(() => {\r\n\r\n                // Get teh current batch and clear it, so new requests\r\n                // go into the next batch\r\n                const batch = this._pendingBatch;\r\n                this._pendingBatch = null;\r\n                this._pendingBatchAggregator = null;\r\n\r\n                // Get the request as an array of requests\r\n                const request = batch.map((inflight) => inflight.request);\r\n\r\n                this.emit(\"debug\", {\r\n                    action: \"requestBatch\",\r\n                    request: deepCopy(request),\r\n                    provider: this\r\n                });\r\n\r\n                return fetchJson(this.connection, JSON.stringify(request)).then((result) => {\r\n                    this.emit(\"debug\", {\r\n                        action: \"response\",\r\n                        request: request,\r\n                        response: result,\r\n                        provider: this\r\n                    });\r\n\r\n                    // For each result, feed it to the correct Promise, depending\r\n                    // on whether it was a success or error\r\n                    batch.forEach((inflightRequest, index) => {\r\n                        const payload = result[index];\r\n                        if (payload.error) {\r\n                            const error = new Error(payload.error.message);\r\n                            (<any>error).code = payload.error.code;\r\n                            (<any>error).data = payload.error.data;\r\n                            inflightRequest.reject(error);\r\n                        } else {\r\n                            inflightRequest.resolve(payload.result);\r\n                        }\r\n                    });\r\n\r\n                }, (error) => {\r\n                    this.emit(\"debug\", {\r\n                        action: \"response\",\r\n                        error: error,\r\n                        request: request,\r\n                        provider: this\r\n                    });\r\n\r\n                    batch.forEach((inflightRequest) => {\r\n                        inflightRequest.reject(error);\r\n                    });\r\n                });\r\n\r\n            }, 10);\r\n        }\r\n\r\n        return promise;\r\n    }\r\n}\r\n", "/* istanbul ignore file */\r\n\r\n\"use strict\";\r\n\r\nimport { Network } from \"@ethersproject/networks\";\r\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n// Special API key provided by Nodesmith for ethers.js\r\nconst defaultApiKey = \"ETHERS_JS_SHARED\";\r\n\r\nexport class NodesmithProvider extends UrlJsonRpcProvider {\r\n\r\n    static getApiKey(apiKey: any): any {\r\n        if (apiKey && typeof(apiKey) !== \"string\") {\r\n            logger.throwArgumentError(\"invalid apiKey\", \"apiKey\", apiKey);\r\n        }\r\n        return apiKey || defaultApiKey;\r\n    }\r\n\r\n    static getUrl(network: Network, apiKey?: any): string {\r\n        logger.warn(\"NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.\");\r\n\r\n        let host = null;\r\n        switch (network.name) {\r\n            case \"homestead\":\r\n                host = \"https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc\";\r\n                break;\r\n            case \"ropsten\":\r\n                host = \"https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc\";\r\n                break;\r\n            case \"rinkeby\":\r\n                host = \"https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc\";\r\n                break;\r\n            case \"goerli\":\r\n                host = \"https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc\";\r\n                break;\r\n            case \"kovan\":\r\n                host = \"https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc\";\r\n                break;\r\n            default:\r\n               logger.throwArgumentError(\"unsupported network\", \"network\", arguments[0]);\r\n        }\r\n\r\n        return (host + \"?apiKey=\" + apiKey);\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nimport { Network } from \"@ethersproject/networks\";\r\nimport { ConnectionInfo } from \"@ethersproject/web\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\r\n\r\nconst defaultApplicationId = \"62e1ad51b37b8e00394bda3b\";\r\n\r\n\r\nexport class PocketProvider extends UrlJsonRpcProvider {\r\n    readonly applicationId: string;\r\n    readonly applicationSecretKey: string;\r\n    readonly loadBalancer: boolean;\r\n\r\n    static getApiKey(apiKey: any): any {\r\n        const apiKeyObj: { applicationId: string, applicationSecretKey: string, loadBalancer: boolean } = {\r\n            applicationId: null,\r\n            loadBalancer: true,\r\n            applicationSecretKey: null\r\n        };\r\n\r\n        // Parse applicationId and applicationSecretKey\r\n        if (apiKey == null) {\r\n            apiKeyObj.applicationId = defaultApplicationId;\r\n\r\n        } else if (typeof (apiKey) === \"string\") {\r\n            apiKeyObj.applicationId = apiKey;\r\n\r\n        } else if (apiKey.applicationSecretKey != null) {\r\n            apiKeyObj.applicationId = apiKey.applicationId;\r\n            apiKeyObj.applicationSecretKey = apiKey.applicationSecretKey;\r\n\r\n        } else if (apiKey.applicationId) {\r\n            apiKeyObj.applicationId = apiKey.applicationId;\r\n\r\n        } else {\r\n            logger.throwArgumentError(\"unsupported PocketProvider apiKey\", \"apiKey\", apiKey);\r\n        }\r\n\r\n        return apiKeyObj;\r\n    }\r\n\r\n    static getUrl(network: Network, apiKey: any): ConnectionInfo {\r\n        let host: string = null;\r\n        switch (network ? network.name : \"unknown\") {\r\n            case \"goerli\":\r\n                host = \"eth-goerli.gateway.pokt.network\";\r\n                break;\r\n            case \"homestead\":\r\n                host = \"eth-mainnet.gateway.pokt.network\";\r\n                break;\r\n            case \"kovan\":\r\n                host = \"poa-kovan.gateway.pokt.network\";\r\n                break;\r\n            case \"matic\":\r\n                host = \"poly-mainnet.gateway.pokt.network\";\r\n                break;\r\n            case \"maticmum\":\r\n                host = \"polygon-mumbai-rpc.gateway.pokt.network\";\r\n                break;\r\n            case \"rinkeby\":\r\n                host = \"eth-rinkeby.gateway.pokt.network\";\r\n                break;\r\n            case \"ropsten\":\r\n                host = \"eth-ropsten.gateway.pokt.network\";\r\n                break;\r\n            default:\r\n                logger.throwError(\"unsupported network\", Logger.errors.INVALID_ARGUMENT, {\r\n                    argument: \"network\",\r\n                    value: network\r\n                });\r\n        }\r\n\r\n        const url = `https:/\\/${ host }/v1/lb/${ apiKey.applicationId }`\r\n\r\n        const connection: ConnectionInfo = { headers: { }, url };\r\n        if (apiKey.applicationSecretKey != null) {\r\n            connection.user = \"\";\r\n            connection.password = apiKey.applicationSecretKey\r\n        }\r\n\r\n        return connection;\r\n    }\r\n\r\n    isCommunityResource(): boolean {\r\n        return (this.applicationId === defaultApplicationId);\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nimport { Networkish } from \"@ethersproject/networks\";\r\nimport { deepCopy, defineReadOnly } from \"@ethersproject/properties\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\nimport { JsonRpcProvider } from \"./json-rpc-provider\";\r\n\r\n// Exported Types\r\nexport type ExternalProvider = {\r\n    isMetaMask?: boolean;\r\n    isStatus?: boolean;\r\n    host?: string;\r\n    path?: string;\r\n    sendAsync?: (request: { method: string, params?: Array<any> }, callback: (error: any, response: any) => void) => void\r\n    send?: (request: { method: string, params?: Array<any> }, callback: (error: any, response: any) => void) => void\r\n    request?: (request: { method: string, params?: Array<any> }) => Promise<any>\r\n}\r\n\r\nlet _nextId = 1;\r\n\r\nexport type JsonRpcFetchFunc = (method: string, params?: Array<any>) => Promise<any>;\r\n\r\ntype Web3LegacySend = (request: any, callback: (error: Error, response: any) => void) => void;\r\n\r\nfunction buildWeb3LegacyFetcher(provider: ExternalProvider, sendFunc: Web3LegacySend) : JsonRpcFetchFunc {\r\n    const fetcher = \"Web3LegacyFetcher\";\r\n\r\n    return function(method: string, params: Array<any>): Promise<any> {\r\n        const request = {\r\n            method: method,\r\n            params: params,\r\n            id: (_nextId++),\r\n            jsonrpc: \"2.0\"\r\n        };\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.emit(\"debug\", {\r\n                action: \"request\",\r\n                fetcher,\r\n                request: deepCopy(request),\r\n                provider: this\r\n            });\r\n\r\n            sendFunc(request, (error, response) => {\r\n\r\n                if (error) {\r\n                    this.emit(\"debug\", {\r\n                        action: \"response\",\r\n                        fetcher,\r\n                        error,\r\n                        request,\r\n                        provider: this\r\n                    });\r\n\r\n                    return reject(error);\r\n                }\r\n\r\n                this.emit(\"debug\", {\r\n                    action: \"response\",\r\n                    fetcher,\r\n                    request,\r\n                    response,\r\n                    provider: this\r\n                });\r\n\r\n                if (response.error) {\r\n                    const error = new Error(response.error.message);\r\n                    (<any>error).code = response.error.code;\r\n                    (<any>error).data = response.error.data;\r\n                    return reject(error);\r\n                }\r\n\r\n                resolve(response.result);\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nfunction buildEip1193Fetcher(provider: ExternalProvider): JsonRpcFetchFunc {\r\n    return function(method: string, params: Array<any>): Promise<any> {\r\n        if (params == null) { params = [ ]; }\r\n\r\n        const request = { method, params };\r\n\r\n        this.emit(\"debug\", {\r\n            action: \"request\",\r\n            fetcher: \"Eip1193Fetcher\",\r\n            request: deepCopy(request),\r\n            provider: this\r\n        });\r\n\r\n        return provider.request(request).then((response) => {\r\n            this.emit(\"debug\", {\r\n                action: \"response\",\r\n                fetcher: \"Eip1193Fetcher\",\r\n                request,\r\n                response,\r\n                provider: this\r\n            });\r\n\r\n            return response;\r\n\r\n        }, (error) => {\r\n            this.emit(\"debug\", {\r\n                action: \"response\",\r\n                fetcher: \"Eip1193Fetcher\",\r\n                request,\r\n                error,\r\n                provider: this\r\n            });\r\n\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport class Web3Provider extends JsonRpcProvider {\r\n    readonly provider: ExternalProvider;\r\n    readonly jsonRpcFetchFunc: JsonRpcFetchFunc;\r\n\r\n    constructor(provider: ExternalProvider | JsonRpcFetchFunc, network?: Networkish) {\r\n        if (provider == null) {\r\n            logger.throwArgumentError(\"missing provider\", \"provider\", provider);\r\n        }\r\n\r\n        let path: string = null;\r\n        let jsonRpcFetchFunc: JsonRpcFetchFunc = null;\r\n        let subprovider: ExternalProvider = null;\r\n\r\n        if (typeof(provider) === \"function\") {\r\n            path = \"unknown:\";\r\n            jsonRpcFetchFunc = provider;\r\n\r\n        } else {\r\n            path = provider.host || provider.path || \"\";\r\n            if (!path && provider.isMetaMask) {\r\n                path = \"metamask\";\r\n            }\r\n\r\n            subprovider = provider;\r\n\r\n            if (provider.request) {\r\n                if (path === \"\") { path = \"eip-1193:\"; }\r\n                jsonRpcFetchFunc = buildEip1193Fetcher(provider);\r\n            } else if (provider.sendAsync) {\r\n                jsonRpcFetchFunc = buildWeb3LegacyFetcher(provider, provider.sendAsync.bind(provider));\r\n            } else if (provider.send) {\r\n                jsonRpcFetchFunc = buildWeb3LegacyFetcher(provider, provider.send.bind(provider));\r\n            } else {\r\n                logger.throwArgumentError(\"unsupported provider\", \"provider\", provider);\r\n            }\r\n\r\n            if (!path) { path = \"unknown:\"; }\r\n        }\r\n\r\n        super(path, network);\r\n\r\n        defineReadOnly(this, \"jsonRpcFetchFunc\", jsonRpcFetchFunc);\r\n        defineReadOnly(this, \"provider\", subprovider);\r\n    }\r\n\r\n    send(method: string, params: Array<any>): Promise<any> {\r\n        return this.jsonRpcFetchFunc(method, params);\r\n    }\r\n}\r\n", "\"use strict\";\r\n\r\nimport {\r\n    Block,\r\n    BlockTag,\r\n    EventType,\r\n    FeeData,\r\n    Filter,\r\n    Log,\r\n    Listener,\r\n    Provider,\r\n    TransactionReceipt,\r\n    TransactionRequest,\r\n    TransactionResponse\r\n} from \"@ethersproject/abstract-provider\";\r\n\r\nimport { getNetwork } from \"@ethersproject/networks\";\r\nimport { Network, Networkish } from \"@ethersproject/networks\";\r\n\r\nimport { BaseProvider, EnsProvider, EnsResolver, Resolver } from \"./base-provider\";\r\n\r\nimport { AlchemyProvider, AlchemyWebSocketProvider } from \"./alchemy-provider\";\r\nimport { AnkrProvider } from \"./ankr-provider\";\r\nimport { CloudflareProvider } from \"./cloudflare-provider\";\r\nimport { EtherscanProvider } from \"./etherscan-provider\";\r\nimport { FallbackProvider, FallbackProviderConfig } from \"./fallback-provider\";\r\nimport { IpcProvider } from \"./ipc-provider\";\r\nimport { InfuraProvider, InfuraWebSocketProvider } from \"./infura-provider\";\r\nimport { JsonRpcProvider, JsonRpcSigner } from \"./json-rpc-provider\";\r\nimport { JsonRpcBatchProvider } from \"./json-rpc-batch-provider\";\r\nimport { NodesmithProvider } from \"./nodesmith-provider\";\r\nimport { PocketProvider } from \"./pocket-provider\";\r\nimport { StaticJsonRpcProvider, UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\r\nimport { Web3Provider } from \"./web3-provider\";\r\nimport { WebSocketProvider } from \"./websocket-provider\";\r\nimport { ExternalProvider, JsonRpcFetchFunc } from \"./web3-provider\";\r\n\r\nimport { CommunityResourcable, Formatter, isCommunityResourcable, isCommunityResource, showThrottleMessage } from \"./formatter\";\r\n\r\nimport { Logger } from \"@ethersproject/logger\";\r\nimport { version } from \"./_version\";\r\nconst logger = new Logger(version);\r\n\r\n////////////////////////\r\n// Helper Functions\r\n\r\nfunction getDefaultProvider(network?: Networkish, options?: any): BaseProvider {\r\n    if (network == null) { network = \"homestead\"; }\r\n\r\n    // If passed a URL, figure out the right type of provider based on the scheme\r\n    if (typeof(network) === \"string\") {\r\n        // @TODO: Add support for IpcProvider; maybe if it ends in \".ipc\"?\r\n\r\n        // Handle http and ws (and their secure variants)\r\n        const match = network.match(/^(ws|http)s?:/i);\r\n        if (match) {\r\n            switch (match[1].toLowerCase()) {\r\n                case \"http\": case \"https\":\r\n                    return new JsonRpcProvider(network);\r\n                case \"ws\": case \"wss\":\r\n                    return new WebSocketProvider(network);\r\n                default:\r\n                    logger.throwArgumentError(\"unsupported URL scheme\", \"network\", network);\r\n            }\r\n        }\r\n    }\r\n\r\n    const n = getNetwork(network);\r\n    if (!n || !n._defaultProvider) {\r\n        logger.throwError(\"unsupported getDefaultProvider network\", Logger.errors.NETWORK_ERROR, {\r\n            operation: \"getDefaultProvider\",\r\n            network: network\r\n        });\r\n    }\r\n\r\n    return n._defaultProvider({\r\n        FallbackProvider,\r\n\r\n        AlchemyProvider,\r\n        AnkrProvider,\r\n        CloudflareProvider,\r\n        EtherscanProvider,\r\n        InfuraProvider,\r\n        JsonRpcProvider,\r\n        NodesmithProvider,\r\n        PocketProvider,\r\n        Web3Provider,\r\n\r\n        IpcProvider,\r\n    }, options);\r\n}\r\n\r\n////////////////////////\r\n// Exports\r\n\r\nexport {\r\n\r\n    // Abstract Providers (or Abstract-ish)\r\n    Provider,\r\n    BaseProvider,\r\n\r\n    Resolver,\r\n\r\n    UrlJsonRpcProvider,\r\n\r\n    ///////////////////////\r\n    // Concrete Providers\r\n\r\n    FallbackProvider,\r\n\r\n    AlchemyProvider,\r\n    AlchemyWebSocketProvider,\r\n    AnkrProvider,\r\n    CloudflareProvider,\r\n    EtherscanProvider,\r\n    InfuraProvider,\r\n    InfuraWebSocketProvider,\r\n    JsonRpcProvider,\r\n    JsonRpcBatchProvider,\r\n    NodesmithProvider,\r\n    PocketProvider,\r\n    StaticJsonRpcProvider,\r\n    Web3Provider,\r\n    WebSocketProvider,\r\n\r\n    IpcProvider,\r\n\r\n\r\n    ///////////////////////\r\n    // Signer\r\n\r\n    JsonRpcSigner,\r\n\r\n\r\n    ///////////////////////\r\n    // Functions\r\n\r\n    getDefaultProvider,\r\n    getNetwork,\r\n    isCommunityResource,\r\n    isCommunityResourcable,\r\n    showThrottleMessage,\r\n\r\n\r\n    ///////////////////////\r\n    // Objects\r\n\r\n    Formatter,\r\n\r\n\r\n    ///////////////////////\r\n    // Types\r\n\r\n    Block,\r\n    BlockTag,\r\n    EventType,\r\n    FeeData,\r\n    Filter,\r\n    Log,\r\n    Listener,\r\n    TransactionReceipt,\r\n    TransactionRequest,\r\n    TransactionResponse,\r\n\r\n    ExternalProvider,\r\n    JsonRpcFetchFunc,\r\n\r\n    FallbackProviderConfig,\r\n\r\n    Network,\r\n    Networkish,\r\n\r\n    EnsProvider,\r\n    EnsResolver,\r\n\r\n    CommunityResourcable\r\n};\r\n\r\n"],
  "mappings": "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",
  "names": ["LogLevel", "ErrorCode", "version", "key", "error", "version", "init_version", "lib_exports", "signature", "vs", "init_lib", "init_version", "version", "version", "init_version", "logger", "init_lib", "init_version", "_BN", "version", "key", "throwFault", "logger", "_constructorGuard", "init_lib", "init_version", "version", "signed", "key", "lib_exports", "init_lib", "version", "init_version", "lib_exports", "key", "logger", "init_lib", "init_version", "version", "NegativeOne", "Zero", "init_lib", "lib_exports", "NegativeOne", "Zero", "init_lib", "version", "init_version", "lib_exports", "logger", "init_lib", "init_version", "version", "key", "__awaiter", "version", "init_version", "logger", "init_lib", "init_version", "version", "version", "init_version", "network", "standard", "logger", "init_lib", "init_version", "version", "init_lib", "lib_exports", "init_lib", "lib_exports", "init_lib", "lib_exports", "sha3", "init_lib", "version", "init_version", "logger", "init_lib", "init_version", "version", "UnicodeNormalizationForm", "Utf8ErrorReason", "init_lib", "value", "lib_exports", "init_lib", "init_lib", "version", "init_version", "depth", "init_lib", "init_lib", "logger", "init_lib", "init_version", "version", "init_lib", "version", "init_version", "lib_exports", "decode", "encode", "length", "logger", "init_lib", "init_version", "version", "version", "init_version", "lib_exports", "logger", "encode", "init_lib", "init_version", "version", "key", "logger", "signed", "MaxUint256", "One", "NegativeOne", "Zero", "name", "init_lib", "init_version", "version", "type", "value", "lib_exports", "init_lib", "SupportedAlgorithm", "version", "init_version", "hash", "key", "logger", "init_lib", "init_version", "version", "lib_exports", "init_lib", "version", "init_version", "key", "init_lib", "lib_exports", "logger", "key", "timer", "stall", "body", "timeout", "init_lib", "init_version", "version", "version", "init_version", "BN", "Base", "utils", "assert", "ec", "curves", "EC", "r", "toHex", "encode", "minAssert", "minUtils", "getNAF", "getJSF", "key", "cachedProperty", "validate", "_encode", "dbl", "inherits", "point", "_getBeta", "obj", "eq", "neg", "add", "dblp", "mul", "inspect", "isInfinity", "require$$0", "require$$1", "curve", "hash", "signature", "KeyPair", "HmacDRBG", "sign", "Signature", "verify", "e", "require$$2", "require$$3", "_ec", "version", "init_version", "lib_exports", "signature", "key", "logger", "init_lib", "init_version", "version", "keyPair", "version", "init_version", "lib_exports", "Zero", "key", "signature", "logger", "encode", "allowedTransactionKeys", "serialize", "decode", "init_lib", "init_version", "version", "TransactionTypes", "logger", "init_lib", "init_version", "version", "hash", "value", "key", "logger", "topic", "init_lib", "init_version", "version", "bech32", "hash", "key", "now", "receipt", "__awaiter", "timer", "blockNumber", "avatar", "key", "logger", "_constructorGuard", "allowedTransactionKeys", "init_lib", "init_version", "version", "__awaiter", "hash", "network", "error", "getNetwork", "result", "self", "poll", "init_version", "logger", "version", "logger", "init_lib", "init_version", "version", "id", "param", "event", "hash", "subId", "logger", "init_lib", "init_version", "version", "key", "logger", "init_lib", "init_version", "version", "logger", "defaultApiKey", "init_version", "version", "logger", "init_version", "version", "key", "getResult", "checkError", "logger", "init_lib", "init_version", "version", "url", "version", "init_version", "logger", "init_lib", "init_version", "version", "lib_exports", "init_lib", "networks", "logger", "serialize", "key", "stall", "timer", "now", "normalize", "init_lib", "init_version", "version", "i", "logger", "init_lib", "init_version", "version", "init_lib", "request", "inflightRequest", "logger", "defaultApiKey", "init_version", "version", "logger", "init_version", "version", "error", "logger", "init_lib", "init_version", "version", "lib_exports", "logger", "init_lib", "init_version", "version"]
}
