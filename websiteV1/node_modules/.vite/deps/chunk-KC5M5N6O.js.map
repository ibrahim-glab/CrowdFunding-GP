{
  "version": 3,
  "sources": ["../../@thirdweb-dev/sdk/dist/setErc20Allowance-0fd3045e.browser.esm.js", "../../@thirdweb-dev/sdk/dist/normalizePriceValue-ee13e65c.browser.esm.js"],
  "sourcesContent": ["import { cw as BigNumberTransformSchema, cx as FileOrBufferOrStringSchema, cy as HexColor, cq as ContractWrapper } from './index-e7118e8b.browser.esm.js';\nimport { z } from 'zod';\nimport { i as isNativeToken } from './fetchCurrencyValue-27d660ae.browser.esm.js';\n\nconst PropertiesInput = /* @__PURE__ */(() => z.object({}).catchall(z.union([BigNumberTransformSchema, z.unknown()])))();\n\n/**\n * @internal\n */\nconst OptionalPropertiesInput = /* @__PURE__ */(() => z.union([z.array(PropertiesInput), PropertiesInput]).optional().nullable())();\n\n/**\n * @internal\n */\nconst BasicNFTInput = /* @__PURE__ */(() => z.object({\n  name: z.union([z.string(), z.number()]).optional().nullable(),\n  description: z.string().nullable().optional().nullable(),\n  image: FileOrBufferOrStringSchema.nullable().optional(),\n  animation_url: FileOrBufferOrStringSchema.optional().nullable()\n}))();\n\n/**\n * @internal\n */\nconst CommonNFTInput = /* @__PURE__ */(() => BasicNFTInput.extend({\n  external_url: FileOrBufferOrStringSchema.nullable().optional(),\n  background_color: HexColor.optional().nullable(),\n  properties: OptionalPropertiesInput,\n  attributes: OptionalPropertiesInput\n}).catchall(z.union([BigNumberTransformSchema, z.unknown()])))();\n\n/**\n * @internal\n */\nconst NFTInputOrUriSchema = /* @__PURE__ */(() => z.union([CommonNFTInput, z.string()]))();\n\n/**\n * @internal\n */\nconst CommonNFTOutput = /* @__PURE__ */(() => CommonNFTInput.extend({\n  id: z.string(),\n  uri: z.string(),\n  image: z.string().nullable().optional(),\n  external_url: z.string().nullable().optional(),\n  animation_url: z.string().nullable().optional()\n}))();\n\n/**\n * @public\n */\n\n/**\n * @public\n */\n\n/**\n * @public\n */\n\n/**\n * @public\n */\n\n/**\n * @public\n */\n\n/**\n * @internal\n */\nasync function setErc20Allowance(contractToApprove, value, currencyAddress, overrides) {\n  if (isNativeToken(currencyAddress)) {\n    overrides[\"value\"] = value;\n  } else {\n    const ERC20Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC20.json')).default;\n    const signer = contractToApprove.getSigner();\n    const provider = contractToApprove.getProvider();\n    const erc20 = new ContractWrapper(signer || provider, currencyAddress, ERC20Abi, contractToApprove.options, contractToApprove.storage);\n    const owner = await contractToApprove.getSignerAddress();\n    const spender = contractToApprove.address;\n    const allowance = await erc20.read(\"allowance\", [owner, spender]);\n    if (allowance.lt(value)) {\n      // approve overrides the previous allowance, set it to the minimum required for this tx\n      await erc20.sendTransaction(\"approve\", [spender, value]);\n    }\n    return overrides;\n  }\n}\n\nexport { BasicNFTInput as B, CommonNFTOutput as C, NFTInputOrUriSchema as N, CommonNFTInput as a, setErc20Allowance as s };\n", "import { cv as AmountSchema } from './index-e7118e8b.browser.esm.js';\nimport { utils } from 'ethers';\nimport { f as fetchCurrencyMetadata } from './fetchCurrencyValue-27d660ae.browser.esm.js';\n\n/**\n *\n * @param provider - The provider to use\n * @param inputPrice - The input price to normalize\n * @param currencyAddress - The currency address to normalize the price for\n * @returns\n * @internal\n */\nasync function normalizePriceValue(provider, inputPrice, currencyAddress) {\n  const metadata = await fetchCurrencyMetadata(provider, currencyAddress);\n  return utils.parseUnits(AmountSchema.parse(inputPrice), metadata.decimals);\n}\n\nexport { normalizePriceValue as n };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAIA,IAAM,mBAAkC,MAAM,EAAE,OAAO,CAAC,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,4BAA0B,EAAE,QAAQ,CAAC,CAAC,CAAC,GAAG;AAKvH,IAAM,2BAA0C,MAAM,EAAE,MAAM,CAAC,EAAE,MAAM,eAAe,GAAG,eAAe,CAAC,EAAE,SAAS,EAAE,SAAS,GAAG;AAKlI,IAAM,iBAAgC,MAAM,EAAE,OAAO;AAAA,EACnD,MAAM,EAAE,MAAM,CAAC,EAAE,OAAO,GAAG,EAAE,OAAO,CAAC,CAAC,EAAE,SAAS,EAAE,SAAS;AAAA,EAC5D,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;AAAA,EACvD,OAAO,2BAA2B,SAAS,EAAE,SAAS;AAAA,EACtD,eAAe,2BAA2B,SAAS,EAAE,SAAS;AAChE,CAAC,GAAG;AAKJ,IAAM,kBAAiC,MAAM,cAAc,OAAO;AAAA,EAChE,cAAc,2BAA2B,SAAS,EAAE,SAAS;AAAA,EAC7D,kBAAkB,SAAS,SAAS,EAAE,SAAS;AAAA,EAC/C,YAAY;AAAA,EACZ,YAAY;AACd,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,4BAA0B,EAAE,QAAQ,CAAC,CAAC,CAAC,GAAG;AAK/D,IAAM,uBAAsC,MAAM,EAAE,MAAM,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC,GAAG;AAKzF,IAAM,mBAAkC,MAAM,eAAe,OAAO;AAAA,EAClE,IAAI,EAAE,OAAO;AAAA,EACb,KAAK,EAAE,OAAO;AAAA,EACd,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS;AAAA,EACtC,cAAc,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS;AAAA,EAC7C,eAAe,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS;AAChD,CAAC,GAAG;AAyBJ,eAAe,kBAAkB,mBAAmB,OAAO,iBAAiB,WAAW;AACrF,MAAI,cAAc,eAAe,GAAG;AAClC,cAAU,OAAO,IAAI;AAAA,EACvB,OAAO;AACL,UAAM,YAAY,MAAM,OAAO,sBAAkD,GAAG;AACpF,UAAM,SAAS,kBAAkB,UAAU;AAC3C,UAAM,WAAW,kBAAkB,YAAY;AAC/C,UAAM,QAAQ,IAAI,gBAAgB,UAAU,UAAU,iBAAiB,UAAU,kBAAkB,SAAS,kBAAkB,OAAO;AACrI,UAAM,QAAQ,MAAM,kBAAkB,iBAAiB;AACvD,UAAM,UAAU,kBAAkB;AAClC,UAAM,YAAY,MAAM,MAAM,KAAK,aAAa,CAAC,OAAO,OAAO,CAAC;AAChE,QAAI,UAAU,GAAG,KAAK,GAAG;AAEvB,YAAM,MAAM,gBAAgB,WAAW,CAAC,SAAS,KAAK,CAAC;AAAA,IACzD;AACA,WAAO;AAAA,EACT;AACF;;;ACtFA;AAWA,eAAe,oBAAoB,UAAU,YAAY,iBAAiB;AACxE,QAAM,WAAW,MAAM,sBAAsB,UAAU,eAAe;AACtE,SAAO,cAAM,WAAW,aAAa,MAAM,UAAU,GAAG,SAAS,QAAQ;AAC3E;",
  "names": []
}
