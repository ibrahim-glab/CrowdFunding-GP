{
  "version": 3,
  "sources": ["../../@thirdweb-dev/sdk/dist/setErc20Allowance-0fd3045e.browser.esm.js", "../../@thirdweb-dev/sdk/dist/normalizePriceValue-ee13e65c.browser.esm.js"],
  "sourcesContent": ["import { cw as BigNumberTransformSchema, cx as FileOrBufferOrStringSchema, cy as HexColor, cq as ContractWrapper } from './index-e7118e8b.browser.esm.js';\r\nimport { z } from 'zod';\r\nimport { i as isNativeToken } from './fetchCurrencyValue-27d660ae.browser.esm.js';\r\n\r\nconst PropertiesInput = /* @__PURE__ */(() => z.object({}).catchall(z.union([BigNumberTransformSchema, z.unknown()])))();\r\n\r\n/**\r\n * @internal\r\n */\r\nconst OptionalPropertiesInput = /* @__PURE__ */(() => z.union([z.array(PropertiesInput), PropertiesInput]).optional().nullable())();\r\n\r\n/**\r\n * @internal\r\n */\r\nconst BasicNFTInput = /* @__PURE__ */(() => z.object({\r\n  name: z.union([z.string(), z.number()]).optional().nullable(),\r\n  description: z.string().nullable().optional().nullable(),\r\n  image: FileOrBufferOrStringSchema.nullable().optional(),\r\n  animation_url: FileOrBufferOrStringSchema.optional().nullable()\r\n}))();\r\n\r\n/**\r\n * @internal\r\n */\r\nconst CommonNFTInput = /* @__PURE__ */(() => BasicNFTInput.extend({\r\n  external_url: FileOrBufferOrStringSchema.nullable().optional(),\r\n  background_color: HexColor.optional().nullable(),\r\n  properties: OptionalPropertiesInput,\r\n  attributes: OptionalPropertiesInput\r\n}).catchall(z.union([BigNumberTransformSchema, z.unknown()])))();\r\n\r\n/**\r\n * @internal\r\n */\r\nconst NFTInputOrUriSchema = /* @__PURE__ */(() => z.union([CommonNFTInput, z.string()]))();\r\n\r\n/**\r\n * @internal\r\n */\r\nconst CommonNFTOutput = /* @__PURE__ */(() => CommonNFTInput.extend({\r\n  id: z.string(),\r\n  uri: z.string(),\r\n  image: z.string().nullable().optional(),\r\n  external_url: z.string().nullable().optional(),\r\n  animation_url: z.string().nullable().optional()\r\n}))();\r\n\r\n/**\r\n * @public\r\n */\r\n\r\n/**\r\n * @public\r\n */\r\n\r\n/**\r\n * @public\r\n */\r\n\r\n/**\r\n * @public\r\n */\r\n\r\n/**\r\n * @public\r\n */\r\n\r\n/**\r\n * @internal\r\n */\r\nasync function setErc20Allowance(contractToApprove, value, currencyAddress, overrides) {\r\n  if (isNativeToken(currencyAddress)) {\r\n    overrides[\"value\"] = value;\r\n  } else {\r\n    const ERC20Abi = (await import('@thirdweb-dev/contracts-js/dist/abis/IERC20.json')).default;\r\n    const signer = contractToApprove.getSigner();\r\n    const provider = contractToApprove.getProvider();\r\n    const erc20 = new ContractWrapper(signer || provider, currencyAddress, ERC20Abi, contractToApprove.options, contractToApprove.storage);\r\n    const owner = await contractToApprove.getSignerAddress();\r\n    const spender = contractToApprove.address;\r\n    const allowance = await erc20.read(\"allowance\", [owner, spender]);\r\n    if (allowance.lt(value)) {\r\n      // approve overrides the previous allowance, set it to the minimum required for this tx\r\n      await erc20.sendTransaction(\"approve\", [spender, value]);\r\n    }\r\n    return overrides;\r\n  }\r\n}\r\n\r\nexport { BasicNFTInput as B, CommonNFTOutput as C, NFTInputOrUriSchema as N, CommonNFTInput as a, setErc20Allowance as s };\r\n", "import { cv as AmountSchema } from './index-e7118e8b.browser.esm.js';\r\nimport { utils } from 'ethers';\r\nimport { f as fetchCurrencyMetadata } from './fetchCurrencyValue-27d660ae.browser.esm.js';\r\n\r\n/**\r\n *\r\n * @param provider - The provider to use\r\n * @param inputPrice - The input price to normalize\r\n * @param currencyAddress - The currency address to normalize the price for\r\n * @returns\r\n * @internal\r\n */\r\nasync function normalizePriceValue(provider, inputPrice, currencyAddress) {\r\n  const metadata = await fetchCurrencyMetadata(provider, currencyAddress);\r\n  return utils.parseUnits(AmountSchema.parse(inputPrice), metadata.decimals);\r\n}\r\n\r\nexport { normalizePriceValue as n };\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAIA,IAAM,mBAAkC,MAAM,EAAE,OAAO,CAAC,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,4BAA0B,EAAE,QAAQ,CAAC,CAAC,CAAC,GAAG;AAKvH,IAAM,2BAA0C,MAAM,EAAE,MAAM,CAAC,EAAE,MAAM,eAAe,GAAG,eAAe,CAAC,EAAE,SAAS,EAAE,SAAS,GAAG;AAKlI,IAAM,iBAAgC,MAAM,EAAE,OAAO;AAAA,EACnD,MAAM,EAAE,MAAM,CAAC,EAAE,OAAO,GAAG,EAAE,OAAO,CAAC,CAAC,EAAE,SAAS,EAAE,SAAS;AAAA,EAC5D,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;AAAA,EACvD,OAAO,2BAA2B,SAAS,EAAE,SAAS;AAAA,EACtD,eAAe,2BAA2B,SAAS,EAAE,SAAS;AAChE,CAAC,GAAG;AAKJ,IAAM,kBAAiC,MAAM,cAAc,OAAO;AAAA,EAChE,cAAc,2BAA2B,SAAS,EAAE,SAAS;AAAA,EAC7D,kBAAkB,SAAS,SAAS,EAAE,SAAS;AAAA,EAC/C,YAAY;AAAA,EACZ,YAAY;AACd,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,4BAA0B,EAAE,QAAQ,CAAC,CAAC,CAAC,GAAG;AAK/D,IAAM,uBAAsC,MAAM,EAAE,MAAM,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC,GAAG;AAKzF,IAAM,mBAAkC,MAAM,eAAe,OAAO;AAAA,EAClE,IAAI,EAAE,OAAO;AAAA,EACb,KAAK,EAAE,OAAO;AAAA,EACd,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS;AAAA,EACtC,cAAc,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS;AAAA,EAC7C,eAAe,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS;AAChD,CAAC,GAAG;AAyBJ,eAAe,kBAAkB,mBAAmB,OAAO,iBAAiB,WAAW;AACrF,MAAI,cAAc,eAAe,GAAG;AAClC,cAAU,OAAO,IAAI;AAAA,EACvB,OAAO;AACL,UAAM,YAAY,MAAM,OAAO,sBAAkD,GAAG;AACpF,UAAM,SAAS,kBAAkB,UAAU;AAC3C,UAAM,WAAW,kBAAkB,YAAY;AAC/C,UAAM,QAAQ,IAAI,gBAAgB,UAAU,UAAU,iBAAiB,UAAU,kBAAkB,SAAS,kBAAkB,OAAO;AACrI,UAAM,QAAQ,MAAM,kBAAkB,iBAAiB;AACvD,UAAM,UAAU,kBAAkB;AAClC,UAAM,YAAY,MAAM,MAAM,KAAK,aAAa,CAAC,OAAO,OAAO,CAAC;AAChE,QAAI,UAAU,GAAG,KAAK,GAAG;AAEvB,YAAM,MAAM,gBAAgB,WAAW,CAAC,SAAS,KAAK,CAAC;AAAA,IACzD;AACA,WAAO;AAAA,EACT;AACF;;;ACtFA;AAWA,eAAe,oBAAoB,UAAU,YAAY,iBAAiB;AACxE,QAAM,WAAW,MAAM,sBAAsB,UAAU,eAAe;AACtE,SAAO,cAAM,WAAW,aAAa,MAAM,UAAU,GAAG,SAAS,QAAQ;AAC3E;",
  "names": []
}
